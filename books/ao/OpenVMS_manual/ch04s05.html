<html>
<!-- Mirrored from tinco.pair.com/bhaskar/gtm/doc/books/ao/OpenVMS_manual/ch04s05.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Mar 2019 11:49:06 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Name, Region, and Segment Qualifiers</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="GT.M Administration and Operations Guide"><link rel="up" href="ch04.html" title="Chapter 4. Global Directory Editor"><link rel="prev" href="ch04s04.html" title="Global Directory Editor Commands"><link rel="next" href="ch04s06.html" title="GDE Command Summary"><link rel="copyright" href="ln-id3218893.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Name, Region, and Segment Qualifiers</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s04.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Global Directory Editor</th><td width="20%" align="right"> <a accesskey="n" href="ch04s06.html">Next</a></td></tr></table><hr></div><div class="sect1" title="Name, Region, and Segment Qualifiers"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="name_region_and_segment_qualifiers"></a>Name, Region, and Segment Qualifiers<a class="indexterm" name="id3225237"></a></h2></div></div></div><p>The <span>/</span>NAME, <span>/</span>REGION, and <span>/</span>SEGMENT qualifiers each have additional qualifiers used to further define or specify characteristics of a name, region, or segment. This section describes these additional qualifiers.</p><div class="sect2" title="Name Qualifiers"><div class="titlepage"><div><div><h3 class="title"><a name="name_qualifiers"></a>Name Qualifiers<a class="indexterm" name="id3225340"></a></h3></div></div></div><p>The following <span>/</span>NAME qualifier can be used with the ADD or CHANGE commands.</p><pre class="programlisting">/REGION=region-name Applies to: BG MM</pre><p>Specifies the name of a region. Region names are not case-sensitive, but are
represented as uppercase by GDE.</p><p>The minimum length is one alphabetic character. </p><p>The maximum length is 16 alphanumeric characters.</p><p>Example:</p><pre class="programlisting">DE&gt; ADD /NAME A* /REGION=AREG</pre><p>This command creates the NAME-space A* if it does not exist, and maps it to the region AREG.</p><div class="sect3" title="Name Qualifier Summary"><div class="titlepage"><div><div><h4 class="title"><a name="name_qauli_summ"></a>Name Qualifier Summary<a class="indexterm" name="id3225395"></a></h4></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th colspan="4">
<p>GDE NAME Qualifiers</p>
</th></tr><tr><th>
<p>QUALIFIER</p>
</th><th>
<p>DEFAULT</p>
</th><th>
<p>MINIMUM</p>
</th><th>
<p>MAXIMUM</p>
</th></tr></thead><tbody><tr><td>
<p><span>/</span>R[EGION]=region-name (characters)</p>
</td><td>
<p>(none)</p>
</td><td>
<p>1A</p>
</td><td>
<p>16A/N</p>
</td></tr></tbody></table></div></div></div><div class="sect2" title="Region Qualifiers"><div class="titlepage"><div><div><h3 class="title"><a name="region_qualifi_summ"></a>Region Qualifiers<a class="indexterm" name="id3225183"></a></h3></div></div></div><p>The following <span>/</span>REGION qualifiers can be used with the ADD, CHANGE, or TEMPLATE commands. </p><p>
<span class="emphasis"><em>
<span>/</span>C[OLLATION_SEQUENCE]=id number <span>Applies to: BG MM</span>
</em></span>
</p><p>The minimum COLLATION_SEQUENCE ID number is zero, which is the standard M
collation sequence.</p><p>/COLLATION_SEQUENCE=ID number specifies the number of the collation
sequence definition to be used as the default for this database file. The number
can be any integer between zero (0) and 255. The number you assign as a value
must match the number of a defined collation sequence that resides in the
executable image pointed to by the logical name GTM_COLLATE_n. For information
on defining this logical name and creating an alternative collation sequence,
refer to the "Internationalization" chapter in the <a class="ulink" href="../../pg/VMS_manual/index.html" target="_top">GT.M Programmer's Guide</a>.</p><p>The maximum COLLATION_SEQUENCE ID number is 255.</p><p>By default, GDE uses zero (0) as the COLLATION_SEQUENCE ID.</p><p>
<span class="emphasis"><em>
<span>/</span>D[YNAMIC_SEGMENT]=segment-name <span>Applies to: BG MM</span>
</em></span>
</p><p>Specifies the name of the segment to which the region is mapped. Segment-names
are not case-sensitive, but are displayed as uppercase by GDE.</p><p>The minimum length is one alphabetic character. </p><p>The maximum length is 16 alphanumeric characters.</p><p>
<span class="emphasis"><em>
<span>/</span>K[EY_SIZE]=size in bytes <span>Applies to: BG
MM</span>
</em></span>
</p><p>Specifies the maximum size of keys, in bytes, which can be stored in the
region. The KEY_SIZE must be less than the RECORD_SIZE. GDE rejects the command
if the KEY_SIZE is inappropriate for the RECORD_SIZE.</p><p>The minimum KEY_SIZE is three bytes. </p><p>The maximum KEY_SIZE is 255 bytes. </p><p>By default, GDE uses a KEY_SIZE of 64 bytes.</p><p>
<span class="emphasis"><em>
<span>/</span>R[ECORD_SIZE]=size in bytes <span>Applies to: BG MM</span>
</em></span>
</p><p>Specifies the maximum RECORD_SIZE, in bytes, which can be stored in the
region. The KEY_SIZE must be less than the RECORD_SIZE. GDE rejects the command
if the KEY_SIZE is inappropriate for the RECORD_SIZE.</p><p>If the RECORD_SIZE is greater than the BLOCK_SIZE minus the number of reserved
bytes, minus the size of the record header (7 or 8 bytes, depending on your
platform), GDE issues an error message.</p><p>The minimum RECORD_SIZE is seven or eight, depending on your platform.</p><p>The maximum RECORD_SIZE is 32,767 bytes.</p><p>By default, GDE uses a RECORD_SIZE of 256 bytes.</p><p>
<span class="emphasis"><em>
<span>/</span>[NO]N[ULL_SUBSCRIPTS]  <span>Applies to: BG MM</span>
</em></span>
</p><p>Indicates whether GT.M allows null subscripts for global variables stored in
the region (i.e., whether GT.M permits references such as ^aaa("",1)).</p><p>By default, regions have <span>/</span>NONULL_SUBSCRIPTS.</p><p>
<span class="emphasis"><em>
<span>/</span>[NO]J[OURNAL][=journal-option-list]  <span>Applies to: BG MM</span>
</em></span>
</p><p>Specifies whether the database file allows journaling. If it does, this
qualifier establishes characteristics for the journal file.</p><p>

<span>/</span>NOJOURNAL specifies that updates to the database file are not journaled. 
<span>/</span>NOJOURNAL does not accept an argument assignment.</p><p>
<span>/</span>JOURNAL specifies that journaling is allowed. 
<span>/</span>JOURNAL takes one or more arguments in a journal-option-list. The journal-option-list contains keywords separated with commas (,) enclosed in parentheses ( ). If the list contains only one keyword, the parentheses are optional.</p><p>Although you do not have to establish the criteria for your journaling process
at this point, it is efficient to do so, even if you are not entirely sure you
will use journaling. The options available for <span>/</span>JOURNAL set up the environment, so it is ready for you to enable with MUPIP SET <span>/</span>JOURNAL. You can also change or add any of the established options at that time.</p><p>For more information about journaling, see <a class="xref" href="ch06.html" title="Chapter 6. GT.M Journaling">Chapter 6: &#8220;<i>GT.M Journaling</i>&#8221;</a>. </p><p>The journal-option-list includes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>[NO]BE[FORE_IMAGE]</p></li><li class="listitem"><p>F[ILE_NAME]=file-specification-name</p></li><li class="listitem"><p>A[LLOCATION]=blocks</p></li><li class="listitem"><p>E[XTENSION]=blocks</p></li><li class="listitem"><p>BU[FFER_SIZE]=pages</p></li></ul></div><p>The following section describes some <span>/</span>JOURNAL options.</p><p>
<span class="emphasis"><em>
<span>/</span>[NO]BE[FORE_IMAGE]  <span>Applies to: BG MM</span>
</em></span>
</p><p>[NO]BEFORE_IMAGE controls whether the journal should capture before images of
information that an update is about to modify.</p><p>The BEFORE_IMAGE option is required if you plan to consider "roll-back"
(Backward) recovery of the associated database file or if you plan to use
certain database replication options. For a description of this type of recovery, see <a class="xref" href="ch06.html" title="Chapter 6. GT.M Journaling">Chapter 6: &#8220;<i>GT.M Journaling</i>&#8221;</a>. </p><p>
<span class="emphasis"><em>
<span>/</span>F[ILE_NAME]=<span>file-specification</span> <span>Applies to: BG
MM</span>
</em></span>
</p><p>
Specifies the name of the journal file.</p><p>The name should always be enclosed in quotation marks in this context.</p><p>Journal file-specifications-names are limited to 255 characters.</p><p>By default, GDE derives the file-specification-name from the database <span>file-specification</span>.</p><p>By default, GDE uses a journal file extension of <span>.MJL</span>. </p><p>
<span class="emphasis"><em>/A[LLOCATION]=blocks Applies to: BG MM</em></span>
</p><p>ALLOCATION=blocks specifies the initial size of the journal file in
RMS blocks. The default ALLOCATION was chosen for small development projects.
Because frequent journal file extensions degrade run-time performance, make
journal file ALLOCATION ample for a production database file.</p><p>When you change the ALLOCATION and do not also specify EXTENSION, the
EXTENSION automatically changes to equal the ALLOCATION.</p><p>The minimum allocation is 10 blocks.</p><p>The maximum allocation is 16777216 blocks.</p><p>By default, GDE uses an allocation of 100 blocks.</p><p>/E[XTENSION]=blocks Applies to: BG MM</p><p>EXTENSION=blocks specifies the size by which a journal file extends
when it becomes full. EXTENSION=0 prevents automatic journal file extension. The
default EXTENSION amount was chosen for small development projects. Use larger
extensions for larger files. Because frequent journal file extensions degrade
run-time performance, make the journal file EXTENSION ample for a production
database file.</p><p>When you change the ALLOCATION and do not also specify EXTENSION, the
EXTENSION automatically changes to equal the ALLOCATION.</p><p>The minimum EXTENSION is zero blocks.</p><p>The maximum EXTENSION is 65535 blocks.</p><p>By default, GDE uses an EXTENSION of 100 blocks.</p><p>
<span class="emphasis"><em>/BU[FFER_SIZE]=pages Applies to: BG MM</em></span>
</p><p>BUFFER_SIZE=pages specifies the amount of memory used to buffer
journal file output. A larger BUFFER_SIZE usually smooths and improves run-time
performance.</p><p>A larger BUFFER_SIZE requires more memory resources, which may be
scarce. </p><p>The minimum BUFFER_SIZE is enough 512-byte pages to hold two GDS
database blocks.</p><p>The maximum BUFFER_SIZE is 2000 pages.</p><p>By default, GDE uses a BUFFER_SIZE of 128 pages.</p><div class="sect3" title="Region Qualifier Summary"><div class="titlepage"><div><div><h4 class="title"><a name="reg_qualifiers_summ"></a>Region Qualifier Summary<a class="indexterm" name="id3226076"></a></h4></div></div></div><p>The following table summarizes GDE region qualifiers. It provides their
abbreviations, defaults (as provided by FIS), and
allowable minimum and maximum values.</p><div class="informaltable"><table width="100%" border="1"><colgroup><col><col><col><col><col><col></colgroup><thead><tr><th colspan="6">
<p>GDE REGION Qualifiers</p>
</th></tr><tr><th>
<p>Qualifier</p>
</th><th>
<p>Default</p>
</th><th>
<p>Minimum</p>
</th><th>
<p>Maximum</p>
</th><th colspan="2">
<p>ACCESS METHOD</p>
</th></tr></thead><tbody><tr><td>
<p>-</p>
</td><td>
<p>-</p>
</td><td>
<p>-</p>
</td><td>
<p>-</p>
</td><td>
<p>BG</p>
</td><td>
<p>MM</p>
</td></tr><tr><td>
<p>/C[OLLATION_SEQUENCE]=id-number (integer)</p>
</td><td>
<p>0</p>
</td><td>
<p>0</p>
</td><td>
<p>255</p>
</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr><tr><td>
<p>/D[YNAMIC_SEGMENT] =segment-name (char)</p>
</td><td>
-</td><td>
<p>1</p>
</td><td>
<p>16</p>
</td><td class="auto-generated"> </td><td class="auto-generated"> </td></tr><tr><td>
<p>/K[EY_SIZE]=size in bytes (integer)</p>
</td><td>
<p>64</p>
</td><td>
<p>3</p>
</td><td>
<p>255</p>
</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr><tr><td>
<p>/R[ECORD_SIZE]=size in bytes (integer)</p>
</td><td>
<p>256</p>
</td><td>
<p>7</p>
</td><td>
<p>32,767</p>
</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr><tr><td>
<p>/[NO]N[ULL_SUBSCRIPTS]</p>
</td><td>
<p>NON</p>
</td><td>-</td><td>-</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr><tr><td>
<p>/[NO]J[OURNAL] [=journal-option-list]</p>
</td><td>-</td><td>-</td><td>-</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr><tr><td>
<p>/NO]BE[FORE_IMAGE]</p>
</td><td>-</td><td>-</td><td>-</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr><tr><td>
<p>/F[ILE_NAME]=file-name (char)</p>
</td><td>
<p>database file- name</p>
</td><td>-</td><td>
<p>255</p>
</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr></tbody></table></div></div><div class="sect3" title="Journal Option List Summary"><div class="titlepage"><div><div><h4 class="title"><a name="jrnl_option_list_summ"></a>Journal Option List Summary<a class="indexterm" name="id3226082"></a></h4></div></div></div><p>With GDE, you can create the journal files and define the journal parameters; however, you must use
MUPIP SET to actually enable journaling.</p><p>For information on all Journal options and their allowable minimum and maximum values, see <a class="xref" href="ch06.html" title="Chapter 6. GT.M Journaling">Chapter 6: &#8220;<i>GT.M Journaling</i>&#8221;</a>. </p></div></div><div class="sect2" title="Segment Qualifiers"><div class="titlepage"><div><div><h3 class="title"><a name="segment_qualifiers"></a>Segment Qualifiers<a class="indexterm" name="id3226433"></a></h3></div></div></div><p>The following <span>/</span>SEGMENT qualifiers can be used with the ADD, CHANGE, or TEMPLATE commands.</p><p>
<span class="emphasis"><em>
<span>/</span>AC[CESS_METHOD]=code <span>Applies to: BG MM</span>
</em></span>
</p><p>Specifies the access method or the GT.M buffering strategy for storing and retrieving data from the global database file. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>code can have 2 values - Buffered Global (BG) or Memory Mapped (MM). The default value is BG. </p></li><li class="listitem"><p>With BG, the global buffer pool manages the buffers (the OS/file system may also provide additional buffering). You get the choice of using BEFORE_IMAGE or NOBEFORE_IMAGE journaling for your database. For details on the implications of these forms of Journaling, see <a class="xref" href="ch06.html" title="Chapter 6. GT.M Journaling">Chapter 6: &#8220;<i>GT.M Journaling</i>&#8221;</a>.</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>BG supports both forward and backward recovery and rollback to recover a database without a restore. For more information forward and backward recovery and rollback, see <a class="xref" href="ch05.html" title="Chapter 5. MUPIP">Chapter 5: &#8220;<i>MUPIP</i>&#8221;</a>. </p></li><li class="listitem"><p>BG is a likely choice when you need faster recovery times from system failures.</p></li></ul></div></li><li class="listitem"><p>With MM, GT.M bypasses the global buffer pool and relies entirely on the OS/file system to manage the data traffic between memory and disk. GT.M has no control over the timing of disk updates, therefore there is a greater reliance on the OS/file system for database performance.</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>MM supports NOBEFORE_IMAGE journaling only. GT.M triggers an error if you use MM with BEFORE_IMAGE Journaling. MM also supports MUPIP FORWARD <span>/</span>RECOVER and MUPIP JOURNAL <span>/</span>ROLLBACK with the <span>/</span>RESYNC or <span>/</span>FETCHRESYNC qualifiers to generate lost and broken transaction files. For more information, see the Journaling chapter.</p></li><li class="listitem"><p> MM does not support backward recovery/rollback.  </p></li><li class="listitem"><p>MM is a possible choice when you need performance advantage in situations where the above restrictions are acceptable.</p></li></ul></div></li><li class="listitem"><p>GDE maintains a separate set of segment qualifier values for each ACCESS_METHOD. </p></li><li class="listitem"><p>When GDE modifies the ACCESS_METHOD, it activates the appropriate set of TEMPLATEs and sets all unspecified qualifiers to the default values of the new ACCESS_METHOD.</p></li></ul></div><p>Example: </p><pre class="programlisting">GDE&gt; change /segment DEFAULT /access_method=MM </pre><p>This command sets MM as the access method or the GT.M buffering strategy for storing and retrieving database for segment DEFAULT.</p><p>
<span class="emphasis"><em>
<span>/</span>AL[LOCATION]=blocks 
</em></span> 
</p><p>Specifies the number of blocks GT.M allocates to a disk file when MUPIP creates the file. For GDS files, the number of bytes allocated is the size of the database file header plus the ALLOCATION size times the BLOCK_SIZE. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The minimum ALLOCATION is 10 blocks. </p></li><li class="listitem"><p>The maximum ALLOCATION is 16777216 blocks.</p></li><li class="listitem"><p>By default, GDE uses an ALLOCATION of 100 blocks.</p></li><li class="listitem"><p>The default ALLOCATION was chosen for initial development and experimentation with GT.M. Because file fragmentation impairs performance, make the initial allocation for production files and large projects large enough to hold the anticipated contents of the file for a length of time consistent with your UNIX file reorganization schedule.</p></li></ul></div><p>
<span class="emphasis"><em>
<span>/</span>BL[OCK_SIZE]=size <span>Applies to: BG MM</span>
</em></span>
</p><p>Specifies the size, in bytes, of each database block in the file system. The BLOCK_SIZE
must be a multiple of 512. If the BLOCK_SIZE is not a
multiple of 512, GDE rounds off the BLOCK_SIZE to the next highest multiple of
512 and issues a warning message.</p><p>If the specified BLOCK_SIZE is less than the minimum, GDE uses the minimum
BLOCK_SIZE. If the specified BLOCK_SIZE is greater than the maximum, GDE issues
an error message.</p><p>A BLOCK_SIZE that is equal to the page size used by your UNIX implementation
serves well for most applications, and is a good starting point.</p><p>You should determine the block sizes for your application through performance
timing and benchmarking. In general, larger block sizes are more efficient from
the perspective of the input/output subsystem. However, larger block sizes use
more system resources (CPU and shared memory) and may increase collision and retry rates
for transaction processing.</p><p>GDE does not allow you to change the block size to an arbitrary number. It
always rounds the block size to the next higher multiple of 512, because the
database block size must always be a multiple of 512.</p><p>The minimum BLOCK_SIZE is 512 bytes.</p><p>The maximum BLOCK_SIZE is 65,024 bytes.</p><p>By default, GDE uses a BLOCK_SIZE of 1024 bytes for BG and MM files.</p><p>
   <span class="emphasis"><em><span>/</span>[NO]ENcryption </em></span>
</p><p>Specifies whether or not the database file for a segment is flagged for encryption. Note that MUPIP CREATE acquires an encryption key for this file and puts a cryptographic hash of the key in the database file header. </p><p>
<span class="emphasis"><em>
<span>/</span>EX[TENSION_COUNT]=blocks <span>Applies to: BG MM</span>
</em></span>
</p><p>Specifies the number of extra GDS blocks of disk space by which the file
should extend. The extend amount is interpreted as the number of usable GDS
blocks to create with the extension. To calculate the number of host operating
system blocks added with each extension, multiply the number of GDS blocks added
by (GDS BLOCK_SIZE/host BLOCK_SIZE); add one local bitmap block for each 512
blocks added in each extension to the amount from step 1. If the extension is
not a multiple of 512, remember to roundup when figuring the number of bitmap
blocks.</p><p>When a MUPIP EXTEND command does not include a <span>/</span>BLOCKS= qualifier, EXTEND uses the
extension size in the database header.</p><p>BG files may extend automatically when the file is full. A zero
extension size prevents a BG file from automatically extending. GDS files may be
extended with MUPIP EXTEND, even when there are other processes accessing the
database. </p><p>MM files must be extended with MUPIP EXTEND when there is no process
accessing the database. </p><p>The extension amount may be changed with the MUPIP SET command. To
force explicit expansion for BG files with MUPIP EXTEND, set /EXTENSION_COUNT to
zero.</p><p>The extension amount may be changed with the MUPIP SET command. </p><p>The minimum EXTENSION is zero blocks.</p><p>The maximum EXTENSION is 65,535 blocks.</p><p>By default, GDE uses an EXTENSION of 100 blocks.</p><p>Like allocation, the default extension amount was chosen for initial
development and experimentation with GT.M projects. Use larger extensions for
larger files. Because multiple file extensions adversely affect performance, set
up extensions appropriate to the file allocation.</p><p>
   <span class="emphasis"><em><span>/</span>F[ILE_NAME]=<span>file-spec</span> <span>Applies to BG MM</span></em></span>
</p><p>Specifies the file for a segment. </p><p>GT.M allows full file-specifications and logical names. Note that if
the file specification is a search list, the first file in the list is used and
all others are ignored. GT.M allows the use of logical names in the
filename.</p><p>The maximum file name length is 255 characters. </p><p>By default, GDE uses a file-name of MUMPS and a .DAT file
extension.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Database and journal files that have a large number of extensions may
require unexpectedly large values of the BYTLM quota. Refer to the
"Installing GT.M" chapter for more information.</p></td></tr></table></div><p>
<span class="emphasis"><em>
<span>/</span>G[LOBAL_BUFFER_COUNT]=size  <span>Applies to: BG MM</span>
</em></span>
</p><p>Specifies the number of global buffers for a file. Global buffers reside in
shared memory and are part of the database caching mechanisms. Global buffers do
not apply to MM databases.</p><p>Choose the settings for this qualifier carefully. Small numbers of global
buffers tend to throttle database performance. However, if your system has
limited memory and the database file traffic is not heavy enough to hold the
cache in memory, increasing GLOBAL_BUFFER_COUNT may trigger <span>OpenVMS</span> paging. </p><p>If database global buffers are paged out, it may result in poor performance.
Therefore, do not increase this factor to a large value without careful
observation.</p><p>The proper number of GLOBAL_BUFFERs depends on the application and the amount
of primary memory available on the system. Most production databases exhibit a
direct relationship between the number of GLOBAL_BUFFERs and performance.
However, the relationship is not linear, but asymptotic, so that increases past
some point have progressively less benefit. This point of diminishing returns
depends on the application. For most applications, FIS expects the optimum number of GLOBAL_BUFFERs to be between 1K and 64K. </p><p>The maximum number of database blocks that can be modified by a
transaction is half the number of global buffers. In practice, few applications
are expected to have such large transactions that can degrade
performance.</p><p>Generally, you should increase the number of GLOBAL_BUFFERs for production GDS
databases. This is because GT.M uses the shared memory database cache associated
with each GDS file for the majority of caching. </p><p>The minimum for BG is 64 blocks. </p><p>Values under 250 are not recommended, even for development.</p><p>The maximum for BG is normally 65,536 blocks, but may vary depending on your platform. </p><p>By default, GDE uses a GLOBAL_BUFFER_COUNT that is appropriate for the typical
size of the platform. The most common value is 1024 blocks. Increases above the
default for your platform may require modifications to your UNIX kernel
configuration.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>If global buffers are "paged out," improvements in system performance
resulting from more global buffers will be more than offset by the dramatic
slowdown that results from globals buffers that are "paged out."</p></td></tr></table></div><p>
<span class="emphasis"><em>/NO]D[EFER] Applies to: MM</em></span>
</p><p>Instructs GT.M whether or not to store updates on the disk
immediately.</p><p>DEFER has a significant performance benefit for database files that
are heavily updated. However, DEFER should only be used for segments files,
(such as those containing temporary storage for reports) that can be recreated
if the system crashes.</p><p>By default, GDE makes MM database files /DEFER.</p><p>
<span class="emphasis"><em>
<span>/</span>L[OCK_SPACE]=<span>pages Applies to: BG MM</span>
</em></span>
</p><p>Specifies the number of pages of space to use for the lock database stored
with this segment. If GT.M runs out of space to store locks, LOCKS become
somewhat less efficient. If the process accumulates locks and does not release
them, it will deadlock at a point that is a function of the LOCK_SPACE. </p><p>The minimum LOCK_SPACE is 10 pages.</p><p>The maximum LOCK_SPACE is 64K pages for BG and 1,000 pages for MM.</p><p>By default, GDE uses a LOCK_SPACE of 40 pages.</p><p>LOCK_SPACE usage depends on the number of locks and the number of processes waiting for locks. To estimate lock space needs, here is a rule of thumb:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>1.5KB overhead for the lock space, plus</p></li><li class="listitem"><p>640 bytes for each lock base name, plus</p></li><li class="listitem"><p>128 bytes for each subscript, plus</p></li><li class="listitem"><p>128 bytes for each waiting process.</p></li></ul></div><p>Generally, you would limit LOCK_SPACE when memory is scarce or you want to be made aware of unexpected levels of LOCK usage. For most other cases, there is no reason to limit the LOCK_SPACE. If you are introducing new code, FIS recommends using TSTART and TCOMMIT as a more efficient alternate for most LOCKs because it pushes the responsibility for Isolation onto GT.M, which internally manages them with optimistic algorithms.</p><p>
<span class="emphasis"><em>
<span>/</span>R[ESERVED_BYTES]=size <span>Applies to: BG MM</span>
</em></span>
</p><p>Specifies the size to be reserved in each database block. RESERVED_BYTES is
generally used to reserve room for compatibility with other implementations of M
or to observe communications protocol restrictions. RESERVED_BYTES may also be
used as a user-managed fill factor.</p><p>The minimum RESERVED_BYTES is zero bytes.</p><p>The maximum Reserved_Bytes is the block size minus the size of the block
header (which is 7 or 8 depending on your platform) minus the maximum record
size. </p><p>By default, GDE uses a RESERVED_BYTES size of zero bytes.</p><div class="sect3" title="Segment Qualifier Summary"><div class="titlepage"><div><div><h4 class="title"><a name="segment_qualify_summ"></a>Segment Qualifier Summary<a class="indexterm" name="id3227066"></a></h4></div></div></div><p>The following table summarizes GDE segment qualifiers. It provides
abbreviations, defaults (as provided by FIS), and
allowable minimum and maximum values.</p><div class="informaltable"><table width="100%" border="1"><colgroup><col><col><col><col><col><col></colgroup><thead><tr><th colspan="6">
<p>GDE /JOURNAL Option List</p>
</th></tr><tr><th>
<p>QUALIFIER</p>
</th><th>
<p>DEFAULT</p>
</th><th>
<p>MINIMUM</p>
</th><th>
<p>MAXIMUM</p>
</th><th colspan="2">
<p>ACCESS METHOD</p>
</th></tr></thead><tfoot><tr><th colspan="6">
<p>* The default file-name is the same as the database
file-name and the default type is .MJL.</p>
</th></tr></tfoot><tbody><tr><td>
<p>-</p>
</td><td>
<p>-</p>
</td><td>
<p>-</p>
</td><td>
<p>-</p>
</td><td>
<p>BG</p>
</td><td>
<p>MM</p>
</td></tr><tr><td>
<p>[NO]BE[FORE_IMAGE]</p>
</td><td>-</td><td>-</td><td>-</td><td>
<p>X</p>
</td><td>
<p>-</p>
</td></tr><tr><td>
<p>F[ILE_NAME]=file-spec</p>
</td><td>
<p>*</p>
</td><td>
<p>1 char</p>
</td><td>
<p>255 chars</p>
</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr><tr><td>
<p>A[LLOCATION]=blocks</p>
</td><td>
<p>100</p>
</td><td>
<p>10</p>
</td><td>
<p>2**24</p>
</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr><tr><td>
<p>E[XTENSION]=blocks</p>
</td><td>
<p>100</p>
</td><td>
<p>0</p>
</td><td>
<p>65535</p>
</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr><tr><td>
<p>BU[FFER_SIZE]=pages</p>
</td><td>
<p>128</p>
</td><td>
<p>512 *</p>
<p>2 GDS blocks</p>
</td><td>
<p>2000</p>
</td><td>
<p>X</p>
</td><td>
<p>X</p>
</td></tr></tbody></table></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s04.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s06.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Global Directory Editor Commands </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> GDE Command Summary</td></tr></table></div></body>
<!-- Mirrored from tinco.pair.com/bhaskar/gtm/doc/books/ao/OpenVMS_manual/ch04s05.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Mar 2019 11:49:06 GMT -->
</html>
