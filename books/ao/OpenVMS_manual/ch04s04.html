<html>
<!-- Mirrored from tinco.pair.com/bhaskar/gtm/doc/books/ao/OpenVMS_manual/ch04s04.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Mar 2019 11:49:05 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Global Directory Editor Commands</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="GT.M Administration and Operations Guide"><link rel="up" href="ch04.html" title="Chapter 4. Global Directory Editor"><link rel="prev" href="ch04s03.html" title="Using GDE"><link rel="next" href="ch04s05.html" title="Name, Region, and Segment Qualifiers"><link rel="copyright" href="ln-id3218893.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Global Directory Editor Commands</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s03.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Global Directory Editor</th><td width="20%" align="right"> <a accesskey="n" href="ch04s05.html">Next</a></td></tr></table><hr></div><div class="sect1" title="Global Directory Editor Commands"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gde_cmmds"></a>Global Directory Editor Commands</h2></div></div></div><p>This section describes the GDE commands. GDE allows abbreviations of commands. The
section describing each command provides the minimum abbreviation for that command
and a description of any qualifiers that are not object-related. The section
discussing the object-type describes all the associated object-related
qualifiers.</p><div class="sect2" title="Command Syntax"><div class="titlepage"><div><div><h3 class="title"><a name="cmmd_syn_gde"></a>Command Syntax</h3></div></div></div><p>The general format for GDE commands is:</p><pre class="programlisting">command [/object-type] [object-name] [/qualifier]</pre><p>where:</p><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>/object-type</code></em></span></dt><dd><p>Indicates whether the command operates on a <span>/</span>N[AME] space, <span>/</span>R[EGION], or <span>/</span>S[EGMENT].</p></dd><dt><span class="term"><em class="replaceable"><code>object-name</code></em></span></dt><dd><p>Specifies the name of the N[AME] space, R[EGION], or S[EGMENT]. 
Objects of different types may have the same name. 
Name spaces may include the wildcard operator (*) as a suffix.</p></dd><dt><span class="term"><em class="replaceable"><code>/qualifier</code></em></span></dt><dd><p>Indicates an object qualifier.</p></dd></dl></div><p>The format description for each individual command specifies required
qualifiers for that command.</p><p>The @, EXIT, HELP, LOG, QUIT, SETGD, and SPAWN commands do not use this
general format. For the applicable format, refer to the section explaining each
of these commands.</p><p>Comments on the command line may be delimited by an exclamation mark (!). </p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Warning]" src="images/warning.jpg"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>An exclamation mark not enclosed in quotation marks ("") causes GDE to
ignore the rest of that input line.</p></td></tr></table></div><div class="sect3" title="Specifying File Names in Command Lines"><div class="titlepage"><div><div><h4 class="title"><a name="sepcify_file_names_in_cmmd_lines"></a>Specifying File Names in Command Lines</h4></div></div></div><p>To ensure that GT.M properly interprets the name of a file you specify as
part of a command line, file-names must either appear as the last item on
the command line or be surrounded by quotation marks. Because UNIX file
naming conventions permit the use of virtually any character in a file-name,
once a qualifier such as -FILE_NAME or -LOG introduces a file-name and the
first character after the equal sign is not a quotation mark, GT.M treats
the entire remainder of the line as the file-name. When using quotation marks
around file-names, GDE interprets a pair of embedded quotation marks as a
single quotation mark within the file-name. Note that the use of Ctrl or
punctuation characters such as exclamation mark (!), asterisk (*), or comma
(,) in a file-name creates subsequent significant operational file management challenges.</p></div><div class="sect3" title="Font/Capitalization Conventions Used in this Chapter"><div class="titlepage"><div><div><h4 class="title"><a name="font_capital"></a>Font/Capitalization Conventions Used in this Chapter</h4></div></div></div><p>All GT.M and GDE commands and qualifiers may be entered in either upper or
lower case at the command prompt. However, when you SHOW your current Global
Directory, note that GDE abides by the following case conventions: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Region and segment names always display in uppercase</p></li><li class="listitem"><p>Name space object name-always appears in case in which it was
entered.</p></li><li class="listitem"><p>File-name-always appears in case in which it was entered.</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>The .dat extension is appended to the file-name when the database file
is created, but never appears in the Global Directory listing, unless
you entered it that way.</p></td></tr></table></div><p>The descriptions of these commands and qualifiers appear in various cases
and fonts throughout this documentation. This section describes the
conventions used in describing these commands and qualifiers.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In text: all GT.M commands and qualifiers appear in
uppercase.</p></li><li class="listitem"><p>In examples: the entire command line is shown in lower case, and
appears in bold typewriter font. </p></li></ul></div></div></div><div class="sect2" title="@"><div class="titlepage"><div><div><h3 class="title"><a name="at_the_rate_cmmd"></a>@<a class="indexterm" name="id3221226"></a></h3></div></div></div><p>The @ command executes a GDE command file. Use the @ command to execute GDE
commands stored in a text file.</p><p>The format of the @ command is:</p><pre class="programlisting">@file-specification</pre><p>The file-specification specifies the command file to execute. GDE
provides the default file extension ".COM" in creating the
file-specification.</p><p>GDE executes each line of the command file as if it were entered at the
terminal.</p><p>Example:</p><pre class="programlisting">GDE&gt; @standard
</pre><p>This command transfers the GDE input to STANDARD.COM in the current
default directory. STANDARD.COM should contain GDE commands; comments should
start with an exclamation mark (!). </p></div><div class="sect2" title="Add"><div class="titlepage"><div><div><h3 class="title"><a name="add_gde"></a>Add<a class="indexterm" name="id3224426"></a></h3></div></div></div><p>The ADD command inserts a new name, region, or segment into the Global
Directory.</p><p>The format of the ADD command is one of the following: </p><pre class="programlisting">A[DD]/N[AME] name-space /R[EGION]=region-name
A[DD]/R[EGION] region-name /D[YNAMIC]=segment-name [/REGION-qualifier...]
A[DD]/S[EGMENT] segment-name /F[ILE_NAME]=file-spec [/SEGMENT-qualifier...]</pre><p>The ADD command requires specification of an object-type and object-name. GDE
supplies default values from the templates for qualifiers not explicitly
supplied in the command.</p><p>Name spaces and file-names are case-sensitive; other objects are not
case-sensitive.</p><p>Example:</p><pre class="programlisting">GDE&gt; ADD/S TEMP/F=SCRATCH</pre><p>This command creates a segment TEMP and maps it to the file
SCRATCH.DAT in the current default directory. However, if SCRATCH is a logical
name, GT.M finds the file using the translation of that logical name.</p></div><div class="sect2" title="Change"><div class="titlepage"><div><div><h3 class="title"><a name="change_gde"></a>Change<a class="indexterm" name="id3224475"></a></h3></div></div></div><p>The CHANGE command alters the name-to-region or region-to-segment mapping and /or 
the environment for a region or segment.</p><p>The format of the CHANGE command is: </p><p>The CHANGE command requires specification of an object-type and
object-name.</p><p>Once you exit GDE, mapping changes take effect for any subsequent image
activation (for example, the next RUN or the <span>MUMPS /DIRECT</span>  command). Changes to database parameters
only take effect for new database files created with subsequent MUPIP CREATE
commands that use the modified Global Directory. Use the MUPIP SET command (or in some cases DSE) to
change characteristics of existing database files. </p><p>Example:</p><pre class="programlisting">GDE&gt; C /R MASTER /DYNAMIC=TEMP /KEY=100</pre><p>This command changes the region MASTER to use dynamic segment TEMP
and establishes a maximum KEY_SIZE of 100 characters for the next creation of a
file for this region. The segment change takes effect the first time the system
uses the Global Directory after the GDE session EXITs, while the KEY_SIZE change
takes effect after the next MUPIP CREATE of the database.</p></div><div class="sect2" title="Delete"><div class="titlepage"><div><div><h3 class="title"><a name="delete_gde"></a>Delete<a class="indexterm" name="id3224514"></a></h3></div></div></div><p>The DELETE command removes a name, region, or segment from the Global
Directory. The DELETE command does not delete any actual data. However, GT.M does not access database files that do not have mapped global variables except through extended references using an alternative global directory that does not map to them. Note that GT.M replication does not support global updates made with extended references, unless they actually map to the same file as they would with the master global directory of the instance. </p><p>The format of the DELETE command is: </p><pre class="programlisting">D[ELETE]/N[AME] name-space
D[ELETE]/R[EGION] region-name
D[ELETE]/S[EGMENT] segment-name</pre><p>The DELETE command requires specification of an object-type and
object-name.</p><p>Deleting a name removes the name-to-region mapping. Deleting a region unmaps
all names mapped to the region. Deleting a segment unmaps the region mapped to
the segment.</p><p>You may map the deleted names to another region or the deleted region to
another segment using the CHANGE command. </p><p>The default name-space (*) cannot be deleted.</p><p>Example:</p><pre class="programlisting">GDE&gt; DEL/NAME T*</pre><p>This command deletes the explicit mapping of all global names starting with
the letter "T." This command does not delete any global variables. However, it may make preexisting globals starting with the letter "T" invisible, at least while using this global directory, because the T* global names map to the default namespace going forward. </p></div><div class="sect2" title="Exit"><div class="titlepage"><div><div><h3 class="title"><a name="exit_gde"></a>Exit<a class="indexterm" name="id3224565"></a></h3></div></div></div><p>The EXIT command writes all changes made in the current GDE editing session to
the Global Directory and terminates the current editing session.</p><p>The format of the EXIT command is:</p><pre class="programlisting">E[XIT]</pre><p>GDE performs a full verification test (VERIFY) on the data. If the
verification succeeds, GDE writes the new Global Directory to file system and issues a
verification message. </p><p>If the verification fails, GDE displays a listing of all unverifiable mappings
and waits for corrections. Make appropriate corrections, or leave the Global
Directory in its original, unedited state by using the QUIT command.</p><p>If you have not made any changes to the Global Directory, GDE does not save a
new Global Directory unless the original global directory had an older format which GDE has automatically upgraded. Note that while GDE upgrades older global directories to the current version, there is no facility to downgrade global directories to prior versions, so you should always save copies of any global directories that might be needed to retrieve archival data.</p></div><div class="sect2" title="Help"><div class="titlepage"><div><div><h3 class="title"><a name="help_gde"></a>Help<a class="indexterm" name="id3224589"></a></h3></div></div></div><p>The HELP command displays online information about GDE commands and
qualifiers.</p><p>The format of the HELP command is:</p><pre class="programlisting">H[ELP] [topic...]</pre><p>where <em class="replaceable"><code>topic</code></em> specifies the GDE command for which you want information. If you omit the topic, GDE prompts you for it. 
</p></div><div class="sect2" title="LOCks"><div class="titlepage"><div><div><h3 class="title"><a name="locks"></a>LOCks<a class="indexterm" name="id3224650"></a></h3></div></div></div><p>The LOCKS command specifies the region into which GT.M maps locks on resource
names not starting with a caret symbol (^). GDE maps locks on resource names,
starting with a caret symbol (^), to the database region mapped for the global variable name matching the resource name. </p><p>The format of the LOCKS command is:</p><pre class="programlisting">LOC[KS] /R[EGION]=region-name</pre><p>The LOCKS <span>/</span>REGION=
qualifier allows specification of a region for local locks. By default, GDE maps
local locks to the default region <span>$</span>DEFAULT.</p><p>Example:</p><pre class="programlisting">LOC[KS] /R[EGION]=region-name</pre><p>This command maps all locks on resource names that do not start with
a caret symbol (^) to region MAIN.</p></div><div class="sect2" title="LOG"><div class="titlepage"><div><div><h3 class="title"><a name="log_gde"></a>LOG<a class="indexterm" name="id3224700"></a></h3></div></div></div><p>The LOG command creates a log file of all GDE commands and displays for the
current editing session. Because the system places an exclamation point (!)
(i.e., the comment symbol) before all display lines that are not entered by the
user. In the log, the log can be used with the @ symbol as a command
procedure.</p><p>The format of the LOG command is: </p><pre class="programlisting">LOG
LOG /ON[=file-specification-]
LOG /OF[F]</pre><p>The LOG command, without a qualifier, reports the current status of GDE
logging. The LOG command displays a message showing whether logging is in effect
and the specification of the current log file for the GDE session.</p><p>The log facility can be turned on and off using the 
<span>/</span>ON or <span>/</span>OFF qualifiers any time during a GDE
session. However, GDE closes the log files only when the GDE session
ends.</p><p>The /ON qualifier has an optional argument of a file, which must
identify a legal RMS file. GDE uses the default .LOG file extension. If LOG /ON
has no file-argument, GDE uses the previous log file for the editing session. If
no log file is previously specified during this editing session, GDE uses the
default GDELOG.LOG log file. </p><p>Example:</p><pre class="programlisting">GDE&gt; LOG/ON="STANDARD.COM"</pre><p>This command turns on logging of the session and directs the output to
standard.log.</p></div><div class="sect2" title="Quit"><div class="titlepage"><div><div><h3 class="title"><a name="quit"></a>Quit<a class="indexterm" name="id3224763"></a></h3></div></div></div><p>The QUIT command ends the current editing session without saving any changes
to the Global Directory. GDE does not update the Global Directory file.</p><p>The format of the QUIT command is:</p><pre class="programlisting">Q[UIT]</pre><p>If the session made changes to the Global Directory, GDE issues a message
warning that the Global Directory has not been updated.</p></div><div class="sect2" title="Rename"><div class="titlepage"><div><div><h3 class="title"><a name="rename_gde"></a>Rename<a class="indexterm" name="id3224797"></a></h3></div></div></div><p>The RENAME command allows you to change a name-space, the name of a region, or
the name of a segment.</p><p>The format of the RENAME command is:</p><pre class="programlisting">R[ENAME]/N[AME] old-name new-name
R[ENAME]/R[EGION] old-region-name new-region-name
R[ENAME]/S[EGMENT] old-segment-name new-segment-name</pre><p>The RENAME command requires specification of an object-type and two
object-names.</p><p>When renaming a region, GDE transfers all name mappings to the new region.
When renaming a segment, GDE transfers the region mapping to the new
segment.</p><p>Example:</p><pre class="programlisting">GDE&gt; RENAME /S STABLE TABLE</pre><p>This command renames segment STABLE to TABLE and shifts any regions
currently mapped to STABLE so they are mapped to TABLE.</p></div><div class="sect2" title="SEtgd"><div class="titlepage"><div><div><h3 class="title"><a name="setgd"></a>SEtgd<a class="indexterm" name="id3224829"></a></h3></div></div></div><p>The SETGD command closes out edits on one Global Directory and opens edits on
another.</p><p>The format of the SETGD command is: </p><pre class="programlisting">SE[TGD] /F[ILE]=file-spec [/Q[UIT]]</pre><p>The /FILE=file-spec specifies a different Global Directory file. When
you provide a partial file-specification, GDE uses the current default directory
and defaults the type to .GLD.</p><p>The <span>/</span>QUIT qualifier
specifies that any changes made to the current Global Directory are not written
and are lost when you change Global Directories.</p><p>SETGD changes the Global Directory that GDE is editing. If the current Global
Directory has not been modified, or the <span>/</span>QUIT qualifier appears in the command, the change simply
occurs. However, if the current Global Directory has been modified, GDE verifies
the Global Directory, and if the verification is successful, writes that Global
Directory. If the verification is not successful, the SETGD fails.</p><p>Example:</p><pre class="programlisting">GDE&gt; SETGD /F=TEMP</pre><p>This changes the Global Directory being edited to TEMP. </p></div><div class="sect2" title="SHow"><div class="titlepage"><div><div><h3 class="title"><a name="show_gde"></a>SHow<a class="indexterm" name="id3224910"></a></h3></div></div></div><p>The SHOW command displays information contained in the Global Directory about
names, regions, and segments.</p><p>The format of the SHOW command is:</p><pre class="programlisting">SH[OW] /N[AME] [name-space]
SH[OW] /R[EGION] [region-name]
SH[OW] /S[EGMENT] [segment-name]
SH[OW] /M[AP] [R[EGION]=region-name]
SH[OW] /T[EMPLATE] 
SH[OW] /A[LL]</pre><p>The object-type is optional. <span>/</span>MAP, <span>/</span>TEMPLATE, and <span>/</span>ALL are special qualifiers that cause GDE to display selected portions of the Global Directory to be displayed as follows:</p><p>
<span>/</span>MAP: Displays the current mapping of all names, regions, segments, and files. This qualifier
corresponds to the section of the SHOW report titled ***MAP***. The output of a
SHOW <span>/</span>MAP may be restricted to a particular region by specifying a <span>/</span>REGION qualifier with a region name
argument.</p><p>
<span>/</span>TEMPLATE: Displays the current region and segment templates. This qualifier corresponds to the section
of the SHOW report titled: </p><pre class="programlisting">***TEMPLATES***</pre><p>
<span>/</span>ALL: Displays the entire Global Directory. This qualifier corresponds to displaying "all" sections
of the SHOW report: </p><pre class="programlisting">***TEMPLATES***, ***NAMES***, ***REGIONS***, ***SEGMENTS***,  ***MAP***.</pre><p>By default, SHOW displays <span>/</span>ALL. </p><p>If you want to print the Global Directory, create a log file by executing LOG
<span>/</span>ON= before executing the SHOW command. The <span>/</span>LOG command captures all the commands entered and output. You can print the log file if you want a hard copy record.</p><p>Example:</p><pre class="programlisting">GDE&gt; SHOW /TEMPLATE</pre><pre class="programlisting">           *** TEMPLATES ***
                                             Def   Rec   Key Null       Standard
Region                                     Coll  Size  Size Subs       NullColl  Journaling
--------------------------------------------------------------------------------------------
&lt;default&gt;                                     0   256    64 NEVER      N         N
 
Segment          Active              Acc Typ Block      Alloc Exten Options
------------------------------------------------------------------------------
&lt;default&gt;          *                 BG  DYN  1024        100   100 GLOB =1024
                                                                     LOCK = 40
&lt;default&gt;                            MM  DYN  1024        100   100 DEFER
                                                                     LOCK = 4</pre><p>This displays only the TEMPLATES section of the Global Directory.</p></div><div class="sect2" title="SPawn"><div class="titlepage"><div><div><h3 class="title"><a name="spawn_gde"></a>SPawn<a class="indexterm" name="id3225062"></a></h3></div></div></div><p>The SPAWN command creates a subprocess for access to VMS CLI (usually DCL)
without terminating the current GDE environment. Use the SPAWN command to
suspend a session and issue DCL commands such as DIRECTORY or SHOW
LOGICAL.</p><p>The format of the SPAWN command is:</p><pre class="programlisting">SP[AWN] [DCL command]</pre><p>When you include the optional DCL command, the SPAWN command spawns a
sub-process, executes the DCL command, and returns the terminal to the GDE&gt;
prompt. If SPAWN has no DCL command to execute, it completes the spawning of the
sub-process and leaves the terminal at the OpenVMS CLI prompt.</p><p>Example:</p><pre class="programlisting">GDE&gt; SPAWN "DIR *.DAT"</pre><p>This command invokes a OpenVMS directory listing of all files in the current
default directory with a .DAT extension.</p></div><div class="sect2" title="Template"><div class="titlepage"><div><div><h3 class="title"><a name="template_gde"></a>Template <a class="indexterm" name="id3225107"></a></h3></div></div></div><p>The TEMPLATE command maintains a set of -REGION and -SEGMENT qualifier values for use as templates when ADDing regions and segments. When an ADD command omits qualifiers, GDE uses the template values as defaults.</p><p>GDE maintains a separate set of -SEGMENT qualifier values for each ACCESS_METHOD. When GDE modifies the ACCESS_METHOD, it activates the appropriate set of TEMPLATEs and sets all unspecified qualifiers to the template defaults for the new ACCESS_METHOD. Use the GDE SHOW command to display qualifier values for all ACCESS_METHODs.</p><p>The format of the TEMPLATE command is:</p><pre class="programlisting">T[EMPLATE]/R[EGION] [/REGION-qualifier...]
T[EMPLATE]/S[EGMENT] [/SEGMENT-qualifier...]</pre><p>The TEMPLATE command requires specification of an object-type.</p><p>Example:</p><pre class="programlisting">GDE&gt; T/S/AL=200000</pre><p>This command modifies the segment template so that any segments ADDed
after this time produce database files with an ALLOCATION of 200,000 GDS blocks. </p></div><div class="sect2" title="Verify"><div class="titlepage"><div><div><h3 class="title"><a name="verfiy_gde"></a>Verify<a class="indexterm" name="id3225158"></a></h3></div></div></div><p>The VERIFY command validates information entered into the current Global
Directory. It checks the name-to-region mappings to ensure all names map to a
region. The VERIFY command checks region-to-segment mappings to ensure each
region maps to a segment, each segment maps to only one region, and the segment
maps to a UNIX file. The EXIT command implicitly performs a VERIFY -ALL.</p><p>The format of the VERIFY command is: </p><pre class="programlisting">V[ERIFY]
V[ERIFY] /N[AME] [name-space]
V[ERIFY] /R[EGION] [region-name]
V[ERIFY] /S[EGMENT] [segment-name]
V[ERIFY] /M[AP]
V[ERIFY] /T[EMPLATE]
V[ERIFY] /A[LL]</pre><p>The object-type is optional. <span>/</span>MAP, <span>/</span>TEMPLATE, and <span>/</span>ALL are special qualifiers used as follows:</p><div class="variablelist"><dl><dt><span class="term"><code class="code">/MAP</code></span></dt><dd><p> Checks that all names map to a region, all regions map to a segment, and all segments map to a file.</p></dd><dt><span class="term"><code class="code">/&#65279;TEMPLATE</code></span></dt><dd><p>Checks that all templates currently are consistent and useable.</p></dd><dt><span class="term"><code class="code">/ALL</code></span></dt><dd><p>Checks all map and template data.</p></dd></dl></div><p>VERIFY with no qualifier, VERIFY <span>/</span>MAP, and VERIFY <span>/</span>ALL each check all current information. </p><p>Example:</p><pre class="programlisting">GDE&gt; VERIFY /R REGIS</pre><p>This command verifies the region REGIS.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s05.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Using GDE </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> Name, Region, and Segment Qualifiers</td></tr></table></div></body>
<!-- Mirrored from tinco.pair.com/bhaskar/gtm/doc/books/ao/OpenVMS_manual/ch04s04.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Mar 2019 11:49:05 GMT -->
</html>
