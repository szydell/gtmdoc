<html>
<HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Installation Procedure</title>
<link rel="stylesheet" href="gtm.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="GT.M Administration and Operations Guide">
<link rel="up" href="ch02.html" title="Chapter 2. Installing GT.M">
<link rel="prev" href="ch02s02.html" title="Before you begin">
<link rel="next" href="ch02s04.html" title="gtminstall script">
<link rel="copyright" href="ln-idp175137760.html" title="Legal Notice">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Installation Procedure</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch02s02.html">Prev</a> </td>
<th width="60%" align="center">Chapter 2. Installing GT.M</th>
<td width="20%" align="right"> <a accesskey="n" href="ch02s04.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">GT.M Administration and Operations Guide</a></span> &gt; <span class="breadcrumb-link"><a href="ch02.html">Installing GT.M</a></span> &gt; <span class="breadcrumb-node">Installation Procedure</span>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="inst_proc"></a>Installation Procedure</h2></div></div></div>
<p>Create a backup copy of any existing version of GT.M before running the installation procedure. The installation procedure overwrites any existing version of GT.M in the installation target directory. </p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Important">
<tr>
<td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="images/important.jpg"></td>
<th align="left">Important</th>
</tr>
<tr><td align="left" valign="top"><p>Never install a GT.M release into an existing directory overwriting another release that might be needed for research or recovery and <span class="bold"><strong>never</strong></span> on the one currently in use. FIS recommends installing each version of GT.M in a separate directory using the naming convention <code class="code">/usr/lib/fis-gtm/version_platform</code> , where version is the GT.M version being installed and platform is the hardware architecture. For example, <code class="code">/usr/lib/fis-gtm/V6.3-002_x86_64</code>.</p></td></tr>
</table></div>
<p>Run the installation procedure as root for everything to install correctly. </p>
<p>Find or create a temporary directory to hold your GT.M distribution files.</p>
<p>Example:</p>
<pre class="programlisting">$ mkdir /tmp/unpackgtm ; cd /tmp/unpackgtm</pre>
<p>or</p>
<pre class="programlisting">$ mkdir /var/tmp/unpackgtm ; cd /var/tmp/unpackgtm</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note">
<tr>
<td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
<p>When choosing a temporary directory, keep in mind the following points: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>Whether it is safe to use a directory (like /tmp) subject to concurrent use by the operating system, applications, and so on.</p></li>
<li class="listitem"><p>Whether you can protect any sensitive information in temporary files with appropriate access permissions. </p></li>
</ul></div>
</td></tr>
</table></div>
<p>Unpack the distribution to the temporary directory with a command such as the following (your UNIX version may require you to first use gzip to decompress the archive and then tar to unpack it; the tar options may also vary):</p>
<pre class="programlisting">$ tar zxvf /Distrib/GT.M/gtm_V63002_linux_i586_pro.tar.gz -C /temporary/directory</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note">
<tr>
<td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>The name of the device and the tar options may vary from system to system.</p></td></tr>
</table></div>
<p>The GT.M distribution contains various GT.M system administration scripts. These include:
</p>
<pre class="programlisting">configure to install GT.M
gtm sets a default user environment and starts GT.M. 
gtmbase An example to set up a default user environment.</pre>
<p>Note that gtmbase is simply an example of the type of script you can develop. Do not use it as is.</p>
<p>For more information on using gtmbase and other scripts, refer to <a class="xref" href="ch03.html" title="Chapter 3. Basic Operations">Chapter 3: &#8220;<i>Basic Operations</i>&#8221;</a>. </p>
<p>
To start the GT.M installation procedure, change to the temporary directory and execute the configure script:</p>
<pre class="programlisting">#cd /temporary/directory
#./configure</pre>
<p>
The configure script displays
a message like the following:</p>
<pre class="programlisting"> GT.M Configuration Script
GT.M Configuration Script Copyright 2009, 2017 Fidelity Information Services, Inc. Use of this
software is restricted by the provisions of your license agreement.
What user account should own the files? (bin) </pre>
<p>Enter the name of the user who should own GT.M distribution files. The default is <em class="replaceable"><code>bin</code></em>. If there is no user with the name bin, the configure script asks for an alternate user who should own GT.M distribution files. 
</p>
<pre class="programlisting">What group should own the files? (bin) </pre>
<p>Enter the name of the group who should own GT.M distribution files. The default is bin. If there is no group with the name bin, the configure script asks for an alternate group who should own GT.M distribution files.</p>
<pre class="programlisting">Should execution of GT.M be restricted to this group? (y or n)</pre>
<p>Choose
<em class="replaceable"><code>y</code></em> to restrict the use of your GT.M distribution to the specified group. This is a security-related option. By default, GT.M does not restrict access by group.</p>
<pre class="programlisting">In what directory should GT.M be installed?
</pre>
<p>Enter
a directory name, such as
<em class="replaceable"><code>/usr/lib/fis-gtm/V6.3-002_x86_64</code></em>. If the directory
does not exist, the configure script displays a message like the
following:</p>
<pre class="programlisting">Directory /usr/lib/fis-gtm/V6.3-002_x86_64 does not exist. 
Do you wish to create it as part of this installation? (y or n)
</pre>
<p>Choose
<em class="replaceable"><code>y</code></em> to create the directory or<em class="replaceable"><code>n</code></em> to cancel the installation.
</p>
<pre class="programlisting">Installing GT.M...</pre>
<p>This is followed by a confirmation message for installing UTF-8 support.</p>
<pre class="programlisting">Should UTF-8 support be installed? (y or n)</pre>
<p>Choose <em class="replaceable"><code>y</code></em> to confirm. If you choose<em class="replaceable"><code>n</code></em>, UTF-8 functionality is not installed.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note">
<tr>
<td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>GT.M requires at least ICU Version 3.6 and icu-config to install the functionality related to UTF-8.</p></td></tr>
</table></div>
<p>If you choose y, the configure script displays a message like the following:</p>
<pre class="programlisting">Should an ICU version other than the default be used?</pre>
<p>Ifyou choose <em class="replaceable"><code>n</code></em>, the configure script looks for the symboliclink of <code class="code">libicuuc.so</code> to determine the default ICU version.</p>
<p>If you choose <em class="replaceable"><code>y</code></em>, the configurescript displays a message like thefollowing:</p>
<pre class="programlisting">Enter ICU version (at least ICU version 3.6 is required. 
Enter as &lt;major&gt;&lt;minor&gt;.&lt;milli&gt;.&lt;micro&gt; for recent versions of ICU or &lt;major-ver&gt;.&lt;minor-ver&gt; for older versions):</pre>
<p>Enter the ICU version number in the <em class="replaceable"><code>major-ver.minor-ver</code></em> format.
The configure script displays the following message:</p>
<pre class="programlisting">All of the GT.M MUMPS routines are distributed with uppercase 
names. You can create lowercase copies of these routines 
if you wish, but to avoid problems with compatibility in 
the future, consider keeping only the uppercase versions 
of the files.
Do you want uppercase and lowercase versions of the MUMPS routines? (y or n).</pre>
<p>Choose <em class="replaceable"><code>y</code></em> to confirm. The configure script then displays the list of MUMPS routines while creating their lowercase versions. Then the script compiles those MUMPS routines. On platforms where GT.M supports placing object code in shared library, it creates a library libgtmutil.so with the object files of the utility programs and GDE distributed with GT.M. On these platforms, it asks the question:</p>
<pre class="programlisting">Object files of M routines placed in shared library /usr/lib/fis-gtm/V6.3-002_x86_64/libgtmutil.so. 
Keep original .o object files (y or n)? </pre>
<p><a class="indexterm" name="idp175540144"></a>Unless your scripts require separate object files for these routines, you can safely delete the .o object files, and place $gtm_dist/libgtmutil.so as the last element of gtmroutines in lieu of $gtm_dist.</p>
<p>The configure script then asks you:</p>
<pre class="programlisting">Installation completed. Would you like all the temporary files removed from this directory? (y or n)</pre>
<p>Choose
<em class="replaceable"><code>y</code></em> to confirm. FIS recommends deleting all temporary files.</p>
<p>Congratulations! GT.M is now installed on the system. Proceed to <a class="xref" href="ch02s03.html#shr_lib_plu" title="Compiling the Reference Implementation Plugin">&#8220;Compiling the Reference Implementation Plugin &#8221;</a> section to identify and resolve shared library dependencies on your system and then <a class="xref" href="ch03.html" title="Chapter 3. Basic Operations">Chapter 3: &#8220;<i>Basic Operations</i>&#8221;</a> to set up a default user environment.</p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="shr_lib_plu"></a>Compiling the Reference Implementation Plugin </h3></div></div></div>
<p>If you plan to use database encryption and TLS replication, you must compile the reference implementation plugin to match the shared library dependencies unique to your platform. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="recompile_ref_impl"></a>Instructions</h4></div></div></div>
<p>Compile the reference implementation plugin as follows:</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<p>Install the development headers and libraries for libgcrypt, libgpgme, libconfig, and libssl. On Linux, the package names of development libraries usually have a suffix such as -dev or -devel and are available through the package manager. For example, on Ubuntu_x86_64 a command like the following installs the required development libraries:</p>
<pre class="programlisting">sudo apt-get install libgcrypt11-dev libgpgme11-dev libconfig-dev libssl-dev</pre>
<p>The package names vary by distribution / version. </p>
</li>
<li class="listitem">
<p>Unpack $gtm_dist/plugin/gtmcrypt/source.tar to a temporary directory, for example: </p>
<pre class="programlisting">mkdir /tmp/plugin-build
cd /tmp/plugin-build
cp $gtm_dist/plugin/gtmcrypt/source.tar .
tar -xvf source.tar</pre>
</li>
<li class="listitem">
<p>Follow the instructions in the README.</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>Open Makefile with your editor; review and edit the common header (IFLAGS) and library paths (LIBFLAGS) in the Makefile to reflect those on your system.</p></li>
<li class="listitem"><p>Define the gtm_dist environment variable to point to the absolute path for the directory where GT.M is installed</p></li>
<li class="listitem"><p>Copy and paste the commands from the README to compile and install the encryption plugin with the permissions defined at install time</p></li>
</ul></div>
</li>
<li class="listitem"><p>Compare the permissions of $gtm_dist/libgtmshr.so to the newly installed shared libraries in $gtm_dist/plugin. Adjust the permission of the newly installed libraries as necessary.</p></li>
</ol></div>
</div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch02s02.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch02s04.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Before you begin </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> gtminstall script
  </td>
</tr>
</table>
</div>
</body>
</html>
