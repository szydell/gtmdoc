<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:exsl="http://exslt.org/common" xmlns:ng="http://docbook.org/docbook-ng" xmlns:db="http://docbook.org/ns/docbook"><head>
<meta http-equiv="X-UA-Compatible" content="IE=7"/>
<title>Introduction</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><link rel="home" href="index.html" title="GT.M Administration and Operations Guide"/><link rel="up" href="ch07.html" title="ChapterA 7.A Database Replication"/><link rel="prev" href="ch07.html" title="ChapterA 7.A Database Replication"/><link rel="next" href="ch07s02.html" title="Implementing Replication and Recovery"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><script type="text/javascript">
            //The id for tree cookie
            var treeCookieId = "treeview-53356";
            var language = "en";
            var w = new Object();
            //Localization
            txt_filesfound = 'Results';
            txt_enter_at_least_1_char = "You must enter at least one character.";
            txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
            txt_please_wait = "Please wait. Search in progress...";
            txt_results_for = "Results for: ";
        </script><style type="text/css">
            input {
            margin-bottom: 5px;
            margin-top: 2px;
            }

            .folder {
            display: block;
            height: 22px;
            padding-left: 20px;
            background: transparent url(../common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
            }
            
        </style><link rel="shortcut icon" href="../favicon.ico" type="image/x-icon"/><link rel="stylesheet" type="text/css" href="../common/css/positioning.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/treeview/jquery.treeview.css"/><script type="text/javascript" src="../common/jquery/jquery-1.4.2.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery-ui-1.8.2.custom.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery.cookie.js"><!----></script><script type="text/javascript" src="../common/jquery/treeview/jquery.treeview.min.js"><!----></script><script type="text/javascript" src="search/htmlFileList.js"><!----></script><script type="text/javascript" src="search/htmlFileInfoList.js"><!----></script><script type="text/javascript" src="search/nwSearchFnt.js"><!----></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"><!--//make this scalable to other languages as well.--></script><script type="text/javascript" src="search/index-1.js"><!----></script><script type="text/javascript" src="search/index-2.js"><!----></script><script type="text/javascript" src="search/index-3.js"><!----></script></head><body><div id="header"><img style="margin-right: 2px; height: 59px; padding-right: 25px; padding-top: 8px" align="right" src="../common/images/logo.png" alt="Company Logo"/><h1 align="center">Introduction<br/>ChapterA 7.A Database Replication</h1><div id="navheader" align="right"><!----><table><tr><td style="height: 28px; width: 16px;"><a id="showHideButton" onclick="showHideToc();" class="pointLeft" title="Hide TOC tree">.
                            </a></td><td><img src="../common/images/highlight-blue.gif" alt="H" height="25px" onclick="toggleHighlight()" id="showHideHighlight" style="cursor:pointer" title="Toggle search result highlighting"/></td><td><a accesskey="p" href="ch07.html">Prev</a>
                                        |
                                        <a accesskey="u" href="ch07.html">Up</a>
                                    |
                                    <a accesskey="n" href="ch07s02.html">Next</a></td></tr></table></div></div><div id="content"><!----><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="theory_of_operation"/>Introduction<a id="d0e22953" class="indexterm"/></h2></div></div></div><p>GT.M replication provides logical equivalence between multiple databases. It facilitates continuous application availability, real-time decision support, warehousing, analytics, and 
auditing. There are two types of replication:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Business Continuity (BC) replication</p></li><li class="listitem"><p>Supplementary Instance (SI) replication</p></li></ol></div><p>BC replication helps provide business continuity for GT.M databases. Updates applied at an originating instance replicate in near real-time to a replicating instance. To help ensure this consistency, BC replication prohibits locally generated database updates on a replicating secondary instance. For example with instances named A and B, business logic processed on instance A can be streamed to instance B so that should A ever go down, B can immediately take over and provide continuity. In order to ensure that B produces results consistent with A, B can contain only material state information that is also in A.</p><p>Updates applied at an originating instance replicate in near real-time to as many as sixteen replicating instances each of which can propagate further down to as many as sixteen replicating instances. Each replicating instance can further replicate to as any as sixteen replicating instances and so on. When an originating instance becomes unavailable, any downstream instance can become the replacement originating instance to keep the application available.</p><p>In the following illustration, A is the originating primary instance and B and C are its replicating instances. C is also a propagating primary instance because it further replicates to D. This BC replication configuration can also be described as a Ba??Aa??Ca??D configuration.</p><img src="ao_figures/bc_repl.gif"/><p>BC replication is intended for mission-critical applications that must be available 24 hours a day, 365 days a year, in the face of both unplanned events (such as system crashes) as well planned events (such as system and software upgrades).</p><p>With BC replication, you can create a logical multi-site (LMS) replication configuration for mission critical applications that must always be available not only in face of unplanned events (such as system or data center failures) but also in the face of planned events such as computing platform upgrades, OS upgrades, GT.M upgrades and even application upgrades. Deploying a BC replication configuration should take into account available network capacities, operational preferences, risk assessments, and business continuity requirements.</p><p>With SI replication, an instance has the ability to receive replication stream from another instance and at the same time execute its own business logic to compute and commit its own updates. In the following Ba??Aa??Pa??Q replication configuration, instance P can execute its own business logic to compute and commit its updates to its own replicated regions while receiving a replication stream from A. A is an originating primary instance, P is a supplementary originating instance, B is a secondary (standby) instance for A and Q is a secondary (standby) supplementary instance for P. In this configuration, B and Q are only permitted to receive and apply replication streams from their respective originating instances. Unlike P, B and Q cannot generate their own updates. </p><img src="ao_figures/si_repl.gif"/><p>SI replication is a general purpose mechanism whose utility includes applications such as real-time decision support, warehousing, analytics, and auditing.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In this book, instances {A, B, C...} denote instances setup for use as business continuity instances and instances {P, Q, R...} are set up for use as supplementary instances.  An instance is a supplementary instance if its replication instance file is created with the -supplementary qualifier. </p></td></tr></table></div><p>GT.M imposes no distance limits between instances. You can place instances 20,000 kilometers apart (the circumference of Planet Earth is 40,000 kilometers) or locally within the same data center.</p><p>Using TCP connections, GT.M replicates between instances with heterogeneous stacks of hardware, operating system, endian architecture and even GT.M releases. A GT.M instance can source a BC replication stream to, or receive a BC replication stream from, GT.M V5.1-000 or later.  However, SI replication requires both source and receive side must be GT.M V5.5-000 or later. GT.M replication can even be used in configurations with different application software versions, including many cases where the application software versions have different database schema. This also means that a number of inexpensive systems - such as GNU/Linux commodity servers - can be placed in locations throughout an organization. Replicating instances can be used for decision support, reporting, and analytics. Because GT.M databases can be encrypted, these commodity servers are potentially usable in environments outside secure data centers as long as their operating systems and software are secured.</p><p>GT.M replication requires journaling to be enabled and turned on for replicated regions. Unreplicated regions (for example, global variables containing information that is meaningful only on one instance and only as long as the instance is operating - such as process ids, temporary working files, and so on) need not be replicated or journaled.</p><p>GT.M replication mechanism is designed in such a way that a network failure between instances will not stop an application from being available, which is a limitation of techniques such as high availability clustering<sup>[<a id="d0e23012" href="ch07s01.html#ftn.d0e23012" class="footnote">1</a>]</sup>. There are mechanisms in place for edge cases like processing "in flight" transactions and common cases like handling backlog of updates after recovery from a network failure. While it is not possible to provide absolute continuity of business in our imperfect universe, an LMS configuration gives you the flexibility to choose application configurations that match your investment to a risk level that best meets the business needs of your organization.</p><p>GT.M replication is asynchronous, which in turn means that the source and receiver ends of a replication connection are at an identical state when there is no activity underway. To maintain consistency, and to restore it when restarting a replication connection, instances maintain a common, mutually coherent, instance-wide serial number called a journal sequence number. Each journal sequence number is tagged with two fields that identify the source of the update- a stream # that can take on values 0 through 15 and a stream sequence number (the journal sequence number of the update on the originating instance). Because replication deals with an entire global variable namespace, regardless of the mapping of global variables to database files, all updates participate in this numbering, even when modifying different database files. All updates in a transaction (within the TSTART/TCOMMIT boundary) have the same journal sequence number. Each update outside a transaction boundary has a unique journal sequence number.</p><p>On instances that do not include updates from supplementary logic, the journal sequence number and the stream sequence number are the same.</p><p>Suppose sequence numbers in P are 100, 101, and 102. If the first and third transactions are locally generated and the second is replicated, the tagged journal sequence numbers might be something like {100,0,10}, {101,1,18}, {102,0,11}. The 0 stream # for 100 and 102 indicates those transactions are generated locally on P whereas stream # 1 indicates those transactions were generated in A. If P needs to roll {101,1,18} off its database in order to resychronize replication with A, database update serialization also requires it to roll {102,0,11} off as well, and both will appear in the Unreplicated Transaction Log (also known as Lost Transaction File).</p><p>The journal sequence number on A becomes the stream sequence number on P for transactions replicated from A to P. In the example, the transaction that has the P sequence number of 101 has the sequence number 18 on A and B. The replication instance file in P contains information that allows GT.M to determine this mapping, so that when P rolls {101,1,18} off its database, A knows that P has rolled off its transaction 18, and can include that when catching P up.</p><p>If P in turn implements BC replication to another instance Q, the tagging is propagated to Q, such that if A and P both go down (e.g., if they are co-located in a data center that loses electricity), B and C can take over the functions of A and P respectively, and Q can perform any synchronization needed in order to start accepting a replication stream from B as being a continuation of the updates generated by A, and B in turn accepts Q as the successor to P.</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="lmsgroup"/>LMS Group</h3></div></div></div><p>An LMS Group is a set of one or more instances that receive updates from the same originating primary instance and represent the same logical state. GT.M implicitly forms an LMS Group by storing the identification of the originating primary instance in the replication instance file of each replicating instance. There are two types of LMS Groups:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>BC Group: An LMS Group whose originating primary instance is a BC instance. A BC Group can have BC and SI instances as members.</p></li><li class="listitem"><p>SI Group: An LMS Group whose originating primary instance is an SI instance. An SI Group can have only SI instances as members and can receive replication only from a BC member of a BC Group.</p></li></ol></div><p>BC members of a BC Group can replicate downstream to other BC and SI groups whereas an SI Group cannot replicate downstream to other groups.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="../common/images/important.jpg"/></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>Instances can change their roles within an LMS group but they cannot move between groups, however data from one instance / group can be loaded into another group.</p></td></tr></table></div><p>The following example illustrates a replication configuration where instance A from A's BC Group replicates to instance Q in Q's SI Group.</p><pre class="programlisting">+-----------------+
|      + A +      |
|      | | |      |  
|Ba??----| | |----a??P|
+--------|--------+
         |
         |
+--------V--------+
|      + Q +      |
|      |   |      |
|Ra??----|   |----a??S|
+-----------------+</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In this replication configuration, instance B can also replicate to instance Q. However, instance P cannot replicate to an instance in Q's group because it is an SI member of A's BC group.</p></td></tr></table></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="db_trans_no"/>Database Transaction Number</h3></div></div></div><p>Every transaction applied to a database file increments the database transaction number for that file. Each block records the database transaction number at which it was updated, and the Current transaction field in the file header shows the value for the next transaction or mini-transaction to use. The following database file header fields all show database transaction numbers: Last Record Backup, Last Database Backup, Last Bytestream Backup, Maximum TN, and Maximum TN Warn.</p><p>Database transaction numbers are currently unsigned 64-bit integers.</p><p>While database activity uses database transaction numbers sequentially, not every transaction number can be found in a database block. For a Kill increments the database transaction number, but can remove blocks with earlier database transaction numbers from the database.</p><p>Note that database transaction numbers are updated in memory and only periodically flushed to secondary storage, so in cases of abnormal shutdown, the on-disk copies in the file header might be somewhat out-of-date.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="jnl_seq_no"/>Journal Sequence Number</h3></div></div></div><p>While the database transaction number is specific to a database file, replication imposes a serialization of transactions across all replicated regions. As each transaction is placed in the Journal Pool it is assigned the next journal sequence number. When a database file in a replicated instance is updated, the Region Seqno field in the file header records the journal sequence number for that transaction. The journal sequence number for an instance is the maximum Region Seqno of any database file in that instance. While it uses them in processing, GT.M stores journal sequence numbers only in journal files. In database file headers, Zqgblmod Seqno and Zqgblmod Trans are journal sequence numbers.</p><p>Except for transactions in Unreplicated Transaction Logs, the journal sequence number of a transaction uniquely identifies that transaction on the originating primary instance and on all replicating secondary instances. When replicated via SI replication, the journal sequence number becomes a stream sequence number (see below) and propagated downstream, thus maintaining the unique identity of each transaction.</p><p>Journal sequence numbers cannot have holes - missing journal sequence numbers are evidence of abnormal database activity, including possible manual manipulation of the transaction history or database state.</p><p>Journal sequence numbers are 60-bit unsigned integers.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="stm_seq_no"/>Stream Sequence Number</h3></div></div></div><p>The receiver of a SI replication stream has both transactions that it receives via replication as well as transactions that it computes locally from business logic. As discussed earlier, while journal sequence numbers can uniquely identify a series of database updates, they cannot identify the source of those updates. Therefore, we have the concept of a stream sequence number.</p><p>On an originating primary instance that is not the recipient of an SI replication stream, the journal sequence number and the stream sequence number are the same.</p><p>On a primary instance that is the recipient of an SI replication stream, the journal sequence numbers uniquely identify and serialize all updates, whether received from replication or locally generated. However, there is also a stream sequence number, which is the journal sequence number for locally generated transactions, and for replicated updates, the combination of a non-zero 4 bit tag (that is, with values 1 through 15) and the journal sequence number for the transaction on the system from which it was replicated. These stream sequence numbers are propagated to downstream replicating secondary instances.</p><p>Stream sequence numbers are 64-bit unsigned integers.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="repl_gesz"/>Instance Bound Global Directories </h3></div></div></div><p>GDE provides a mapping option (GDE CHANGE -INSTANCE -FILE_NAME=&lt;replication_instance_file&gt;) to bind a global directory with a replication instance file. With this mapping option, GT.M processes give precedence to the &lt;replication_instance_file&gt; stored in GDE over any (or no) value of the gtm_repl_instance environment variable. This makes it possible for a GT.M process to update globals in the replicated regions of a different replication instance than that defined by the gtm_repl_instance environment variable. </p><p>Without this mapping option (that is, GDE CHANGE -INSTANCE -FILE_NAME= ""), an attempt to update a global bound to an instance other than the default replication instance file specified with the environment variable gtm_repl_instance produces the REPLINSTMISMTCH error:  </p><pre class="programlisting">GTM&gt;set ^|"/path/to/unbound/XXXX.gld"|replnamespace="Hello from same system instance YYYY"
%GTM-E-REPLINSTMISMTCH, Process has replication instance file YYYY.repl (jnlpool shmid = 9999) open but database XXXX.dat is bound to instance file XXXX.repl (jnlpool shmid = 8888)</pre><p>The following restrictions apply for making updates to the replicated regions of an instance bound global directory:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>A replication instance file cannot share any region with another instance file.</p></li><li class="listitem"><p>The Source Servers of all the instances have properly set up Replication Journal Pools.</p></li><li class="listitem"><p>A TP transaction or a trigger, as it always executes within a TP transaction, must always restrict updates to globals in one replicating instance.</p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Processes other than MUPIP CREATE only use mapping information in a global directory, including collation, instance file association and name mapping, and ignore other (non-mapping) global directory database characteristics.</p></li><li class="listitem"><p>When Instance Freeze is enabled (gtm_custom_errors is appropriately defined), a process attaches a region to an instance at the first access to the region; the access may be a read or a VIEW/$VIEW(). Otherwise, the process attaches to a region at the first update to that region. When the mappings are correct, this difference does not matter.</p></li><li class="listitem"><p>A GT.M process can always update globals that are not in a replicated region.</p></li><li class="listitem"><p>Use $VIEW("JNLPOOL") to determine the state of the current Journal Pool. $VIEW("JNLPOOL") returns the replication instance file name for the current Journal Pool and an empty string when there is no Journal Pool. Note that the current Journal Pool may not be associated with the last global accessed by an extended reference.</p></li></ul></div></td></tr></table></div><p> </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="../common/images/important.jpg"/></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>We believe that this functionality may interest both application developers and database administrators. Because this functionality has a wide variety of creative use cases when combined with other GT.M features like Triggers, TP, serialization with LOCK controls, replication filters, etc., we encourage GT.M users to explore this feature and provide us with feedback.</p></td></tr></table></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="sppl_exampls"/>Examples</h3></div></div></div><p>To make the following scenarios easier to understand, each update is prefixed with the system where it was originally generated and the sequence number on that system and any BC replicating secondary instances.</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="simp_examp"/>Simple Example</h4></div></div></div><p>The three systems initially operate in roles O (Originating primary instance), R (BC Replicating secondary instance) and S (recipient of an SI replication stream).</p><div class="informaltable"><table border="1"><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/></colgroup><thead><tr><th>
              <p><span class="bold"><strong>Ardmore</strong></span></p>
            </th><th>
              <p><span class="italic">BrynMawr</span></p>
            </th><th>
              <p><span class="underline">Malvern</span></p>
            </th><th>
              <p>Comments</p>
            </th></tr></thead><tbody><tr><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="bold"><strong>A99</strong></span></p>
            </td><td>
              <p>R: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span></p>
            </td><td>
              <p><span class="bold"><strong>Ardmore</strong></span> as an originating primary instance at transaction number <span class="bold"><strong>A99</strong></span>, replicates to <span class="italic">BrynMawr</span> as a BC replicating secondary instance at transaction number <span class="bold"><strong>A98</strong></span> and <span class="underline">Malvern</span> as a SI that includes transaction number <span class="bold"><strong>A97</strong></span>, interspersed with locally generated updates. Updates are recorded in each instance's journal files using before-image journaling.</p>
            </td></tr><tr><td>
              <p>Crashes</p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italic">B61</span></p>
            </td><td>
              <p>... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span></p>
            </td><td>
              <p>When an event disables <span class="bold"><strong>Ardmore</strong></span>, <span class="italic">BrynMawr</span> becomes the new originating primary, with <span class="bold"><strong>A98</strong></span> as the latest transaction in its database, and starts processing application logic to maintain business continuity. In this case where <span class="underline">Malvern</span> is not ahead of <span class="italic">BrynMawr</span>, the Receiver Server at <span class="underline">Malvern</span> can remain up after <span class="bold"><strong>Ardmore</strong></span> crashes. When <span class="italic">BrynMawr</span> connects, its Source Server and <span class="underline">Malvern</span>'s Receiver Server confirms that <span class="italic">BrynMawr</span> is not behind <span class="underline">Malvern</span> with respect to updates received from <span class="bold"><strong>Ardmore</strong></span>, and SI replication from <span class="italic">BrynMawr</span> picks up where replication from <span class="bold"><strong>Ardmore</strong></span> left off.</p>
            </td></tr><tr><td>
              <p>-</p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="italic">B61</span>, <span class="underline">M40</span></p>
            </td><td>
              <p><span class="underline">Malvern</span> operating as a supplementary instance to <span class="italic">BrynMawr</span> replicates transactions processed on <span class="italic">BrynMawr</span>, and also applies its own locally generated updates. Although <span class="bold"><strong>A98</strong></span> was originally generated on <span class="bold"><strong>Ardmore</strong></span>, <span class="underline">Malvern</span> received it from <span class="italic">BrynMawr</span> because <span class="bold"><strong>A97</strong></span> was the common point between <span class="italic">BrynMawr</span> and <span class="underline">Malvern</span>.</p>
            </td></tr><tr><td>
              <p>... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="bold"><strong>A99</strong></span></p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span>, <span class="italic">B63</span>, <span class="italic">B64</span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="italic">B61</span>, <span class="underline">M40</span>, <span class="italic">B62</span>, <span class="italic">B63</span></p>
            </td><td>
              <p><span class="underline">Malvern</span>, continuing as a supplementary instance to <span class="italic">BrynMawr</span>, replicates transactions processed on <span class="italic">BrynMawr</span>, and also applies its own locally generated updates. <span class="bold"><strong>Ardmore</strong></span> meanwhile has been repaired and brought online. It has to roll transaction <span class="bold"><strong>A99</strong></span> off its database into an Unreplicated Transaction Log before it can start operating as a replicating secondary instance to <span class="italic">BrynMawr</span>.</p>
            </td></tr><tr><td>
              <p>R: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span>, <span class="italic">B63</span>, <span class="italic">B64</span></p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span>, <span class="italic">B63</span>, <span class="italic">B64</span>, B65</p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="italic">B61</span>, <span class="underline">M40</span>, <span class="italic">B62</span>, <span class="italic">B63</span>, <span class="underline">M41</span>, <span class="italic">B64</span></p>
            </td><td>
              <p>Having rolled off transactions into an Unreplicated Transaction Log, <span class="bold"><strong>Ardmore</strong></span> can now operate as a replicating secondary instance to <span class="italic">BrynMawr</span>. This is normal BC Logical Multi-Site operation. <span class="italic">BrynMawr</span> and <span class="underline">Malvern</span> continue operating as originating primary instance and supplementary instance.</p>
            </td></tr></tbody></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="d0e23704"/>Ensuring Consistency with Rollback</h4></div></div></div><p>Whereas in the last example <span class="underline">Malvern</span> was not ahead when starting SI replication from <span class="italic">BrynMawr</span>, in this example, asynchronous processing has left it ahead and must rollback its database state before it can receive the replication stream.</p><div class="informaltable"><table border="1"><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/></colgroup><thead><tr><th>
              <p><span class="bold"><strong>Ardmore</strong></span></p>
            </th><th>
              <p><span class="italic">BrynMawr</span></p>
            </th><th>
              <p><span class="underline">Malvern</span></p>
            </th><th>
              <p>Comments</p>
            </th></tr></thead><tbody><tr><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="bold"><strong>A99</strong></span></p>
            </td><td>
              <p>R: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="underline">M40</span></p>
            </td><td>
              <p><span class="bold"><strong>Ardmore</strong></span> as an originating primary instance at transaction number <span class="bold"><strong>A99</strong></span>, replicates to <span class="italic">BrynMawr</span> as a BC replicating secondary instance at transaction number <span class="bold"><strong>A97</strong></span> and <span class="underline">Malvern</span> as a SI that includes transaction number <span class="bold"><strong>A98</strong></span>, interspersed with locally generated updates. Updates are recorded in each instance's journal files using before-image journaling.</p>
            </td></tr><tr><td>
              <p>Crashes</p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span></p>
            </td><td>
              <p>... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="underline">M40</span></p>
            </td><td>
              <p>When an event disables <span class="bold"><strong>Ardmore</strong></span>, <span class="italic">BrynMawr</span> becomes the new originating primary, with <span class="bold"><strong>A97</strong></span> the latest transaction in its database. <span class="underline">Malvern</span> cannot immediately start replicating from <span class="italic">BrynMawr</span> because the database states would not be consistent - while <span class="italic">BrynMawr</span> does not have <span class="bold"><strong>A98</strong></span> in its database and its next update may implicitly or explicitly depend on that absence, <span class="underline">Malvern</span> does, and may have relied on <span class="bold"><strong>A98</strong></span> to compute <span class="underline">M39</span> and <span class="underline">M40</span>.</p>
            </td></tr><tr><td>
              <p>-</p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="italic">B61</span></p>
            </td><td>
              <p>For <span class="underline">Malvern</span> to accept replication from <span class="italic">BrynMawr</span>, it must roll off transactions generated by <span class="bold"><strong>Ardmore</strong></span>, (in this case <span class="bold"><strong>A98</strong></span>) that <span class="italic">BrynMawr</span> does not have in its database, as well as any additional transactions generated and applied locally since transaction number <span class="bold"><strong>A98</strong></span> from <span class="bold"><strong>Ardmore</strong></span>.<sup>[<a id="d0e24014" href="ch07s01.html#ftn.d0e24014" class="footnote">a</a>]</sup> This rollback is accomplished with a MUPIP JOURNAL -ROLLBACK -FETCHRESYNC operation on <span class="underline">Malvern</span>.<sup>[<a id="d0e24021" href="ch07s01.html#ftn.d0e24021" class="footnote">b</a>]</sup> These rolled off transactions (<span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="underline">M40</span>) go into the Unreplicated Transaction Log and can be subsequently reprocessed by application code.<sup>[<a id="d0e24052" href="ch07s01.html#ftn.d0e24052" class="footnote">c</a>]</sup> Once the rollback is completed, <span class="underline">Malvern</span> can start accepting replication from <span class="italic">BrynMawr</span>.<sup>[<a id="d0e24062" href="ch07s01.html#ftn.d0e24062" class="footnote">d</a>]</sup> <span class="italic">BrynMawr</span> in its Originating Primary role processes transactions and provides business continuity, resulting in transactions <span class="italic">B61</span> and <span class="italic">B62</span>.</p>
            </td></tr><tr><td>
              <p>-</p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span>, <span class="italic">B63</span>, <span class="italic">B64</span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="italic">B61</span>, <span class="italic">B62</span>, <span class="underline">M39</span>a, <span class="underline">M40</span>a, <span class="italic">B63</span></p>
            </td><td>
              <p><span class="underline">Malvern</span> operating as a supplementary instance to <span class="italic">BrynMawr</span> replicates transactions processed on <span class="italic">BrynMawr</span>, and also applies its own locally generated updates. Note that <span class="underline">M39</span>a &amp; <span class="underline">M40</span>a may or may not be the same updates as the <span class="underline">M39</span> &amp; <span class="underline">M40</span> previously rolled off the database.</p>
            </td></tr></tbody><tbody class="footnotes"><tr><td colspan="4"><div class="footnote"><p><sup>[<a id="ftn.d0e24014" href="ch07s01.html#d0e24014" class="para">a</a>] </sup>As this rollback is more complex, may involve more data than the regular LMS rollback, and may involve reading journal records sequentially; it may take longer.</p></div><div class="footnote"><p><sup>[<a id="ftn.d0e24021" href="ch07s01.html#d0e24021" class="para">b</a>] </sup>In scripting for automating operations, there is no need to explicitly test whether <span class="italic">BrynMawr</span> is behind <span class="underline">Malvern</span> - if it is behind, the Source Server will fail to connect and report an error, which automated shell scripting can detect and effect a rollback on <span class="underline">Malvern</span> followed by a reconnection attempt by <span class="italic">BrynMawr</span>. On the other hand, there is no harm in <span class="underline">Malvern</span> routinely performing a rollback before having <span class="italic">BrynMawr</span> connect - if it is not ahead, the rollback will be a no-op. This characteristic of replication is unchanged from releases prior to V5.5-000.</p></div><div class="footnote"><p><sup>[<a id="ftn.d0e24052" href="ch07s01.html#d0e24052" class="para">c</a>] </sup>GT.M's responsibility for them ends once it places them in the Unreplicated Transaction Log.</p></div><div class="footnote"><p><sup>[<a id="ftn.d0e24062" href="ch07s01.html#d0e24062" class="para">d</a>] </sup>Ultimately, business logic must determine whether the rolled off transactions can simply be reapplied or whether other reprocessing is required. GT.M's $ZQGBLMOD() function can assist application code in determining whether conflicting updates may have occurred.</p></div></td></tr></tbody></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="rollback_design"/>Rollback Not Desired or Required by Application Design</h4></div></div></div><p>In the example above, for <span class="underline">Malvern</span> to start accepting SI replication from <span class="italic">BrynMawr</span> with consistency requires it to rollback its database because it is ahead of <span class="italic">BrynMawr</span>. There may be applications where the design of the application is such that this rollback neither required nor desired. GT.M provides a way for SI replication to start in this situation without rolling transactions off into an Unreplicated Transaction File.</p><div class="informaltable"><table border="1"><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/></colgroup><thead><tr><th>
              <p><span class="bold"><strong>Ardmore</strong></span></p>
            </th><th>
              <p><span class="italic">BrynMawr</span></p>
            </th><th>
              <p><span class="underline">Malvern</span></p>
            </th><th>
              <p>Comments</p>
            </th></tr></thead><tbody><tr><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="bold"><strong>A99</strong></span></p>
            </td><td>
              <p>R: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="underline">M40</span></p>
            </td><td>
              <p><span class="bold"><strong>Ardmore</strong></span> as an originating primary instance at transaction number <span class="bold"><strong>A99</strong></span>, replicates to <span class="italic">BrynMawr</span> as a BC replicating secondary instance at transaction number <span class="bold"><strong>A97</strong></span> and <span class="underline">Malvern</span> as a SI that includes transaction number <span class="bold"><strong>A98</strong></span>, interspersed with locally generated updates. Updates are recorded in each instance's journal files using before-image journaling.</p>
            </td></tr><tr><td>
              <p>Crashes</p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span></p>
            </td><td>
              <p>... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="underline">M40</span></p>
            </td><td>
              <p>When an event disables <span class="bold"><strong>Ardmore</strong></span>, <span class="italic">BrynMawr</span> becomes the new originating primary, with <span class="bold"><strong>A97</strong></span> the latest transaction in its database and starts processing application logic. Unlike the previous example, in this case, application design permits (or requires) <span class="underline">Malvern</span> to start replicating from <span class="italic">BrynMawr</span> even though <span class="italic">BrynMawr</span> does not have <span class="bold"><strong>A98</strong></span> in its database and <span class="underline">Malvern</span> may have relied on <span class="bold"><strong>A98</strong></span> to compute <span class="underline">M39</span> and <span class="underline">M40</span>.</p>
            </td></tr><tr><td>
              <p>-</p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="underline">M40</span>, <span class="italic">B61</span>, <span class="italic">B62</span></p>
            </td><td>
              <p>With its Receiver Server started with the -noresync option, <span class="underline">Malvern</span> can receive a SI replication stream from <span class="italic">BrynMawr</span>, and replication starts from the last common transaction shared by <span class="italic">BrynMawr</span> and <span class="underline">Malvern</span>. Notice that on <span class="italic">BrynMawr</span> no <span class="bold"><strong>A98</strong></span> precedes <span class="italic">B61</span>, whereas it does on <span class="underline">Malvern</span>, i.e., <span class="underline">Malvern</span> was ahead of <span class="italic">BrynMawr</span> with respect to the updates generated by <span class="bold"><strong>Ardmore</strong></span>.</p>
            </td></tr></tbody></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="two_ori_pri_fail"/>Two Originating Primary Failures</h4></div></div></div><p>Now consider a situation where <span class="bold"><strong>Ardmore</strong></span> and <span class="underline">Malvern</span> are located in one data center, with BC replication to <span class="italic">BrynMawr</span> and <span class="italicunderline">Newtown</span> respectively, located in another data center. When the first data center fails, the SI replication from <span class="bold"><strong>Ardmore</strong></span> to <span class="underline">Malvern</span> is replaced by SI replication from <span class="italic">BrynMawr</span> to <span class="italicunderline">Newtown</span>.</p><div class="informaltable"><table border="1"><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/><col class="c5"/></colgroup><thead><tr><th>
              <p><span class="bold"><strong>Ardmore</strong></span></p>
            </th><th>
              <p><span class="italic">BrynMawr</span></p>
            </th><th>
              <p><span class="underline">Malvern</span></p>
            </th><th>
              <p><span class="italicunderline">Newtown</span></p>
            </th><th>
              <p>Comments</p>
            </th></tr></thead><tbody><tr><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="bold"><strong>A99</strong></span></p>
            </td><td>
              <p>R: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="underline">M37</span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M38</span></p>
            </td><td>
              <p>R: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="underline">M37</span></p>
            </td><td>
              <p><span class="bold"><strong>Ardmore</strong></span> as an originating primary instance at transaction number <span class="bold"><strong>A99</strong></span>, replicates to <span class="italic">BrynMawr</span> as a BC replicating secondary instance at transaction number <span class="bold"><strong>A98</strong></span> and <span class="underline">Malvern</span> as a SI that includes transaction number <span class="bold"><strong>A97</strong></span>, interspersed with locally generated updates. <span class="underline">Malvern</span> in turn replicates to <span class="italicunderline">Newtown</span>.</p>
            </td></tr><tr><td>
              <p>Goes down with the data center</p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span></p>
            </td><td>
              <p>Goes down with the data center</p>
            </td><td>
              <p>... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="underline">M37</span></p>
            </td><td>
              <p>When a data center outage disables <span class="bold"><strong>Ardmore</strong></span>, and <span class="underline">Malvern</span>, <span class="italic">BrynMawr</span> becomes the new originating primary, with <span class="bold"><strong>A98</strong></span> as the latest transaction in its database and starts processing application logic to maintain business continuity. <span class="italicunderline">Newtown</span> can receive the SI replication stream from <span class="italic">BrynMawr</span>, without requiring a rollback since the receiver is not ahead of the source.</p>
            </td></tr><tr><td>
              <p>-</p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span></p>
            </td><td>
              <p>-</p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="underline">M37</span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italicunderline">N73</span>, <span class="italic">B61</span>, <span class="italicunderline">N74</span>, <span class="italic">B62</span></p>
            </td><td>
              <p><span class="italicunderline">Newtown</span> receives SI replication from <span class="italic">BrynMawr</span> and also applies its own locally generated updates. Although <span class="bold"><strong>A97</strong></span> and <span class="bold"><strong>A98</strong></span> were originally generated on <span class="bold"><strong>Ardmore</strong></span>, <span class="italicunderline">Newtown</span> receives them from <span class="italic">BrynMawr</span>. <span class="italicunderline">Newtown</span> also computes and applies locally generated updates</p>
            </td></tr><tr><td>
              <p>... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="bold"><strong>A99</strong></span></p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span>, <span class="italic">B63</span>, <span class="italic">B64</span></p>
            </td><td>
              <p>... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="underline">M37</span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M38</span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="underline">M37</span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italicunderline">N73</span>, <span class="italic">B61</span>, <span class="italicunderline">N74</span>, <span class="italic">B62</span>, <span class="italicunderline">N75</span>, <span class="italic">B63</span>, <span class="italicunderline">N76</span>, <span class="italic">B64</span></p>
            </td><td>
              <p>While <span class="italic">BrynMawr</span> and <span class="italicunderline">Newtown</span>, keep the enterprise in operation, the first data center is recovered. Since <span class="bold"><strong>Ardmore</strong></span> has transactions in its database that were not replicated to <span class="italic">BrynMawr</span> when the latter started operating as the originating primary instance, and since <span class="underline">Malvern</span> had transactions that were not replicated to <span class="italicunderline">Newtown</span> when the latter took over, <span class="bold"><strong>Ardmore</strong></span> and <span class="underline">Malvern</span> must now rollback their databases and create Unreplicated Transaction Files before receiving BC replication streams from <span class="italic">BrynMawr</span> and <span class="italicunderline">Newtown</span> respectively. <span class="bold"><strong>Ardmore</strong></span> rolls off <span class="bold"><strong>A98</strong></span> and <span class="bold"><strong>A99</strong></span>, <span class="underline">Malvern</span> rolls off <span class="bold"><strong>A97</strong></span> and <span class="underline">M38</span>.</p>
            </td></tr><tr><td>
              <p>R: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span>, <span class="italic">B63</span>, <span class="italic">B64</span></p>
            </td><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="italic">B61</span>, <span class="italic">B62</span>, <span class="italic">B63</span>, <span class="italic">B64</span>, B65</p>
            </td><td>
              <p>R: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="underline">M37</span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italicunderline">N73</span>, <span class="italic">B61</span>, <span class="italicunderline">N74</span>, <span class="italic">B62</span>, <span class="italicunderline">N75</span>, <span class="italic">B63</span>, <span class="italicunderline">N76</span>, <span class="italic">B64</span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="underline">M37</span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="italicunderline">N73</span>, <span class="italic">B61</span>, <span class="italicunderline">N74</span>, <span class="italic">B62</span>, <span class="italicunderline">N75</span>, <span class="italic">B63</span>, <span class="italicunderline">N76</span>, <span class="italic">B64</span>, <span class="italicunderline">N77</span></p>
            </td><td>
              <p>Having rolled off transactions into an Unreplicated Transaction Log, <span class="bold"><strong>Ardmore</strong></span> can now operate as a replicating secondary instance to <span class="italic">BrynMawr</span>. This is normal BC Logical Multi-Site operation. <span class="italic">BrynMawr</span> and <span class="underline">Malvern</span> continue operating as originating primary instance and supplementary instance. Note that having rolled <span class="bold"><strong>A97</strong></span> off its database, <span class="underline">Malvern</span> receives that transaction from <span class="italicunderline">Newtown</span> as it catches up.</p>
            </td></tr></tbody></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="replication_on_rlbk"/>Replication and Online Rollback</h4></div></div></div><p>Consider the following example where <span class="bold"><strong>Ardmore</strong></span> rolls back its database in state space while an application is in operation. using the MUPIP JOURNAL -ROLLBACK -BACKWARD -ONLINE feature. </p><div class="informaltable"><table border="1"><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/></colgroup><thead><tr><th>
              <p><span class="bold"><strong>Ardmore</strong></span></p>
            </th><th>
              <p><span class="italic">BrynMawr</span></p>
            </th><th>
              <p><span class="underline">Malvern</span></p>
            </th><th>
              <p>Comments</p>
            </th></tr></thead><tbody><tr><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="bold"><strong>A98</strong></span>, <span class="bold"><strong>A99</strong></span></p>
            </td><td>
              <p>R: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span></p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="underline">M40</span></p>
            </td><td>
              <p><span class="bold"><strong>Ardmore</strong></span> as an originating primary instance at transaction number <span class="bold"><strong>A99</strong></span>, replicates to <span class="italic">BrynMawr</span> as a BC replicating secondary instance at transaction number <span class="bold"><strong>A97</strong></span> and <span class="underline">Malvern</span> as a SI that includes transaction number <span class="bold"><strong>A98</strong></span>, interspersed with locally generated updates. Updates are recorded in each instance's journal files using before-image journaling.</p>
            </td></tr><tr><td>
              <p>Rolls back to <span class="bold"><strong>A96</strong></span> with <span class="bold"><strong>A97</strong></span> through <span class="bold"><strong>A99</strong></span> in the Unreplicated Transaction Log</p>
            </td><td>
              <p>Rolls back automatically to <span class="bold"><strong>A96</strong></span> (assume Receiver Server started with -autorollback - refer to the V5.5-000 Release Notes for details.</p>
            </td><td>
              <p>-</p>
            </td><td>
              <p>Instances receiving a replication stream from <span class="bold"><strong>Ardmore</strong></span> can be configured to rollback automatically when <span class="bold"><strong>Ardmore</strong></span> performs an online rollback by starting the Receiver Server with -autorollback. If <span class="underline">Malvern</span>'s Receiver Server is so configured, it will roll <span class="bold"><strong>A97</strong></span> through <span class="underline">M40</span> into an Unreplicated Transaction Log. This scenario is straightforward. But with the -noresync qualifier, the Receiver Server can be started configured to simply resume replication without rolling back, and that scenario is developed here.</p>
            </td></tr><tr><td>
              <p>O: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>a, <span class="bold"><strong>A98</strong></span>a, <span class="bold"><strong>A99</strong></span>a</p>
            </td><td>
              <p>R: ... <span class="bold"><strong>A95</strong></span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>a, <span class="bold"><strong>A98</strong></span>a</p>
            </td><td>
              <p>S: ... <span class="underline">M34</span>, <span class="bold"><strong>A95</strong></span>, <span class="underline">M35</span>, <span class="underline">M36</span>, <span class="bold"><strong>A96</strong></span>, <span class="bold"><strong>A97</strong></span>, <span class="underline">M37</span>, <span class="underline">M38</span>, <span class="bold"><strong>A98</strong></span>, <span class="underline">M39</span>, <span class="underline">M40</span>, <span class="bold"><strong>A97</strong></span>a, <span class="underline">M41</span>, <span class="bold"><strong>A98</strong></span>a, <span class="underline">M42</span></p>
            </td><td>
              <p>Transactions <span class="bold"><strong>A97</strong></span>a through <span class="bold"><strong>A99</strong></span>a are different transactions from <span class="bold"><strong>A97</strong></span> through <span class="bold"><strong>A99</strong></span> (which are in an Unreplicated Transaction File on <span class="bold"><strong>Ardmore</strong></span> and must be reprocessed). Note that <span class="underline">Malvern</span> has both the original <span class="bold"><strong>A97</strong></span> and <span class="bold"><strong>A98</strong></span> as well as <span class="bold"><strong>A97</strong></span>a and <span class="bold"><strong>A98</strong></span>a. <span class="bold"><strong>A99</strong></span> was never replicated to <span class="underline">Malvern</span> - <span class="bold"><strong>Ardmore</strong></span> rolled back before it was replicated, and <span class="bold"><strong>A99</strong></span>a has not yet made it to <span class="underline">Malvern</span> (it will soon, unless <span class="bold"><strong>Ardmore</strong></span> rolls back again).</p>
            </td></tr></tbody></table></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="si_repl_limits"/>Limitations - SI Replication</h3></div></div></div><p>starting V5.5-000, GT.M does not support replication between platforms with GT.M releases prior to V5.1-000. To upgrade to GT.M V5.5-000, first upgrade to GT.M V5.1-000 or later as an intermediate step.</p><p>Although a receiver of SI replication can source a BC replication stream for downstream propagation, it cannot source an SI replication stream. So, in the example above, while <span class="underline">Malvern</span> can receive SI replication from <span class="bold"><strong>Ardmore</strong></span> or <span class="italic">BrynMawr</span>, and it can source a BC replication stream to <span class="italicunderline">Newtown</span>, which can in turn source a BC replication stream to Oxford. Thus, none of <span class="underline">Malvern</span>, <span class="italicunderline">Newtown</span> or Oxford can source an SI replication stream.</p><p>Also an instance can only receive a single SI replication stream. <span class="underline">Malvern</span> cannot receive SI replication from an instance other than <span class="bold"><strong>Ardmore</strong></span> (or an instance receiving BC replication from <span class="bold"><strong>Ardmore</strong></span>, such as <span class="italic">BrynMawr</span>). <span class="italicunderline">Newtown</span> or Oxford are replicating secondary instances and can receive no updates other than from <span class="underline">Malvern</span>.</p><p>The total number of replication streams that an instance can source is sixteen, with any combination of BC and SI replication.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="Replication_Architecture"/>Replication Architecture<a id="d0e25614" class="indexterm"/>
<a id="d0e25620" class="indexterm"/>
</h3></div></div></div><p>The following diagram illustrates a BC replication configuration deployed as Ba??Aa??C. White (top) is the originating instance processing business logic, while Rose (left) and Yellow (right) are replicating instances. The dotted line represents a TCP connection and the red dots show the movement of transactions.  If White goes down in an unplanned or planned event, either Rose or Yellow can become the originating instance within seconds to tens of seconds, and the other instance can become a replicating instance to the new originating instance. When White recovers, it rejoins as a replicating instance to the new originating instance. At some suitable future time, when so desired, White can again be made the originating instance.</p><p>

<img src="ao_figures/repl_anim.gif" height="700"/>
</p><a id="d0e25633" class="indexterm"/><a id="d0e25636" class="indexterm"/><a id="d0e25639" class="indexterm"/><a id="d0e25642" class="indexterm"/><p>When a process commits a transaction on White, GT.M provides Durability by writing and "hardening" an update record to the journal file and then the database file. The same process also writes the update records to an area of shared memory called a Replication Journal Pool as part of committing the transaction, but does not wait for Rose and Yellow to commit the transaction (this means that a failure of the network between instances does not stop application operation on White). Two Source Server processes, one for Rose and one for Yellow, read journal update records from the Replication Journal Pool and stream updates over TCP connections to Receiver Server processes on the replicating instances they serve.</p><p>Under normal conditions, White Source Servers stream update records from the Replication Journal Pool to the Rose and Yellow Receiver Servers. The Replication Journal Pool is a shared memory segment that does not expand after its initial creation. If updates for the database state to which the replicating instance needs to catch up are no longer in the Replication Journal Pool, the Source Server finds the updates in journal files, until the replicating instance catches up to the point where the remaining required updates can again come from the Replication Journal Pool. The diagram represents this with the curved lines from the journal file to the Source Server processes.</p><p>A Source Server  can be in either of two modes--active mode or passive mode.  </p><p>In active mode, a Source Server connects to the Receiver Server on its replicating instance and transfers update records from the Replication Journal Pool via the communication channel. If an active Source Server is not connected to its Receiver Server, it makes repeated attempts to connect until it succeeds. When an active Source Server connects with its Receiver Server, they ensure their two instances are in sync before proceeding with replication. In the diagram, the White Source Servers are in active mode. When an active Source Server receives a command to switch to passive mode, it closes the connection with its Receiver Server and "goes to sleep" until it receives a command to become active.</p><p>In passive mode, a Source Server is in a stand-by state. </p><p>On a primary instance, the first active Source Server creates the Replication Journal Pool before beginning to transmit updates to the secondary instance. Transition an active Source Server of a primary to passive when you want to pause replicating updates to the secondary instance but continue performing updates on the primary. When you are ready to resume replicating updates from the primary, transition the passive Source Server to active.</p><p>Replication requires each instance to have its own Replication Journal Pool. Additionally, an instance that receives a replication stream must have its own Receiver Pool. </p><p>On a secondary instance, the Receiver Server creates the Receiver Pool and a passive Source Server (pointing to either a replicating instance downstream or a dummy (non-existing) replicating instance when there is no replicating instance downstream) creates the Replication Journal Pool. White, Rose, and Yellow can be appropriate names of replication instances in the diagram. The passive Source Servers of Rose and Yellow instances both point to a dummy instance as there are no replicating instances downstream.   </p><p>On Rose and Yellow instances, a Receiver Server receives update records sent by the White Source Server and puts them in the Receiver Pool, which is in a shared memory segment. Source and Receiver Server processes implement flow control to ensure that the Receiver Pool does not overflow.  The Update Process picks these update records and writes them to the journal file, the database file, and the Replication Journal Pool. The Update Process on a replicating instance performs operations analogous to "Application Logic" on the originating instance.</p><p>Under typical operating conditions, with no system or network bottlenecks, GT.M moves a transaction off the originating instance and into the care of the network moving towards its replicating instance in sub-millisecond time frames. Network transit times then determine how long the transaction message takes to reach the replicating instance. Because it uses a change- or delta-based protocol, GT.M Replication uses network bandwidth efficiently which makes GT.M less resource intensive than physical replication solutions. Furthermore, the Source Server can compress the byte stream which the Receiver Server then decompresses; alternatively network routers can perform the compression and decompression.  When starting replication, you can enable TLS replication to secure replication between instances. Alternatively, you can use standard techniques at the stack or router for encrypting TCP connections to secure the replication stream.</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="helper_processes"/>Helper Processes<a id="d0e25668" class="indexterm"/></h4></div></div></div><p>Helper processes accelerate the rate at which an Update Process can apply an incoming replication stream to the database on a replicating instance. They increase replication throughput, decrease backlog, and improve manageability.</p><p>The GT.M database engine performs best when multiple processes concurrently access the database, cooperating with one another to manage it. Therefore, it is possible for the tens, hundreds or thousands of application processes executing on an originating instance to outperform a replicating instance with only a single Update Process. Helper processes enable the update process to apply database updates faster and thereby keep up.</p><p>There are two types of helper processes: </p><a id="d0e25679" class="indexterm"/><a id="d0e25684" class="indexterm"/><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Reader: Reader processes read the update records in the Receive Pool and attempt to pre-fetch database blocks into the global buffer pools, so they are more quickly available for the Update Process.</p></li><li class="listitem"><p>Writer: Writer processes help the Update Process by flushing database and journal records from shared memory (global and journal buffers) to the file system.</p></li></ol></div><p>A certain number of each type of helper process maximizes throughput. As a practical matter, as long as the file system bandwidth on a replicating instance is equal to or greater than that of the originating instance providing its replication stream, there need be little concern about having too many helper processes.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>There may be other reasons for a replicating instance to lag behind its originating instance during replication. Helper processes cannot improve situations such as the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>There is a bottleneck in the network between the originating and replicating instances--increase the network bandwidth or use compression.</p></li><li class="listitem"><p>The hardware of the replicating instance is not as capable as that of the hardware on the originating instance--upgrade the hardware of the replicating instance.</p></li></ul></div></td></tr></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="Filters"/>Filters<a id="d0e25713" class="indexterm"/><a id="d0e25718" class="indexterm"/></h4></div></div></div><p>A Filter is a conversion program that transforms a replication stream to a desired schema.  It operates as a traditional UNIX filter, reading from STDIN and writing to STDOUT.  Both input and output use the GT.M journal extract format. A filter can operate on an originating instance or a replicating instance. When the originating instance is an older application version, a filter can change the update records from the old schema to the new schema.  When the originating instance is the newer application version, a filter can change the update records from the new schema to the old schema. Once you have logic for converting records in the old schema to the new schema, the per record code serves as the basis for the filter by replacing the scanning logic with logic to read the extract format and extract the update and completing the filter by reassembling the revised record(s) into the GT.M extract format.</p><p>For complete redundancy during rolling upgrades, you must also have a filter that changes transactions from the new schema to the old schema.  The principal restriction in creating schema change filters is that the filter must not change the number of transactions in the replication stream, since GT.M uses the journal sequence numbers for checking and restoring the logical equivalence of instances.</p><p>This means:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>If a replication stream contains transactions, for each input transaction, the filter must produce one and exactly one output transaction.  It's acceptable for a transaction to be empty, that is, to make no database updates.</p></li><li class="listitem"><p>If an update in a replication stream is outside a transaction, it is considered a transaction in that the journal sequence number is to be incremented by one.</p></li><li class="listitem"><p>If the schema change requires a single database update, simply emit the new update in the output stream.</p></li><li class="listitem"><p>If the schema change requires no database updates in the new schema, emit a single empty transaction.</p></li><li class="listitem"><p>If the schema change requires multiple database updates in the new schema, create a transaction, and package all the updates inside that transaction.</p></li></ul></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="repl_instance_file"/>Replication Instance File<a id="d0e25748" class="indexterm"/><a id="d0e25753" class="indexterm"/></h4></div></div></div><p>A Replication Instance file maintains the current state of an instance. It also serves as a repository of the history of the journal sequence numbers that are generated locally or received from other instances.</p><p>It includes 3 sections --  File Header, Source Server slots, and History Records.</p><p>The File Header section records information about the current instance, such as semaphore and shared memory ids of the Journal and Receive Pool, journal sequence number of the current instance.</p><p>The Source Server slots store information for each replicating instance for which a Source Server is started. A slot stores the name of the replicating instance, the last transmitted sequence number, and the sequence number when the Source Server was last connected to the originating instance (Connect Sequence Number).</p><p>A Replication Instance file has 16 slots. Initially, all are unused. A Source Server replicating to a replicating instance for the first time utilizes an unused slot to store the information and any future Source Server process replicating to the same replicating instance updates this information.</p><p>If an unused slot is not available, the first time a Source Server is started to replicate to an instance, the slot for the least recently started replicating instance is reused, and the information that is previously stored in that slot is overwritten. Any subsequent mupip replic -source on the preempted replicating instance generates a REPLINSTSECNONE message.</p><p>Preemption of slots does not occur if an instance connects to no more than 16 different replicating instances throughout its lifetime.</p><a id="d0e25772" class="indexterm"/><p>In the History Records section, GT.M maintains the history of on instance as a set of records. GT.M adds new history records to the tail of the instance file whenever an instance changes from being an originating instance to replicating instance or vice versa. The only exception being when MUPIP JOURNAL -ROLLBACK removes history records for rolled back updates from the tail of the instance file. Every record identifies a range of journal sequence numbers and the name of the originating instance that generated those journal records. The first history record starts with the current journal sequence number of the instance.</p><p>When an originating instance transmits a sequence number to a replicating instance, GT.M records the originating instance name as "Root Primary Instance Name" in the replication instance file history of both the instances. The same rule applies when a replicating instance acts as an originating instance for another replicating instance downstream.</p><p>This history serves to determine the journal sequence numbers through which both instances are synchronized when two instances attempt to connect. GT.M determines this journal sequence number by going back in the history of both the instance files to find the most recent shared journal sequence number generated by the Originating Instance. If the shared journal sequence number matches the current journal sequence number of the Replicating Instance, the Receiver Server on the replicating instance continues with normal replication.  Otherwise, a synchronization requires a MUPIP JOURNAL -ROLLBACK -FETCHRESYNC, or if configured, an autorollback on the Replicating Instance to rollback to a common synchronization point from which the originating instance can transmit updates to allow the Replicating Instance to catch up.</p><a id="d0e25781" class="indexterm"/><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Proper operation requires the Replication Instance file be consistent with the snapshot of the database files in a backup. MUPIP BACKUP -REPLINSTANCE creates a backup of the Replication Instance file.  Before backing up the replication instance file, you must start the Source Server for the instance at least once . If the replication instance file is damaged or deleted, you must create a new instance file, and all recreate all downstream Replicating Instances from backups. </p></td></tr></table></div></div></div><div class="footnotes"><br/><hr width="100" align="left"/><div class="footnote"><p><sup>[<a id="ftn.d0e23012" href="ch07s01.html#d0e23012" class="para">1</a>] </sup>GT.M database replication is compatible with clustering - each instance can be a "hot-warm" cluster where if one node fails, another node can recover the database and continue operation. Since GT.M LMS application configurations provides better business continuity in the face of a greater range of eventualities than clusters, if you wish to use clusters, consider their use in conjunction with, rather than instead of, GT.M LMS  configurations.</p></div></div></div><script type="text/javascript" src="../common/main.js"><!----></script><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07.html">Prev</a>A </td><td width="20%" align="center"><a accesskey="u" href="ch07.html">Up</a></td><td width="40%" align="right">A <a accesskey="n" href="ch07s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">A </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">A </td></tr></table></div></div><div><div id="leftnavigation" style="padding-top:3px; background-color:white;"><div id="tabs"><ul><li><a href="ch07s01.html#treeDiv"><em>Contents</em></a></li><li><a href="ch07s01.html#searchDiv"><em>Search</em></a></li></ul><div id="treeDiv"><img src="../common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none"><ul id="tree" class="filetree"><li><span class="file"><a href="preface.html">About This Manual </a></span><ul><li><span class="file"><a href="pr01s01.html">Intended Audience</a></span></li><li><span class="file"><a href="pr01s02.html">Purpose of the Manual</a></span></li><li><span class="file"><a href="pr01s03.html">How to Use This Manual</a></span></li><li><span class="file"><a href="pr01s04.html">Overview</a></span></li><li><span class="file"><a href="pr01s05.html">Conventions Used in This Manual</a></span></li></ul></li><li><span class="file"><a href="ch01.html">About GT.M</a></span><ul><li><span class="file"><a href="ch01s01.html">Hardware/Operating System Environment</a></span></li><li><span class="file"><a href="ch01s02.html">Installation</a></span></li><li><span class="file"><a href="ch01s03.html">Security</a></span></li><li><span class="file"><a href="ch01s04.html">Program Development Environment</a></span></li><li><span class="file"><a href="ch01s05.html">Database Subsystem</a></span></li><li><span class="file"><a href="ch01s06.html">GT.M Utility Programs</a></span><ul><li><span class="file"><a href="ch01s06.html#util_prog_gde">GDE</a></span></li><li><span class="file"><a href="ch01s06.html#util_mup">MUPIP</a></span></li><li><span class="file"><a href="ch01s06.html#lke_intr">LKE</a></span></li><li><span class="file"><a href="ch01s06.html#dse_intr">DSE </a></span></li><li><span class="file"><a href="ch01s06.html#comm_quals_utils">Command Qualifiers</a></span></li></ul></li><li><span class="file"><a href="ch01s07.html">Database Integrity</a></span></li><li><span class="file"><a href="ch01s08.html">Interprocess Communication</a></span></li></ul></li><li><span class="file"><a href="ch02.html">Installing GT.M</a></span><ul><li><span class="file"><a href="ch02s01.html">Obtaining GT.M Distribution Media</a></span></li><li><span class="file"><a href="ch02s02.html">Before you begin</a></span></li><li><span class="file"><a href="ch02s03.html">Installation Procedure</a></span><ul><li><span class="file"><a href="ch02s03.html#shr_lib_plu">Compiling the Reference Implementation Plugin </a></span><ul><li><span class="file"><a href="ch02s03.html#recompile_ref_impl">Instructions</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch02s04.html">gtminstall script
  </a></span></li></ul></li><li><span class="file"><a href="ch03.html">Basic Operations</a></span><ul><li><span class="file"><a href="ch03s01.html">GT.M Environment Setup </a></span><ul><li><span class="file"><a href="ch03s01.html#gtmprofile_script">gtmprofile </a></span></li><li><span class="file"><a href="ch03s01.html#gtmcshrc">gtmcshrc</a></span></li><li><span class="file"><a href="ch03s01.html#gtmbase">gtmbase </a></span></li><li><span class="file"><a href="ch03s01.html#gdedefaults">gdedefaults</a></span></li><li><span class="file"><a href="ch03s01.html#gtm_script">gtm </a></span></li></ul></li><li><span class="file"><a href="ch03s02.html">Environment Variables</a></span></li><li><span class="file"><a href="ch03s03.html">Configuring and operating GT.M with UnicodeA(R) support (optional) </a></span><ul><li><span class="file"><a href="ch03s03.html#m_utf8_modes">M mode and UTF-8 mode </a></span></li><li><span class="file"><a href="ch03s03.html#compile_icu_gtm">Compiling ICU </a></span></li></ul></li><li><span class="file"><a href="ch03s04.html">Starting GT.M </a></span></li><li><span class="file"><a href="ch03s05.html">Configuring huge pages for GT.M x86[-64] on Linux</a></span><ul><li><span class="file"><a href="ch03s05.html#huge_use">Using huge pages</a></span><ul><li><span class="file"><a href="ch03s05.html#using_huge_pages">Using huge pages for shared memory</a></span></li><li><span class="file"><a href="ch03s05.html#using_huge_pages_for_ppm">Using huge pages for GT.M process private memory</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch03s06.html">Configuring the Restriction facility</a></span><ul><li><span class="file"><a href="ch03s06.html#zsysfilter">ZSYSTEM and PIPE OPEN command restriction facility</a></span></li><li><span class="file"><a href="ch03s06.html#audit_principal_device">Audit Logging facility</a></span><ul><li><span class="file"><a href="ch03s06.html#apd_logging">Logging</a></span></li></ul></li></ul></li></ul></li><li><span class="file"><a href="gdechap.html">Global Directory Editor</a></span><ul><li><span class="file"><a href="glbl_dir_intro.html">Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html">GDE Overview</a></span><ul><li><span class="file"><a href="gde_overview.html#identifygd">Identifying the Current Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html#creategd">Creating a Default Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html#map_glbl">Mapping Global Variables in a Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html#examine_def">Examining the Default Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html#abbrev_gd">Global Directory Abbreviations</a></span></li><li><span class="file"><a href="gde_overview.html#custom_glbldir">Customizing a Global Directory</a></span><ul><li><span class="file"><a href="gde_overview.html#add_jrnl">Adding a Journaling Information Section</a></span></li></ul></li></ul></li><li><span class="file"><a href="using_gde.html">Using GDE</a></span><ul><li><span class="file"><a href="using_gde.html#map_guides">Guidelines for Mapping</a></span><ul><li><span class="file"><a href="using_gde.html#basic_map">Example of a Basic Mapping</a></span></li></ul></li></ul></li><li><span class="file"><a href="gdecmds.html">Global Director Editor Commands</a></span><ul><li><span class="file"><a href="gdecmds.html#specify_file_names_in_cmmd_lines">Specifying File Names in Command Lines</a></span></li><li><span class="file"><a href="gdecmds.html#fonts_conv">Font/Capitalization Conventions Used in this Chapter</a></span></li><li><span class="file"><a href="gdecmds.html#at_sign">@</a></span></li><li><span class="file"><a href="gdecmds.html#gde_add">Add</a></span><ul><li><span class="file"><a href="gdecmds.html#add_name">-Name</a></span></li><li><span class="file"><a href="gdecmds.html#add_seg">-Segment</a></span></li><li><span class="file"><a href="gdecmds.html#add_reg">-Region</a></span></li><li><span class="file"><a href="gdecmds.html#add_gbl">-Gblname</a></span></li></ul></li><li><span class="file"><a href="gdecmds.html#gde_change">Change</a></span></li><li><span class="file"><a href="gdecmds.html#gde_delete">Delete</a></span></li><li><span class="file"><a href="gdecmds.html#gde_exit">Exit</a></span></li><li><span class="file"><a href="gdecmds.html#gde_help">Help</a></span></li><li><span class="file"><a href="gdecmds.html#gde_locks">LOCks</a></span></li><li><span class="file"><a href="gdecmds.html#gde_log">LOG</a></span></li><li><span class="file"><a href="gdecmds.html#gde_quit">Quit</a></span></li><li><span class="file"><a href="gdecmds.html#gde_rename">Rename</a></span></li><li><span class="file"><a href="gdecmds.html#setgd">SEtgd</a></span></li><li><span class="file"><a href="gdecmds.html#gde_show">SHow</a></span></li><li><span class="file"><a href="gdecmds.html#gde_template">Template </a></span></li><li><span class="file"><a href="gdecmds.html#gde_verify">Verify</a></span></li></ul></li><li><span class="file"><a href="nameregseg.html">Name, Region, and Segment Qualifiers</a></span><ul><li><span class="file"><a href="nameregseg.html#name_qualifiers">Name Qualifiers</a></span></li><li><span class="file"><a href="nameregseg.html#region_qual">Region Qualifiers</a></span></li><li><span class="file"><a href="nameregseg.html#segment_quals">Segment Qualifiers</a></span></li><li><span class="file"><a href="nameregseg.html#gblname_qual">Gblname Qualifiers</a></span></li><li><span class="file"><a href="nameregseg.html#instance_qual">Instance Qualifier</a></span></li></ul></li><li><span class="file"><a href="gde_cmmd_summ.html">GDE Command Summary</a></span><ul><li><span class="file"><a href="gde_cmmd_summ.html#qual_summ">GDE Command Qualifier Summary</a></span></li></ul></li></ul></li><li><span class="file"><a href="mupipchap.html">General Database Management</a></span><ul><li><span class="file"><a href="mup_intro.html">Introduction</a></span><ul><li><span class="file"><a href="mup_intro.html#mup_operations">Operations - Standalone and Concurrent Access</a></span></li><li><span class="file"><a href="mup_intro.html#mupip_main">MUPIP</a></span></li></ul></li><li><span class="file"><a href="gdm.html">Commands and Qualifiers</a></span><ul><li><span class="file"><a href="gdm.html#mup_back">BACKUP</a></span><ul><li><span class="file"><a href="gdm.html#backup_bkupdbjnl">-BKupdbjnl</a></span></li><li><span class="file"><a href="gdm.html#backup_bytestream">-Bytestream</a></span></li><li><span class="file"><a href="gdm.html#backup_database">-Database</a></span></li><li><span class="file"><a href="gdm.html#backup_nettimeout">-NETtimeout</a></span></li><li><span class="file"><a href="gdm.html#mup_newjnlfiles">-NEWJNLFILES</a></span></li><li><span class="file"><a href="gdm.html#backup_online">-Online</a></span></li><li><span class="file"><a href="gdm.html#backup_record">-Record</a></span></li><li><span class="file"><a href="gdm.html#backup_replace">-REPLace</a></span></li><li><span class="file"><a href="gdm.html#backup_replinstance">-REPLInstance </a></span></li><li><span class="file"><a href="gdm.html#backup_retry">-RETry </a></span></li><li><span class="file"><a href="gdm.html#backup_showprogress">-SHowprogress </a></span></li><li><span class="file"><a href="gdm.html#backup_since">-Since</a></span></li><li><span class="file"><a href="gdm.html#backup_transaction">-Transaction</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_backup">Examples for MUPIP BACKUP</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_create">CREATE</a></span><ul><li><span class="file"><a href="gdm.html#create_v6">-V6</a></span></li><li><span class="file"><a href="gdm.html#create_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_create">Examples for MUPIP CREATE</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_downgrade">DOWNGRADE</a></span><ul><li><span class="file"><a href="gdm.html#down_ver">-VERSION={V4|V5|V63000A}</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_downgrade">Examples for MUPIP DOWNGRADE</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_dumpfhead">DUMPFHEAD</a></span><ul><li><span class="file"><a href="gdm.html#mup_dumpfhead_file">-FILE=file</a></span></li><li><span class="file"><a href="gdm.html#mup_dumpfhead_flush">-FLUSH</a></span></li><li><span class="file"><a href="gdm.html#mup_dumpfhead_region">-REGION=region</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_dumpfhead">Examples for MUPIP DUMPFHEAD</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_endiancvt">ENDIANCVT </a></span><ul><li><span class="file"><a href="gdm.html#endiancvt_override">-OVerride</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_endiancvt">Examples for MUPIP ENDIANCVT</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_exit">EXIT</a></span></li><li><span class="file"><a href="gdm.html#mup_extend">EXTEND</a></span><ul><li><span class="file"><a href="gdm.html#extend_blocks">-Blocks</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_extend">Examples for MUPIP EXTEND</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_extract">EXTRACT</a></span><ul><li><span class="file"><a href="gdm.html#extract_format">-FOrmat</a></span></li><li><span class="file"><a href="gdm.html#extract_freeze">-FReeze</a></span></li><li><span class="file"><a href="gdm.html#extract_label">-LAbel</a></span></li><li><span class="file"><a href="gdm.html#extract_log">-LOg</a></span></li><li><span class="file"><a href="gdm.html#extract_null_iv">-Null_iv</a></span></li><li><span class="file"><a href="gdm.html#extract_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#extract_select">-Select</a></span></li><li><span class="file"><a href="gdm.html#extract_stdout">-STdout</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_extract">Examples for MUPIP EXTRACT</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_freeze">FREEZE
</a></span><ul><li><span class="file"><a href="gdm.html#mup_freeze_off">-OFf</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_on">-ON</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_autorelease">-[NO]A[UTORELEASE</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_online">-ONLine</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_override">-OVerride</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_record">-Record</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_freeze">Examples for MUPIP FREEZE</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_ftok">FTOK
</a></span><ul><li><span class="file"><a href="gdm.html#ftok_db">-DB</a></span></li><li><span class="file"><a href="gdm.html#ftok_jnlpool">-JNLPOOL</a></span></li><li><span class="file"><a href="gdm.html#ftok_recvpool">-RECVPOOL</a></span></li><li><span class="file"><a href="gdm.html#ftok_id">-ID</a></span></li><li><span class="file"><a href="gdm.html#ftok_only">-ONLY</a></span></li><li><span class="file"><a href="gdm.html#ftok_header">-HEADER</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_hash">HASH</a></span></li><li><span class="file"><a href="gdm.html#mup_integ">INTEG
</a></span><ul><li><span class="file"><a href="gdm.html#integ_adjacency">-ADjacency</a></span></li><li><span class="file"><a href="gdm.html#integ_block">-BLock</a></span></li><li><span class="file"><a href="gdm.html#integ_brief">-BRief</a></span></li><li><span class="file"><a href="gdm.html#integ_fast">-FAst</a></span></li><li><span class="file"><a href="gdm.html#integ_file">-FIle</a></span></li><li><span class="file"><a href="gdm.html#integ_full">-FUll</a></span></li><li><span class="file"><a href="gdm.html#integ_keyranges">-Keyranges</a></span></li><li><span class="file"><a href="gdm.html#integ_map">-MAP</a></span></li><li><span class="file"><a href="gdm.html#integ_maxkeysize">-MAXkeysize</a></span></li><li><span class="file"><a href="gdm.html#integ_online">-Online </a></span></li><li><span class="file"><a href="gdm.html#integ_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#integ_subscript">-Subscript</a></span></li><li><span class="file"><a href="gdm.html#integ_stats">-Stats</a></span></li><li><span class="file"><a href="gdm.html#tn_reset">-TN_reset</a></span></li><li><span class="file"><a href="gdm.html#integ_transaction">-TRansaction</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_integ">Examples for MUPIP INTEG</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_intrpt">INTRPT
</a></span></li><li><span class="file"><a href="gdm.html#mup_journal">JOURNAL</a></span></li><li><span class="file"><a href="gdm.html#mup_load">LOAD</a></span><ul><li><span class="file"><a href="gdm.html#load_format">-FOrmat</a></span></li><li><span class="file"><a href="gdm.html#load_begin">-BEgin</a></span></li><li><span class="file"><a href="gdm.html#load_end">-End</a></span></li><li><span class="file"><a href="gdm.html#load_fillfactor">-FIll_factor</a></span></li><li><span class="file"><a href="gdm.html#load_onerror">-Onerror</a></span></li><li><span class="file"><a href="gdm.html#load_stdin">-Stdin
    </a></span></li><li><span class="file"><a href="gdm.html#examples_mup_load">Examples for MUPIP LOAD</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_rctldump">RCTLDUMP</a></span></li><li><span class="file"><a href="gdm.html#mup_reorg">REORG
</a></span><ul><li><span class="file"><a href="gdm.html#reorg_downgrade">-Downgrade</a></span></li><li><span class="file"><a href="gdm.html#reorg_encrypt">-Encrypt</a></span></li><li><span class="file"><a href="gdm.html#reorg_exclude">-Exclude</a></span></li><li><span class="file"><a href="gdm.html#reorg_fill_factor">-Fill_factor </a></span></li><li><span class="file"><a href="gdm.html#reorg_index_fill_factor">-Index_fill_factor</a></span></li><li><span class="file"><a href="gdm.html#reorg_keep">-Keep</a></span></li><li><span class="file"><a href="gdm.html#reorg_nocoalesce">-NOCOalesce</a></span></li><li><span class="file"><a href="gdm.html#reorg_nosplit">-NOSPlit</a></span></li><li><span class="file"><a href="gdm.html#reorg_noswap">-NOSWap</a></span></li><li><span class="file"><a href="gdm.html#reorg_resume">-Resume</a></span></li><li><span class="file"><a href="gdm.html#reorg_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#reorg_select">-Select</a></span></li><li><span class="file"><a href="gdm.html#reorg_truncate">-Truncate</a></span></li><li><span class="file"><a href="gdm.html#reorg_upgrade">-UPgrade</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_reorg">Examples for MUPIP REORG</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_replicate_cm">REPLICATE</a></span></li><li><span class="file"><a href="gdm.html#mup_restore">RESTORE</a></span><ul><li><span class="file"><a href="gdm.html#mup_restore_extend">-Extend
</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_restore">Examples for MUPIP RESTORE</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_rundown">RUNDOWN</a></span><ul><li><span class="file"><a href="gdm.html#mup_rundown_file">-File</a></span></li><li><span class="file"><a href="gdm.html#mup_rundown_override">-Override</a></span></li><li><span class="file"><a href="gdm.html#mup_rundown_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#mup_rundown_relinkctl">-Relinkctl</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_semaphere">SEMAPHORE</a></span></li><li><span class="file"><a href="gdm.html#mup_set">SET</a></span><ul><li><span class="file"><a href="gdm.html#set_file">-File</a></span></li><li><span class="file"><a href="gdm.html#set_jnlfile">-Jnlfile</a></span></li><li><span class="file"><a href="gdm.html#set_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#set_replication">-REPlication</a></span></li><li><span class="file"><a href="gdm.html#set_access_method">-ACcess_method </a></span></li><li><span class="file"><a href="gdm.html#set_asyncio">-ASyncIO </a></span></li><li><span class="file"><a href="gdm.html#set_defer_time">-Defer_time </a></span></li><li><span class="file"><a href="gdm.html#set_deferallocate">-DEFER_Allocate </a></span></li><li><span class="file"><a href="gdm.html#set_epochtaper">-Epochtaper</a></span></li><li><span class="file"><a href="gdm.html#set_encryptable">-ENCRYPTAble</a></span></li><li><span class="file"><a href="gdm.html#set_encryptioncompelte">-ENCRYPTIoncomplete</a></span></li><li><span class="file"><a href="gdm.html#set_extension_count">-EXtension_count</a></span></li><li><span class="file"><a href="gdm.html#set_flush_time">-Flush_time</a></span></li><li><span class="file"><a href="gdm.html#set_fullblkwrt">-FUllblkwrt</a></span></li><li><span class="file"><a href="gdm.html#set_global_buffers">-Global_buffers</a></span></li><li><span class="file"><a href="gdm.html#hard_spin_count">-Hard_spin_count</a></span></li><li><span class="file"><a href="gdm.html#inst_freeze_on_error">-INST_freeze_on_error</a></span></li><li><span class="file"><a href="gdm.html#set_journal">-Journal</a></span></li><li><span class="file"><a href="gdm.html#set_key_size">-Key_size </a></span></li><li><span class="file"><a href="gdm.html#lck_shares_db_crit">-Lck_shares_db_crit</a></span></li><li><span class="file"><a href="gdm.html#set_lock_space">-Lock_space</a></span></li><li><span class="file"><a href="gdm.html#mutex_slots">-Mutex_slots</a></span></li><li><span class="file"><a href="gdm.html#null_subscripts">-Null_subscripts</a></span></li><li><span class="file"><a href="gdm.html#set_problksplit">-PROblksplit</a></span></li><li><span class="file"><a href="gdm.html#set_qdbrundown">-Qdbrundown</a></span></li><li><span class="file"><a href="gdm.html#set_bypass_recov">-PArtial_recov_bypass</a></span></li><li><span class="file"><a href="gdm.html#set_read_only">-Read_only</a></span></li><li><span class="file"><a href="gdm.html#set_record_size">-RECord_size </a></span></li><li><span class="file"><a href="gdm.html#set_reserved_bytes">-REServed_bytes</a></span></li><li><span class="file"><a href="gdm.html#sleep_spin_count">-SLeep_spin_count
</a></span></li><li><span class="file"><a href="gdm.html#spin_sleep_mask">-Spin_sleep_mask</a></span></li><li><span class="file"><a href="gdm.html#set_stats">-STATs </a></span></li><li><span class="file"><a href="gdm.html#set_statsdb_allocation">-StatsDB_allocation </a></span></li><li><span class="file"><a href="gdm.html#set_stdnullcoll">-STDnullcoll </a></span></li><li><span class="file"><a href="gdm.html#set_trigger_flush">-Trigger_flush </a></span></li><li><span class="file"><a href="gdm.html#set_version">-Version</a></span></li><li><span class="file"><a href="gdm.html#set_wait_disk">-WAit_disk </a></span></li><li><span class="file"><a href="gdm.html#set_writes_per_flush">-WRites_per_flush </a></span></li><li><span class="file"><a href="gdm.html#examples_mup_set">Examples for MUPIP SET</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_size">SIZE</a></span></li><li><span class="file"><a href="gdm.html#mup_stop">STOP
</a></span></li><li><span class="file"><a href="gdm.html#mup_trigger">TRIGGER</a></span><ul><li><span class="file"><a href="gdm.html#examples_mup_trigger">Examples for MUPIP TRIGGER</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_gupgrade">UPGRADE
</a></span><ul><li><span class="file"><a href="gdm.html#examples_of_mup_upgrade">Example for MUPIP UPGRADE</a></span></li></ul></li></ul></li><li><span class="file"><a href="mup_summary.html">MUPIP Command Summary</a></span></li></ul></li><li><span class="file"><a href="journaling.html">GT.M Journaling</a></span><ul><li><span class="file"><a href="ch06s01.html">Introduction </a></span><ul><li><span class="file"><a href="ch06s01.html#jnl_files_intro">Journal Files </a></span></li><li><span class="file"><a href="ch06s01.html#jnl_recov_file">Recovery from a Journal File</a></span><ul><li><span class="file"><a href="ch06s01.html#for_recv">Forward Recovery</a></span></li><li><span class="file"><a href="ch06s01.html#backward_recovery_jnl">Backward Recovery </a></span></li></ul></li><li><span class="file"><a href="ch06s01.html#rolledback_files">rolled_bak* files</a></span></li><li><span class="file"><a href="ch06s01.html#jnl_fil_acc_auth">Journal Files Access Authorization</a></span></li><li><span class="file"><a href="ch06s01.html#trigg_jnl_fil">Triggers in Journal Files</a></span></li><li><span class="file"><a href="ch06s01.html#before_image_jnl">BEFORE_IMAGE Journaling  </a></span></li><li><span class="file"><a href="ch06s01.html#nobefore_image_jnl">NOBEFORE_IMAGE Journaling  </a></span></li><li><span class="file"><a href="ch06s01.html#choose_be_nobe">Choosing between BEFORE_IMAGE and NOBEFORE_IMAGE </a></span></li><li><span class="file"><a href="ch06s01.html#brk_trns_file">Broken Transaction File</a></span></li><li><span class="file"><a href="ch06s01.html#lost_transact_file">Lost Transaction File</a></span></li><li><span class="file"><a href="ch06s01.html#epoch_definition">Epoch</a></span></li><li><span class="file"><a href="ch06s01.html#jnl_benefits">Journaling Benefits </a></span></li><li><span class="file"><a href="ch06s01.html#backup_jnl_files">Backup Journal Files  </a></span></li><li><span class="file"><a href="ch06s01.html#sel_db_jnling">Select database files for Journaling  </a></span></li><li><span class="file"><a href="ch06s01.html#fencing_trans">Fencing Transactions </a></span></li><li><span class="file"><a href="ch06s01.html#to_jnl_or_no_jnl">Deciding Whether to Use Fencing </a></span><ul><li><span class="file"><a href="ch06s01.html#fencing_advantages">Fencing Advantages </a></span></li><li><span class="file"><a href="ch06s01.html#fencing_disadv">Fencing Disadvantages </a></span></li></ul></li><li><span class="file"><a href="ch06s01.html#jnl_view_keyword">VIEW Keywords</a></span></li><li><span class="file"><a href="ch06s01.html#view_funct_keywords_jnl">$VIEW() Keywords</a></span></li></ul></li><li><span class="file"><a href="mup_jnl_set.html">SET</a></span><ul><li><span class="file"><a href="mup_jnl_set.html#jnl_set_obj">SET Object Identifying Qualifiers </a></span></li><li><span class="file"><a href="mup_jnl_set.html#jnl_set_action">SET Action Qualifiers </a></span><ul><li><span class="file"><a href="mup_jnl_set.html#set_jnl_options">SET -JOURNAL Options </a></span></li></ul></li><li><span class="file"><a href="mup_jnl_set.html#jnl_examples_mup_set">Examples for MUPIP SET</a></span></li></ul></li><li><span class="file"><a href="mup_journal.html">JOURNAL
</a></span><ul><li><span class="file"><a href="mup_journal.html#jnl_action">Journal Action Qualifiers</a></span><ul><li><span class="file"><a href="mup_journal.html#jnl_extractstd">-EXtract[=&lt;file-name&gt;|-stdout]</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_parallel">-PARA[LLEL][=n]</a></span></li><li><span class="file"><a href="mup_journal.html#recover">-RECover
</a></span></li><li><span class="file"><a href="mup_journal.html#rollback">-ROLLBACK [{-ON[LINE]|-NOO[NLINE]}]

</a></span></li><li><span class="file"><a href="mup_journal.html#show">-SHow=show-option-list





</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_verify">-[NO]Verify</a></span></li></ul></li><li><span class="file"><a href="mup_journal.html#jnl_direction">Journal Direction Qualifiers</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_time">Journal Time Qualifiers</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_sequence">Journal Sequence Number Qualifiers</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_ctrl_quals">Journal Control Qualifiers</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_select">Journal Selection Qualifiers</a></span></li></ul></li><li><span class="file"><a href="jnl_ext.html">Journal Extract Formats</a></span></li></ul></li><li><span class="file"><a href="ch07.html">Database Replication</a></span><ul><li id="webhelp-currentid"><span class="file"><a href="ch07s01.html">Introduction</a></span><ul><li><span class="file"><a href="ch07s01.html#lmsgroup">LMS Group</a></span></li><li><span class="file"><a href="ch07s01.html#db_trans_no">Database Transaction Number</a></span></li><li><span class="file"><a href="ch07s01.html#jnl_seq_no">Journal Sequence Number</a></span></li><li><span class="file"><a href="ch07s01.html#stm_seq_no">Stream Sequence Number</a></span></li><li><span class="file"><a href="ch07s01.html#repl_gesz">Instance Bound Global Directories </a></span></li><li><span class="file"><a href="ch07s01.html#sppl_exampls">Examples</a></span><ul><li><span class="file"><a href="ch07s01.html#simp_examp">Simple Example</a></span></li><li><span class="file"><a href="ch07s01.html#d0e23704">Ensuring Consistency with Rollback</a></span></li><li><span class="file"><a href="ch07s01.html#rollback_design">Rollback Not Desired or Required by Application Design</a></span></li><li><span class="file"><a href="ch07s01.html#two_ori_pri_fail">Two Originating Primary Failures</a></span></li><li><span class="file"><a href="ch07s01.html#replication_on_rlbk">Replication and Online Rollback</a></span></li></ul></li><li><span class="file"><a href="ch07s01.html#si_repl_limits">Limitations - SI Replication</a></span></li><li><span class="file"><a href="ch07s01.html#Replication_Architecture">Replication Architecture

</a></span><ul><li><span class="file"><a href="ch07s01.html#helper_processes">Helper Processes</a></span></li><li><span class="file"><a href="ch07s01.html#Filters">Filters</a></span></li><li><span class="file"><a href="ch07s01.html#repl_instance_file">Replication Instance File</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch07s02.html">Implementing Replication and Recovery</a></span><ul><li><span class="file"><a href="ch07s02.html#app_arch">Application Architecture</a></span><ul><li><span class="file"><a href="ch07s02.html#mssg">Implement a Message Delivery System</a></span></li></ul></li><li><span class="file"><a href="ch07s02.html#sys_req">System Requirements</a></span><ul><li><span class="file"><a href="ch07s02.html#prim_sec_stat_id">Root Primary Status Identification</a></span></li></ul></li><li><span class="file"><a href="ch07s02.html#failover_repl">Switchover

</a></span></li><li><span class="file"><a href="ch07s02.html#inst_freeze">Instance Freeze</a></span></li><li><span class="file"><a href="ch07s02.html#tls_repl">TLS/SSL Replication</a></span></li><li><span class="file"><a href="ch07s02.html#ntwrk_link">Network Link between Systems</a></span></li><li><span class="file"><a href="ch07s02.html#choosing_between">Choosing between BEFORE_IMAGE and NOBEFORE_IMAGE journaling</a></span><ul><li><span class="file"><a href="ch07s02.html#repl_recovr">Recovery</a></span></li><li><span class="file"><a href="ch07s02.html#comp_othr_recov">Comparison other than Recovery</a></span></li></ul></li><li><span class="file"><a href="ch07s02.html#repl_data_repair">Database Repair</a></span></li></ul></li><li><span class="file"><a href="ch07s03.html">Procedures</a></span><ul><li><span class="file"><a href="ch07s03.html#downld_repl_ex">Download Replication Examples</a></span><ul><li><span class="file"><a href="ch07s03.html#procenv">env</a></span></li><li><span class="file"><a href="ch07s03.html#dbcreateproc">db_create</a></span></li><li><span class="file"><a href="ch07s03.html#backupreplproc">backup_repl</a></span></li><li><span class="file"><a href="ch07s03.html#replsetupproc">repl_setup</a></span></li><li><span class="file"><a href="ch07s03.html#originstartproc">originating_start</a></span></li><li><span class="file"><a href="ch07s03.html#replstartproc">replicating_start</a></span></li><li><span class="file"><a href="ch07s03.html#supplsetupproc">suppl_setup</a></span></li><li><span class="file"><a href="ch07s03.html#replstatusproc1">repl_status</a></span></li><li><span class="file"><a href="ch07s03.html#rollbackproc11">rollback</a></span></li><li><span class="file"><a href="ch07s03.html#originstop">originating_stop</a></span></li><li><span class="file"><a href="ch07s03.html#replstopproc">replicating_stop</a></span></li><li><span class="file"><a href="ch07s03.html#replstartsuppproc">replicating_start_suppl_n</a></span></li></ul></li><li><span class="file"><a href="ch07s03.html#abrepl1">Setting up an Aa??B replication configuration with empty databases</a></span></li><li><span class="file"><a href="ch07s03.html#abcrepl1">Setting up an Aa??Ba??C replication configuration with empty databases</a></span></li><li><span class="file"><a href="ch07s03.html#aprepl">Setting up an Aa??P replication configuration with empty databases</a></span></li><li><span class="file"><a href="ch07s03.html#riborg">Replicating Instance Starts from Backup of Originating Instance (Aa??B and Aa??P )</a></span></li><li><span class="file"><a href="ch07s03.html#nrml_cutov">Switchover possibilities in an Aa??B replication configuration</a></span></li><li><span class="file"><a href="ch07s03.html#recov_bap">Switchover possibilities in a Ba??Aa??P replication configuration </a></span><ul><li><span class="file"><a href="ch07s03.html#a_req_rlbk">A requires rollback</a></span></li><li><span class="file"><a href="ch07s03.html#ap_req_rllbk">A and P require rollback</a></span></li><li><span class="file"><a href="ch07s03.html#rollbk_nt_req">Rollback not required by application design</a></span></li><li><span class="file"><a href="ch07s03.html#automatic_rollback1">Rollback automatically</a></span></li></ul></li><li><span class="file"><a href="ch07s03.html#recov_bapq">Switchover possibilities in a Ba??Aa??Pa??Q replication configuration </a></span></li><li><span class="file"><a href="ch07s03.html#gldreplupd">Changing the global directory in an Aa??B replication configuration</a></span></li><li><span class="file"><a href="ch07s03.html#roll_sft_upg">Rolling Software Upgrade</a></span><ul><li><span class="file"><a href="ch07s03.html#upg_repl_first">Upgrade the replicating instance first (Aa??B)</a></span></li><li><span class="file"><a href="ch07s03.html#upd_orig_first">Upgrade the originating instance first (Aa??B)</a></span></li></ul></li><li><span class="file"><a href="ch07s03.html#shut_inst">Shutting down an instance</a></span></li><li><span class="file"><a href="ch07s03.html#up_re_in_fi">Creating a new Replication Instance File</a></span></li><li><span class="file"><a href="ch07s03.html#tls_repl_proc">Setting up a secured TLS replication connection</a></span></li><li><span class="file"><a href="ch07s03.html#schema_chng_filters">Schema Change Filters
</a></span></li><li><span class="file"><a href="ch07s03.html#recwason">Recovering from the replication WAS_ON state </a></span></li><li><span class="file"><a href="ch07s03.html#rollbidle">Rollback data from crashed (idle) regions</a></span></li><li><span class="file"><a href="ch07s03.html#updateresyncproc1">Setting up a new replicating instance of an originating instance (Aa??B,
Pa??Q, or Aa??P)</a></span></li><li><span class="file"><a href="ch07s03.html#updateresyncproc2">Replacing the replication instance file of a replicating instance (Aa??B
and Pa??Q)</a></span></li><li><span class="file"><a href="ch07s03.html#updateresyncproc3">Replacing the replication instance file of a replicating instance (Aa??P)</a></span></li><li><span class="file"><a href="ch07s03.html#updateresyncproc4">Setting up a new replicating instance from a backup of the originating instance
(Aa??P)</a></span></li><li><span class="file"><a href="ch07s03.html#proc4">Setting up an Aa??P configuration for the first time if P is an existing instance (having
its own set of updates) </a></span></li></ul></li><li><span class="file"><a href="replication.html">Commands and Qualifiers</a></span><ul><li><span class="file"><a href="replication.html#trng_repl_on_off">Turning Replication On/Off</a></span></li><li><span class="file"><a href="replication.html#create_repl_inst">Creating the Replication Instance File</a></span></li><li><span class="file"><a href="replication.html#disp_change_repl">Displaying/Changing the attributes of Replication Instance File and Journal Pool</a></span></li><li><span class="file"><a href="replication.html#start_src_srvr">Starting the  Source Server</a></span></li><li><span class="file"><a href="replication.html#sour_srvr_shutdown">Shutting down the Source Server</a></span></li><li><span class="file"><a href="replication.html#activate_passive_src_srvr">Activating a Passive Source Server</a></span></li><li><span class="file"><a href="replication.html#deavtivate_act_src_srvr">Deactivating an Active Source Server</a></span></li><li><span class="file"><a href="replication.html#stop_src_filtr">Stopping the Source Filter</a></span></li><li><span class="file"><a href="replication.html#stop_rec_filtr">Stopping the Receiver Filter</a></span></li><li><span class="file"><a href="replication.html#freeze_src_srv_inst">Freezing an  Instance</a></span></li><li><span class="file"><a href="replication.html#chck_srvr_hlth">Checking Server Health</a></span></li><li><span class="file"><a href="replication.html#chng_log_file">Changing the Log File</a></span></li><li><span class="file"><a href="replication.html#enable_disable_dtld_log">Enabling/Disabling Detailed Logging</a></span></li><li><span class="file"><a href="replication.html#rprt_current_backlog">Reporting the Current Backlog of Journal Records</a></span></li><li><span class="file"><a href="replication.html#process_lost">Processing Lost Transactions File</a></span><ul><li><span class="file"><a href="replication.html#lost_tn_fmt">Lost Transaction File format</a></span></li></ul></li><li><span class="file"><a href="replication.html#strt_rcvr_srvr">Starting the Receiver Server

</a></span></li><li><span class="file"><a href="replication.html#strt_upd_proc">Starting the Update Process</a></span></li><li><span class="file"><a href="replication.html#stop_upd_proc">Stopping the the Receiver Server and/or the Update Process</a></span></li><li><span class="file"><a href="replication.html#chk_srvr_hlth">Checking Server  Health</a></span></li><li><span class="file"><a href="replication.html#chng_log">Changing the Log File</a></span></li><li><span class="file"><a href="replication.html#enable_disable_login">Enabling/Disabling Detailed Logging</a></span></li><li><span class="file"><a href="replication.html#rep_curr_backlog">Reporting the Current Backlog of Journal Records</a></span></li><li><span class="file"><a href="replication.html#rollback_db_after_sys_fail">Rolling Back a Replicated Database </a></span></li></ul></li></ul></li><li><span class="file"><a href="lkechap.html">M Lock Utility (LKE)</a></span><ul><li><span class="file"><a href="introduction.html">Introduction</a></span><ul><li><span class="file"><a href="introduction.html#invoke_exit_LKE">To Invoke and Exit LKE</a></span></li><li><span class="file"><a href="introduction.html#establish_GD">To establish a Global Directory</a></span></li></ul></li><li><span class="file"><a href="lke_comm_quals.html">LKE Commands and Qualifiers
</a></span><ul><li><span class="file"><a href="lke_comm_quals.html#lke_clear">Clear</a></span></li><li><span class="file"><a href="lke_comm_quals.html#lke_clnup">CLNup</a></span></li><li><span class="file"><a href="lke_comm_quals.html#LKE_Show">SHow
</a></span></li><li><span class="file"><a href="lke_comm_quals.html#LKE_Exit">Exit</a></span></li><li><span class="file"><a href="lke_comm_quals.html#Help">Help</a></span></li><li><span class="file"><a href="lke_comm_quals.html#LKE_SPAWN">SPawn
</a></span></li></ul></li><li><span class="file"><a href="lke_command_summ.html">Summary
</a></span></li><li><span class="file"><a href="lke_exercises.html">LKE Exercises</a></span><ul><li><span class="file"><a href="lke_exercises.html#lke_exer1">Exercise 1: Preventing concurrent updates using M Locks</a></span></li><li><span class="file"><a href="lke_exercises.html#lke_exer2">Exercise 2: Rectifying a deadlock situation</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch09.html">GT.M Database Structure(GDS)</a></span><ul><li><span class="file"><a href="ch09s01.html">Database File Organization with GDS  </a></span><ul><li><span class="file"><a href="ch09s01.html#DFH">Database File Header </a></span></li><li><span class="file"><a href="ch09s01.html#FHDE">File Header Data Elements </a></span></li></ul></li><li><span class="file"><a href="ch09s02.html">Local Bitmaps  </a></span></li><li><span class="file"><a href="ch09s03.html">Master Bitmap  </a></span></li><li><span class="file"><a href="ch09s04.html">Database Structure  </a></span><ul><li><span class="file"><a href="ch09s04.html#tree_org">Tree Organization</a></span></li><li><span class="file"><a href="ch09s04.html#gds_blks">GDS Blocks </a></span></li><li><span class="file"><a href="ch09s04.html#Gds_rec">GDS Records </a></span><ul><li><span class="file"><a href="ch09s04.html#spanning_nodes">Using GDS records to hold spanning nodes  </a></span></li></ul></li><li><span class="file"><a href="ch09s04.html#gds_keys_D">GDS Keys </a></span></li><li><span class="file"><a href="ch09s04.html#compression_count">Compression Count </a></span></li><li><span class="file"><a href="ch09s04.html#use_of_keys">Use of Keys  </a></span></li><li><span class="file"><a href="ch09s04.html#character_keys">Characteristics of Keys  </a></span></li><li><span class="file"><a href="ch09s04.html#gvnameD">Global Variable Names </a></span></li><li><span class="file"><a href="ch09s04.html#str_subscr">String Subscripts </a></span></li><li><span class="file"><a href="ch09s04.html#numeric_Subsr">Numeric Subscripts </a></span></li></ul></li></ul></li><li><span class="file"><a href="ch10.html">Database Structure Editor</a></span><ul><li><span class="file"><a href="operate_dse.html">Operating in DSE</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html">DSE Commands and Qualifiers</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#add_dse">ADD</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#add_qualifiers_dse">Qualifiers of ADD</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_exam_add">Examples for ADD</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#all_dse_cmmd">ALL</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#all_qualifiers_dse">Qualifiers</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_example_add2">Examples of ALL</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#buffer_flush_cmmd_dse">Buffer_flush</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#change_dse_cmmd">CHange
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#change_qualifiers_block">CHANGE -BLock Qualifiers</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#change_qualifiers_file">CHANGE -FIleheader Qualifiers</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#change_example_Dse">Examples for CHANGE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_cache">CAche
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#Dse_cache_quals">Qualifiers of CACHE</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_cache_Exampl">Examples for CACHE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#close_dse_cmmd">CLose</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#critical_dse_cmmd">CRitical

</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#qaulifiers_change_dse">Qualifiers of CRITICAL</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#crit_examp">Examples for CRITICAL</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#dump_dse_cmmd">Dump

</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#dump_dse_qualifiers">Qualifiers of DUMP</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dump_ex1">Examples for DUMP </a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#evaluate_dse_cmmd">EValuate



</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#evaluate_dse_qualifiers">Qualifiers of Evaluate</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#examp_eval">Examples for EVALUATE
</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#exit_dse_cmmd">EXit
</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#find_cmmd_dse">Find
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#find_qualifiers_dse">Qualifiers of FIND</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#find_Examp">Examples for FIND
</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#help_dse_cmmd">Help</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#integrit_dse_cmmd">Integrit
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#integrit_dse_qualifiers">Qualifiers of Integrit</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#maps_dse_cmmd">Maps
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#map_qualifiers_dse">Qualifiers for MAP</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#exam_maps">Examples</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#open_cmmd_dse">OPen
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#Open_qaulifier_dse">Qualifiers for OPEN</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#Dse_open_example">Examples for OPEN</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#overwrite_dse_cmmd">OVerwrite
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#overwrite_dse_qualifier">Qualifiers for OVERWRITE</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_Example_overwrite">Examples for Overwrite</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#page_cmmd_dse">Page
</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#range_dse_cmmd">RAnge
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#range_dse_qualifiers">Qualifiers of RANGE</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#example_Range">Examples for RANGE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#remove_dse_cmmd">REMove
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#remove_dse_qualifier">Qualifiers of REMOVE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#restore_dse_cmmd">REStore
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#qualifiers_restore_dse">Qualifiers of RESTORE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#save_dse_cmmd">SAve
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#save_dse_qualifiers">Qualifiers of SAVE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#shift">SHift
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#shift_dse_qualifiers">Qualifiers of SHIFT</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_spawnl">SPawn
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#spawn_example_D">Examples of SPAWN</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#wcinit_dse_cmmd">Wcinit
</a></span></li></ul></li><li><span class="file"><a href="dse_summary.html">DSE Command Summary</a></span></li></ul></li><li><span class="file"><a href="ch11.html">Maintaining Database Integrity</a></span><ul><li><span class="file"><a href="ch11s01.html">Verifying Database Integrity</a></span><ul><li><span class="file"><a href="ch11s01.html#regular_scheduled_verfication">Regularly Scheduled Verification</a></span></li><li><span class="file"><a href="ch11s01.html#before_or_after_major_transfer">Before or After Major Transfers</a></span></li><li><span class="file"><a href="ch11s01.html#imm_after_catastrophic_events">Immediately after Catastrophic Events</a></span></li><li><span class="file"><a href="ch11s01.html#imm_after_run_time_errors">Immediately after Run-Time Database Errors </a></span></li><li><span class="file"><a href="ch11s01.html#imm_after_database_repair">Immediately After Database Repairs</a></span></li></ul></li><li><span class="file"><a href="ch11s02.html">Approaches to Database Recovery</a></span><ul><li><span class="file"><a href="ch11s02.html#recover_frm_jrnls">Recover from Journals</a></span></li><li><span class="file"><a href="ch11s02.html#restore_frm_backup">Restore from Backup</a></span></li><li><span class="file"><a href="ch11s02.html#repair_with_dse">Repair with DSE</a></span></li><li><span class="file"><a href="ch11s02.html#preventive_maintenance">Preventive Maintenance</a></span><ul><li><span class="file"><a href="ch11s02.html#determine_the_cause_of_the_problem">Determining the Cause of the Problem</a></span></li><li><span class="file"><a href="ch11s02.html#chp11_mupip_recovery">MUPIP Recovery</a></span></li><li><span class="file"><a href="ch11s02.html#follow_up_chapter11_mupip_recovery">Follow-up</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch11s03.html">Repairing the Database with DSE</a></span><ul><li><span class="file"><a href="ch11s03.html#using_the_proper_db_file">Using the Proper Database File</a></span></li><li><span class="file"><a href="ch11s03.html#locating_struc_with_dse">Locating Structures with DSE</a></span></li><li><span class="file"><a href="ch11s03.html#safety_in_repairs">Safety in Repairs</a></span></li><li><span class="file"><a href="ch11s03.html#discarding_data">Discarding Data</a></span></li><li><span class="file"><a href="ch11s03.html#concurrent_repairs">Concurrent Repairs</a></span></li><li><span class="file"><a href="ch11s03.html#terminate_processes">Terminating Processes</a></span></li><li><span class="file"><a href="ch11s03.html#rec_dam_spa">Recovering data from damaged binary extracts</a></span><ul><li><span class="file"><a href="ch11s03.html#currupt_errors">CORRUPT Errors</a></span></li><li><span class="file"><a href="ch11s03.html#ldspan_errors">LDSPANGLOINCMP Errors</a></span></li><li><span class="file"><a href="ch11s03.html#rep_example">Examplea??Repairing an error in a binary extract </a></span></li></ul></li></ul></li><li><span class="file"><a href="ch11s04.html">Finding and Fixing Database Errors</a></span><ul><li><span class="file"><a href="ch11s04.html#c1_possible_cache_control_problems">C1a??Possible Cache Control Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h1_process_hangs">H1a??Process Hangs</a></span></li><li><span class="file"><a href="ch11s04.html#h3_db_access_problems">H3a??Database Access Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h4_database_cache_problms">H4a??Database Cache Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h5_critical_section_problems">H5a??Critical Section Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h6_Unix_problems">H6a??UNIX Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h7_disk_hardware_problems">H7a??Disk Hardware Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h8_application_problems">H8a??Application Problems</a></span><ul><li><span class="file"><a href="ch11s04.html#persistent_locks">Persistent LOCKs</a></span></li><li><span class="file"><a href="ch11s04.html#deadlocks">Deadlocks</a></span></li><li><span class="file"><a href="ch11s04.html#prevention_of_a_deadlock">Preventing Deadlocks</a></span></li></ul></li><li><span class="file"><a href="ch11s04.html#i1_mupip_integ_errors">I1a??MUPIP INTEG Errors</a></span><ul><li><span class="file"><a href="ch11s04.html#evaluate_danger_level">Evaluating the Danger Level of a Database Problem</a></span><ul><li><span class="file"><a href="ch11s04.html#requires_immed_attention">Requires Immediate Attention</a></span></li><li><span class="file"><a href="ch11s04.html#can_be_deferred">Can Be Deferred</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch11s04.html#MUPIP_INTEG_Error_Classification_Table">MUPIP INTEG Error Classification Table</a></span></li><li><span class="file"><a href="ch11s04.html#gtm_version_mismatch_chi2">I2a??GT.M Version Mismatch</a></span></li><li><span class="file"><a href="ch11s04.html#i3_file_header_errors">I3a??File Header Errors</a></span></li><li><span class="file"><a href="ch11s04.html#i4_file_size_errors">I4a??File Size Errors</a></span></li><li><span class="file"><a href="ch11s04.html#i5_more_db_access_problems">I5a??More Database Access Problems</a></span></li><li><span class="file"><a href="ch11s04.html#i6_transient_errors">I6a??Transient Errors</a></span></li><li><span class="file"><a href="ch11s04.html#i7_db_rundown_prblm">I7a??Database Rundown Problem</a></span></li><li><span class="file"><a href="ch11s04.html#i8_repair_induced_prblm">I8a??Repair-Induced Problems</a></span></li><li><span class="file"><a href="ch11s04.html#k1_bad_key">K1a??Bad Key</a></span></li><li><span class="file"><a href="ch11s04.html#k2_keys_misplaced">K2a??Keys Misplaced</a></span></li><li><span class="file"><a href="ch11s04.html#k3_block_doubly_allocated">K3a??Block Doubly Allocated</a></span></li><li><span class="file"><a href="ch11s04.html#k4_pointer_prbl">K4a??Pointer Problems</a></span></li><li><span class="file"><a href="ch11s04.html#i5_star_key_prblms">K5a??Star Key Problems</a></span></li><li><span class="file"><a href="ch11s04.html#k6_compression_count_error">K6a??Compression Count Error</a></span></li><li><span class="file"><a href="ch11s04.html#k7_key_warning">K7a??Key Warning</a></span></li><li><span class="file"><a href="ch11s04.html#m1_bitmap_errors">M1a??Bitmap Errors</a></span></li><li><span class="file"><a href="ch11s04.html#m2_bitmap_header_problms">M2a??Bitmap Header Problems</a></span></li><li><span class="file"><a href="ch11s04.html#O1_bad_block">O1a??Bad Block</a></span></li><li><span class="file"><a href="ch11s04.html#o2_record_errors">O2a??Record Errors</a></span></li><li><span class="file"><a href="ch11s04.html#o3_data_block_errors">O3a??Data Block Errors</a></span></li><li><span class="file"><a href="ch11s04.html#o4_salvage">O4a??Salvage of Data Blocks with Lost Indices</a></span><ul><li><span class="file"><a href="ch11s04.html#downloadsalvage">Download salvage.m</a></span></li></ul></li><li><span class="file"><a href="ch11s04.html#sal_dam_spa">O5a??Salvage of a damaged spanning node</a></span></li><li><span class="file"><a href="ch11s04.html#p1_process_damage">P1a??Process Damage</a></span></li><li><span class="file"><a href="ch11s04.html#q1_restict_db_access">Q1a??Restricting Database Access</a></span></li><li><span class="file"><a href="ch11s04.html#r1_gtm_run_time_errors">R1a??GT.M Run-Time Errors</a></span></li><li><span class="file"><a href="ch11s04.html#r2_structure_db_integ">R2a??Structural Database Integrity Errors</a></span></li><li><span class="file"><a href="ch11s04.html#Run-Time_Database_Restart_Code_Table">Run-Time Database Restart Codes</a></span></li><li><span class="file"><a href="ch11s04.html#r2_run_time_db_cache">R3a??Run-time Database Cache Problems</a></span></li><li><span class="file"><a href="ch11s04.html#r4_stopped_processes">R4a??Stopped Processes</a></span></li><li><span class="file"><a href="ch11s04.html#r5_no_more_room">R5a??No More Room in the File</a></span></li><li><span class="file"><a href="ch11s04.html#r6_gtmassert_and_gtmcheck_errors">R6a??GTMASSERT and GTMCHECK Errors</a></span></li><li><span class="file"><a href="ch11s04.html#r7_interlock_q">R7a??Interlocked Queue Hardware Problems</a></span></li><li><span class="file"><a href="ch11s04.html#r8_db_tree">R8a??Database Tree Maximum Level Exceeded</a></span></li><li><span class="file"><a href="ch11s04.html#r9_read">R9a??Read-only Process Blocked</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch12.html">Database Encryption</a></span><ul><li><span class="file"><a href="ch12s01.html">Introduction </a></span><ul><li><span class="file"><a href="ch12s01.html#encrypt_overview_desc">Overview </a></span></li><li><span class="file"><a href="ch12s01.html#encrypt_disclaim">Disclaimer </a></span></li><li><span class="file"><a href="ch12s01.html#encryption_limit">Limitations of GT.M Database Encryption </a></span><ul><li><span class="file"><a href="ch12s01.html#dar_nt_prtc">Data Not At Rest Not Protected </a></span></li><li><span class="file"><a href="ch12s01.html#keys_in_prc_Add">Keys in the Process Address Space / Environment</a></span></li><li><span class="file"><a href="ch12s01.html#long_lived_keys">Long Lived Keys </a></span></li><li><span class="file"><a href="ch12s01.html#volumin_sampl_enc_data">Voluminous Samples of Encrypted Data </a></span></li><li><span class="file"><a href="ch12s01.html#Encry_algo_nt_Supprt">Encryption Algorithms Neither Endorsed Nor Supported by FIS </a></span></li><li><span class="file"><a href="ch12s01.html#no_key_recov">No Key Recovery </a></span></li><li><span class="file"><a href="ch12s01.html#human_intervention">Human Intervention Required </a></span></li><li><span class="file"><a href="ch12s01.html#mm_databases">MM Databases </a></span></li></ul></li><li><span class="file"><a href="ch12s01.html#Alternatives_to_Database_Encry">Alternatives to Database Encryption </a></span></li><li><span class="file"><a href="ch12s01.html#Device_IO">Device IO </a></span></li><li><span class="file"><a href="ch12s01.html#Replication_and_GT_CM">GT.CM </a></span></li><li><span class="file"><a href="ch12s01.html#fips">FIPS Mode</a></span></li></ul></li><li><span class="file"><a href="ch12s02.html">Theory of Operation </a></span><ul><li><span class="file"><a href="ch12s02.html#encr_Definitions">Definition of Terms </a></span></li><li><span class="file"><a href="ch12s02.html#encrypt_overview_1">Overview </a></span><ul><li><span class="file"><a href="ch12s02.html#encrwarn">Warning </a></span></li><li><span class="file"><a href="ch12s02.html#data_db_jnl">Data in Database and Journal Files </a></span></li><li><span class="file"><a href="ch12s02.html#Symmetric_and_Asymmetric_Ciphe_">Symmetric and Asymmetric Ciphers </a></span></li><li><span class="file"><a href="ch12s02.html#Key_Ring_on_Disk">Key Ring on Disk </a></span></li><li><span class="file"><a href="ch12s02.html#Master_Key_File_Key_Files">Master Key Configuration File and Encryption Keys </a></span></li><li><span class="file"><a href="ch12s02.html#Memory_Key_Ring">Memory Key Ring </a></span></li><li><span class="file"><a href="ch12s02.html#key_validation_hasing">Key Validation and Hashing </a></span></li><li><span class="file"><a href="ch12s02.html#Database_Operations">Database Operation </a></span></li></ul></li></ul></li><li><span class="file"><a href="ch12s03.html">Examples of use </a></span><ul><li><span class="file"><a href="ch12s03.html#Key_Management">Key Management </a></span></li></ul></li><li><span class="file"><a href="ch12s04.html">Tested Reference Implementations </a></span></li><li><span class="file"><a href="ch12s05.html">Special note - GNU Privacy Guard and Agents</a></span><ul><li><span class="file"><a href="ch12s05.html#use_pinentry_pgm">Using the reference implementation's custom pinentry program</a></span></li></ul></li><li><span class="file"><a href="ch12s06.html">Installation </a></span></li><li><span class="file"><a href="ch12s07.html">
      Administration and Operation of Encrypted Databases </a></span><ul><li><span class="file"><a href="ch12s07.html#util_programs"> Utility Programs </a></span><ul><li><span class="file"><a href="ch12s07.html#encr_gde">GDE </a></span><ul><li><span class="file"><a href="ch12s07.html#format_enr">Format / Upgrade </a></span></li><li><span class="file"><a href="ch12s07.html#noencryption_qual">-[NO]ENcryption</a></span></li></ul></li><li><span class="file"><a href="ch12s07.html#encr_mupip_cm">MUPIP </a></span><ul><li><span class="file"><a href="ch12s07.html#encr_mupip_Cre">MUPIP CREATE </a></span></li><li><span class="file"><a href="ch12s07.html#encr_mup_jnl">MUPIP JOURNAL </a></span></li><li><span class="file"><a href="ch12s07.html#encr_mup_load">MUPIP LOAD </a></span></li></ul></li><li><span class="file"><a href="ch12s07.html#encr_dse">DSE </a></span><ul><li><span class="file"><a href="ch12s07.html#changing_hash">Changing the hash in the database file header </a></span></li></ul></li></ul></li><li><span class="file"><a href="ch12s07.html#changing_encr_keys">Changing the Encryption Keys </a></span></li><li><span class="file"><a href="ch12s07.html#Db_create_encr">Encrypted Database Creation </a></span></li></ul></li><li><span class="file"><a href="ch12s08.html">Plugin Architecture &amp; Interface </a></span><ul><li><span class="file"><a href="ch12s08.html#encr_packaging">Packaging </a></span></li><li><span class="file"><a href="ch12s08.html#extn_gtm_encr">Extensions to the GT.M External Interface </a></span></li><li><span class="file"><a href="ch12s08.html#encr_operation">Operation </a></span></li></ul></li><li><span class="file"><a href="ch12s09.html">Using the Reference Implementation with Older Releases  </a></span></li></ul></li><li><span class="file"><a href="ch13.html">GT.CM Client/Server</a></span><ul><li><span class="file"><a href="ch13s01.html">Introduction</a></span></li><li><span class="file"><a href="ch13s02.html">Overview</a></span><ul><li><span class="file"><a href="ch13s02.html#gtcm_server">GT.CM Server</a></span></li><li><span class="file"><a href="ch13s02.html#gtcm_client">GT.CM Client</a></span></li><li><span class="file"><a href="ch13s02.html#gtcm_stsh">GT.CM Server Startup and Shutdown</a></span><ul><li><span class="file"><a href="ch13s02.html#gtcm_srv_Start">GT.CM Server Startup</a></span></li><li><span class="file"><a href="ch13s02.html#gtcm_srv_Shut">GT.CM Server Shutdown</a></span></li></ul></li><li><span class="file"><a href="ch13s02.html#encry_types_oper">Types of Operations</a></span></li><li><span class="file"><a href="ch13s02.html#gtcp_err_msg">Error Messages</a></span></li><li><span class="file"><a href="ch13s02.html#gtcm_examples">Examples</a></span></li></ul></li></ul></li><li><span class="file"><a href="ipc_usage.html">GT.M's IPC Resource Usage</a></span><ul><li><span class="file"><a href="apas01.html">Examining GT.M's IPC Resources</a></span></li><li><span class="file"><a href="apas02.html">gmtsecshr</a></span></li></ul></li><li><span class="file"><a href="monitoring_gtm.html">Monitoring GT.M </a></span><ul><li><span class="file"><a href="apbs01.html">Monitoring GT.M Messages</a></span></li><li><span class="file"><a href="apbs02.html">Managing core dumps </a></span></li></ul></li><li><span class="file"><a href="build_encry_lib.html">Building Encryption Libraries</a></span><ul><li><span class="file"><a href="apcs01.html">Building Encryption Libraries </a></span><ul><li><span class="file"><a href="apcs01.html#Ubuntu_LTS_x86_64_4182407">Debian, Ubuntu, RedHat and Fedora </a></span></li><li><span class="file"><a href="apcs01.html#IBM_AIX_5_3_pSeries_6214410681">IBM AIX 7.1 (pSeries) </a></span><ul><li><span class="file"><a href="apcs01.html#gpg_error_instr">GPG-ERROR </a></span></li><li><span class="file"><a href="apcs01.html#gcrypt_aix">GCRYPT </a></span></li><li><span class="file"><a href="apcs01.html#crypto_aix">CRYPTO (From OpenSSL) </a></span></li><li><span class="file"><a href="apcs01.html#gpgme_aix">GPGME </a></span></li><li><span class="file"><a href="apcs01.html#aix_gnupg">GNUPG </a></span></li></ul></li></ul></li></ul></li><li><span class="file"><a href="app_security_phil.html">GT.M Security Philosophy</a></span><ul><li><span class="file"><a href="apds01.html">Philosophy</a></span><ul><li><span class="file"><a href="apds01.html#nrml_usrgir">Normal User and Group Id Rule</a></span><ul><li><span class="file"><a href="apds01.html#sec_excep">Exceptions</a></span><ul><li><span class="file"><a href="apds01.html#Sec_shrd_mem">Shared Memory Exception for BG</a></span></li><li><span class="file"><a href="apds01.html#gtmsecshr_excep">gtmsecshr Exception</a></span></li></ul></li><li><span class="file"><a href="apds01.html#Security_Triggers">Triggers</a></span></li></ul></li><li><span class="file"><a href="apds01.html#gtmc_excep">Recommendations</a></span></li></ul></li><li><span class="file"><a href="apds02.html">gtmsecshr commands</a></span></li><li><span class="file"><a href="apds03.html">Shared Resource Authorization Permissions</a></span></li></ul></li><li><span class="file"><a href="ape.html">GTMPCAT - GT.M Process/Core Analysis Tool </a></span><ul><li><span class="file"><a href="apes01.html">Overview</a></span></li><li><span class="file"><a href="apes02.html">Usage</a></span></li><li><span class="file"><a href="apes03.html">Interactive Mode</a></span></li></ul></li><li><span class="file"><a href="Package_GTM_Apps.html">Packaging GT.M Applications</a></span><ul><li><span class="file"><a href="apfs01.html">Setting up a Captive User Application with GT.M</a></span><ul><li><span class="file"><a href="apfs01.html#sample_profile">Sample .profile</a></span></li></ul></li><li><span class="file"><a href="apfs02.html">Invoking GT.M through a C main() program</a></span></li><li><span class="file"><a href="apfs03.html">Defensive Practices</a></span></li><li><span class="file"><a href="apfs04.html">Other</a></span></li></ul></li><li><span class="file"><a href="TLS_Configuration_File.html">Creating a $gtmcrypt_config file</a></span><ul><li><span class="file"><a href="apgs01.html">Why do we need a $gtmcrypt_config file?</a></span></li><li><span class="file"><a href="apgs02.html">OpenSSL Options</a></span></li><li><span class="file"><a href="apgs03.html">Generating demo TLS certificates</a></span><ul><li><span class="file"><a href="apgs03.html#create_root_app">Creating a demo CA (Certification Authority)</a></span></li><li><span class="file"><a href="apgs03.html#create_leaf_app">Creating and signing demo leaf-level certificates</a></span></li><li><span class="file"><a href="apgs03.html#tlsexampledemo">Example: Creating demo certificates </a></span><ul><li><span class="file"><a href="apgs03.html#certsetupproc_app">cert_setup</a></span></li><li><span class="file"><a href="apgs03.html#gencaproc_app">gen_ca</a></span></li><li><span class="file"><a href="apgs03.html#genleafpro_app">gen_leaf</a></span></li><li><span class="file"><a href="apgs03.html#opensslconf_app">example101.cnf</a></span></li></ul></li></ul></li></ul></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="Verifie(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><center><input id="textToSearch" name="textToSearch" type="text" class="searchText"/> &nbsp; <input onclick="Verifie(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></center></fieldset></form></div><div id="searchResults"><center/></div></div></div></div></div></body></html>