<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:exsl="http://exslt.org/common" xmlns:ng="http://docbook.org/docbook-ng" xmlns:db="http://docbook.org/ns/docbook"><head>
<meta http-equiv="X-UA-Compatible" content="IE=7"/>
<title>JOURNAL</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><link rel="home" href="index.html" title="GT.M Administration and Operations Guide"/><link rel="up" href="journaling.html" title="ChapterA 6.A GT.M Journaling"/><link rel="prev" href="mup_jnl_set.html" title="SET"/><link rel="next" href="jnl_ext.html" title="Journal Extract Formats"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><script type="text/javascript">
            //The id for tree cookie
            var treeCookieId = "treeview-51759";
            var language = "en";
            var w = new Object();
            //Localization
            txt_filesfound = 'Results';
            txt_enter_at_least_1_char = "You must enter at least one character.";
            txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
            txt_please_wait = "Please wait. Search in progress...";
            txt_results_for = "Results for: ";
        </script><style type="text/css">
            input {
            margin-bottom: 5px;
            margin-top: 2px;
            }

            .folder {
            display: block;
            height: 22px;
            padding-left: 20px;
            background: transparent url(../common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
            }
            
        </style><link rel="shortcut icon" href="../favicon.ico" type="image/x-icon"/><link rel="stylesheet" type="text/css" href="../common/css/positioning.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/treeview/jquery.treeview.css"/><script type="text/javascript" src="../common/jquery/jquery-1.4.2.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery-ui-1.8.2.custom.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery.cookie.js"><!----></script><script type="text/javascript" src="../common/jquery/treeview/jquery.treeview.min.js"><!----></script><script type="text/javascript" src="search/htmlFileList.js"><!----></script><script type="text/javascript" src="search/htmlFileInfoList.js"><!----></script><script type="text/javascript" src="search/nwSearchFnt.js"><!----></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"><!--//make this scalable to other languages as well.--></script><script type="text/javascript" src="search/index-1.js"><!----></script><script type="text/javascript" src="search/index-2.js"><!----></script><script type="text/javascript" src="search/index-3.js"><!----></script></head><body><div id="header"><img style="margin-right: 2px; height: 59px; padding-right: 25px; padding-top: 8px" align="right" src="../common/images/logo.png" alt="Company Logo"/><h1 align="center">JOURNAL
<br/>ChapterA 6.A <span>GT.M </span>Journaling</h1><div id="navheader" align="right"><!----><table><tr><td style="height: 28px; width: 16px;"><a id="showHideButton" onclick="showHideToc();" class="pointLeft" title="Hide TOC tree">.
                            </a></td><td><img src="../common/images/highlight-blue.gif" alt="H" height="25px" onclick="toggleHighlight()" id="showHideHighlight" style="cursor:pointer" title="Toggle search result highlighting"/></td><td><a accesskey="p" href="mup_jnl_set.html">Prev</a>
                                        |
                                        <a accesskey="u" href="journaling.html">Up</a>
                                    |
                                    <a accesskey="n" href="jnl_ext.html">Next</a></td></tr></table></div></div><div id="content"><!----><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="jnl_mup_journal"/>JOURNAL<a id="d0e19249" class="indexterm"/>
<a id="d0e19255" class="indexterm"/><a id="d0e19258" class="indexterm"/></h2></div></div></div><p>MUPIP JOURNAL command analyzes, extracts from, reports on, and recovers journal files. The format for the MUPIP JOURNAL command is: </p><pre class="programlisting">MUPIP J[OURNAL] -qualifier[...] file-selection-argument</pre><p><em class="replaceable"><code>file-selection-argument</code></em> is a comma-separated list of journal files.</p><p><code class="code">-qualifier [...]</code> is a combination of Action, Direction, Time, Sequence Number, Control, and Selection qualifiers that perform various MUPIP JOURNAL operations. To create any MUPIP JOURNAL command, select an appropriate combination of qualifiers by moving horizontally from the Action column extending to the Selection column: </p><a id="d0e19273" class="indexterm"/><a id="d0e19278" class="indexterm"/><a id="d0e19281" class="indexterm"/><a id="d0e19284" class="indexterm"/><a id="d0e19287" class="indexterm"/><a id="d0e19290" class="indexterm"/><a id="d0e19293" class="indexterm"/><div class="informaltable"><a id="tbljnlcom"/><table border="1"><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/><col class="c5"/><col class="c6"/></colgroup><thead><tr><th>
               <p>Action</p>
            </th><th>
               <p>Direction</p>
            </th><th>
               <p>Time (optional)</p>
            </th><th>
               <p>Sequence Number (optional)</p>
            </th><th>
               <p>Control (optional)</p>
            </th><th>
               <p>Selection (optional)</p>
            </th></tr></thead><tbody><tr><td>
               <p>One or more</p>
            </td><td>
               <p>Only one</p>
            </td><td>
               <p>One or more</p>
            </td><td>
               <p>Only one</p>
            </td><td>
               <p>One or more</p>
            </td><td>
               <p>One or more</p>
            </td></tr><tr><td>
               <p><code class="code">-EXTRACT[=file specification]</code> </p>
               <p><code class="code">-RECOVER </code></p>
               <p><code class="code">-ROLLBACK </code></p>
               <p><code class="code">-SHOW[=show-option-list] </code></p>
               <p><code class="code">-[NO]VERIFY</code></p>
            </td><td>
               <p><code class="code">-BACKWARD</code></p>
               <p><code class="code">-FORWARD</code></p>
            </td><td>
               <p><code class="code">-AFTER=time </code></p>
               <p><code class="code">-BEFORE=time </code></p>
               <p><code class="code">-[NO]LOOKBACK_TIME[=lookback option list] </code></p>
               <p><code class="code">-SINCE=time</code></p>
            </td><td>
               <p><code class="code">-FETCH_RESYNC=port-number </code></p>
               <p><code class="code">-RESYNC=jnl sequence-number</code></p>
            </td><td>
               <p><code class="code">-[NO]APPLY_AFTER_IMAGE </code></p>
               <p><code class="code">-[NO]BROKENTRANS[=file_name] </code></p>
               <p><code class="code">-[NO]CHAIN</code></p>
               <p><code class="code">-[NO]CHECKTN </code></p>
               <p><code class="code">-[NO]ERRORLIMIT[=integer] </code></p>
               <p><code class="code">-FENCES=fence option </code></p>
               <p><code class="code">-FULL </code></p>
               <p><code class="code">-[NO]INTERACTIVE</code></p>
               <p><code class="code">-[NO]LOSTTRANS[=file_name]</code></p>
               <p><code class="code">-REDIRECT=file pair list</code></p>
               <p><code class="code">-VERBOSE</code></p>
               <p><code class="code">-DETAIL</code></p>
            </td><td>
               <p><code class="code">-GLOBAL=global-list </code></p>
               <p><code class="code">-ID=pid-list </code></p>
               <p><code class="code">-TRANSACTION=transaction-type </code></p>
               <p><code class="code">-USER=user-list</code></p>
            </td></tr></tbody></table></div><p>Also ensure that you adhere to the following rules: </p><p/><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>-AFTER is incompatible with -RECOVER or -ROLLBACK; that is -AFTER requires -FORWARD, and only applies to action qualifiers: -EXTRACT, -SHOW, and -VERIFY.</p></li><li class="listitem"><p>-APPLY_AFTER_IMAGE is compatible only with -RECOVER, or -ROLLBACK. </p></li><li class="listitem"><p>-BACKWARD is incompatible with -FORWARD, -AFTER, -CHECKTN, -NOCHAIN, and -REDIRECT. </p></li><li class="listitem"><p>-[NO]BROKENTRANS is compatible only with -RECOVER, -ROLLBACK, or -EXTRACT. </p></li><li class="listitem"><p>-CHAIN is only compatible with -FORWARD.</p></li><li class="listitem"><p>-CHECKTN is incompatible with -BACKWARD.</p></li><li class="listitem"><p>-DETAIL is compatible only with -EXTRACT. </p></li><li class="listitem"><p>-FETCHRESYNC is only compatible with the -ROLLBACK action in the -FORWARD direction and is incompatible with RESYNC. </p></li><li class="listitem"><p>-FORWARD is incompatible with -BACKWARD, -FETCHRESYNC, -LOOKBACK_LIMIT, -ONLINE and -SINCE. </p></li><li class="listitem"><p>-FULL is compatible only with -EXTRACT, -SHOW, or -VERIFY. </p></li><li class="listitem"><p>-[NO]LOSTTRANS is compatible only with -RECOVER, -ROLLBACK, or -EXTRACT. </p></li><li class="listitem"><p>-REDIRECT is compatible only with -BACKWARD and -RECOVER. </p></li><li class="listitem"><p>-RESYNC  is only compatible with the -ROLLBACK action and incompatible with FETCHRESYNC. </p></li><li class="listitem"><p>-ROLLBACK is incompatible with -RECOVER, -CHAIN, -CHECKTN, -REDIRECT, time qualifiers of -SHOW except -BEFORE.</p></li><li class="listitem"><p>-SINCE is incompatible with -FORWARD.</p></li><li class="listitem"><p>-TRANSACTION is compatible only with -EXTRACT and -SHOW. </p></li><li class="listitem"><p>-USER is compatible only with -EXTRACT and -SHOW. </p></li><li class="listitem"><p>file list must not be asterisk (*) for -REDIRECT. </p></li><li class="listitem"><p>file list must be asterisk (*) for -BACKWARD -ROLLBACK; -ROLLBACK -FORWARD accepts a list of journal file names. </p></li><li class="listitem"><p>Journal selection qualifiers are incompatible with -RECOVER, -ROLLBACK, and -VERIFY.</p></li><li class="listitem"><p>If -BEFORE (time-based) and -FETCHRESYNC/-RESYNC (sequence-number-based) are specified in the same MUPIP JOURNAL -ROLLBACK command, the qualifier that corresponds to an earlier database state or point in time prevails. For example, -BEFORE prevails when the update corresponding to the sequence number obtained through the -FETCHRESYNC command happened at a later time relative to the -BEFORE qualifier and vice versa.</p></li><li class="listitem"><p>-FETCHRESYNC, -ONLINE, and -RSYNC_STRM qualifiers are not compatible with -ROLLBACK -FORWARD.</p></li></ol></div><p>For example, MUPIP JOURNAL -EXTRACT=gtm.mjf -FORWARD -DETAIL is a valid command which performs forward processing to extract detailed the journal records to gtm.mjf. However, MUPIP JOURNAL -EXTRACT -REDIRECT=gtm.dat=test/gtm.dat -FORWARD is an invalid command because -REDIRECT is not compatible with -EXTRACT. </p><p>MUPIP JOURNAL manipulates an inactive journal file that is available for exclusive (standalone) use. You can transcribe Journal files to tape. However, you must always restore them to disk for processing by MUPIP JOURNAL. </p><p>Press &lt;CTRL-C&gt; to stop JOURNAL processing. A JOURNAL command that terminates abnormally by operator action or error produces an incomplete result. In this case, the resulting database may be corrupt. If you stop a JOURNAL operation by mistake, reissue the command to produce the proper result for -RECOVER (or -ROLLBACK) -BACKWARD. For -RECOVER -FORWARD, restore the database from backup and reissue the command.  </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="jnl_action"/><span>Journal </span>Action Qualifiers</h3></div></div></div><p>This section describes the journaling action qualifiers.</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="jnl_extractstd"/>-EXtract<span>[=&lt;file-name&gt;|-stdout]</span><a id="d0e19587" class="indexterm"/></h4></div></div></div><p>Transfers information from journal files into files formatted for processing by M routines. It reports the journal time stamps using the $H format, as controlled by the time zone setting from the OS and the process environment for the process running the EXTRACT. </p><p>-EXTRACT takes &lt;file-name&gt; or -stdout as an optional argument.</p><p>&lt;file-name&gt; specifies the name of the output file. -stdout specifies that -EXTRACT write to standard output (stdout) instead of writing to a file.</p><p>With no arguments, MUPIP JOURNAL derives the output file specification of the extract file using the name of the first journal file that is processed in the forward processing phase and a file type of .mjf. Note that, if multiple journal names are specified in the command line the first journal specified might be different from the first journal processed in the forward phase. When -EXTRACT is specified with -RECOVER (or -ROLLBACK), the -JOURNAL command extracts all the journal records processed during a -RECOVER -FORWARD command or the forward phase of (-RECOVER or -ROLLBACK) -BACKWARD command.</p><p>-EXTRACT applies to forward processing of the journal file; if the combined state of the journal file and the Journal Time qualifiers does not cause forward processing, -EXTRACT does not create an output file.</p><p>When used independent of -RECOVER (or -ROLLBACK), -EXTRACT option can produce a result even though the database file does not exist, although it does try to access the database if it is available. </p><p>If a database having custom collation is inaccessible or the replication instance is frozen with a critical section required for the access held by another process and the environment variable gtm_extract_nocol is defined and evaluates to a non-zero integer or any case-independent string or leading substrings of "TRUE" or "YES", MUPIP JOURNAL -EXTRACT issues the DBCOLLREQ warning and proceeds with the extract using the default collation. If gtm_extract_nocol is not set or evaluates to a value other than a positive integer or any case-independent string or leading substrings of "FALSE" or "NO", MUPIP JOURNAL -EXTRACT exits with the SETEXTRENV error if it encounters such a situation. Note that if default collation is used for a database with custom collation, the subscripts reported by MUPIP JOURNAL -EXTRACT are those stored in the database, which may differ from those read and written by application programs. </p><p>Note that, a broken transaction, if found, is extracted to a broken transaction file <span>(refer to <a class="xref" href="mup_journal.html#jnl_ctrl_quals" title="Journal Control Qualifiers">a??<span>Journal </span>Control Qualifiersa??</a></span> for details), and all future complete transactions are considered as lost transactions, and are extracted to a lost transaction file <span>(refer to <a class="xref" href="mup_journal.html#jnl_ctrl_quals" title="Journal Control Qualifiers">a??<span>Journal </span>Control Qualifiersa??</a></span> for details). </p><p>To avoid broken transaction or lost transaction processing and instead extract all journal records into one file, use the control qualifier -FENCES=NONE. FIS strongly recommended against using  -FENCES=NONE if -RECOVER/-ROLLBACK is also specified.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="jnl_parallel"/>-<span>PARA[LLEL][=n]</span></h4></div></div></div><a id="d0e19623" class="indexterm"/><p>PARA[LLEL][=n] specifies the number of parallel threads (for backward processing) and parallel processes (for forward processing). Parallel threads typically increase the speed of MUPIP JOURNAL RECOVER/ROLLBACK operations.</p><p>Omitting the qualifier or specifying a value of one (1) defaults to a single process with no threads. Omitting the value or specifying a value of zero (0) specifies one thread or process per region. </p><p>A value greater than one (1) specifies the maximum number of concurrent threads or processes MUPIP should use, although it never uses more than one per region. If the number of regions exceeds the specified value, MUPIP allocates one thread or processes in an order determined by timestamps in the journal records.</p><p>The environment variable gtm_mupjnl_parallel provides a value when the MUPIP JOURNAL command has no explicit -PARALLEL qualifier; when defined with no value gtm_mupjnl_parallel acts like -PARALLEL with no value. <span>When the -PARALLEL qualifier (or the gtm_mupjnl_parallel environment variable) specifies the use of parallel processes in the forward phase of a MUPIP JOURNAL command, MUPIP may create temporary shared memory segments and/or extract files (corresponding to -extract or -losttrans or -brokentrans qualifiers) and clean these up at the end of the command; however an abnormal termination such as a kill -9 might cause these to be orphaned. Journal extract files (created by specifying one of -extract or -brokentrans or -losttrans to a MUPIP JOURNAL command) contain journal records sorted in the exact order their corresponding updates happened in time.</span></p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="recover"/>-RECover<a id="d0e19641" class="indexterm"/>
<a id="d0e19647" class="indexterm"/></h4></div></div></div><p>Instructs MUPIP JOURNAL to initiate database recovery. -RECOVER initiates the central JOURNAL operation for non-replicated database. From the list of JOURNAL action qualifiers, select RECOVER alone or with any other action qualifiers except -ROLLBACK.</p><a id="d0e19654" class="indexterm"/><a id="d0e19657" class="indexterm"/><a id="d0e19662" class="indexterm"/><p>-RECOVER -FORWARD with time qualifiers initiates forward recovery. Forward recovery ignores the current journaling state of the target database file. It disables journaling of the target database file, (if currently ENABLE and ON), while playing forward the database updates. However, it restores the journaling state of the database at the end of a successful recovery (if necessary), except when journaling is ENABLE'd and ON before the recovery. In the latter case, the journaling state at the end of a successful recovery, is switched to ENABLE and OFF. No journaling is performed for the logical updates to the database for JOURNAL -RECOVER -FORWARD. If the target database's current transaction number is less than first transaction number to be processed in the specified journal file for that region, -RECOVER attempts to include previous generation journal file(s) in its processing, unless the -NOCHAIN qualifier is specified. Following the successive previous links of journal files -RECOVER tries to include previous generations of journal files until the transaction number when the journal file was created is less than, or equal to that of the target database. -RECOVER issues one or more informational messages when it includes previous generation journal files. If target database's current transaction number is not equal to the first transaction number of the earliest journal file to be processed for a region, -RECOVER exits with an error. If multiple journal files for a single region are specified with -RECOVER -FORWARD, it behaves as if -NOCHAIN was specified. If the journal files are not a complete set (for example mumps1.mjl and mumps3.mjl were specified, with mumps2.mjl missing from the command line), MUPIP JOURNAL produces an error because the journal files specified are discontinuous in terms of database transaction numbers. On the other hand, specifying just mumps3.mjl automatically includes mumps2.mjl and mumps1.mjl in the recovery. </p><a id="d0e19669" class="indexterm"/><a id="d0e19672" class="indexterm"/><a id="d0e19677" class="indexterm"/><p>-RECOVER -BACKWARD with time qualifiers initiates backward recovery. For backward recovery, the target database file should be the same as when GT.M wrote the last complete transaction to the journal. Because the database may be in an indeterminate state due to a failure, exact checks for this match are not possible. If the target database has journaling DISABLE'd (or ENABLE, OFF), -RECOVER -BACKWARD exits with an error message. </p><p>If the target database has journaling ENABLE, ON, but the journal file name in database file header does not match the latest generation journal file name specified for that region, -RECOVER exits with an error. </p><p>During forward processing phase of JOURNAL -RECOVER -BACKWARD, MUPIP journals the logical updates to the database. It also creates before images. It is always required to have journaling ENABLE'd and ON for -RECOVER -BACKWARD or -ROLLBACK.</p><p>If a transaction is found with incomplete fence, it is considered broken. During forward phase of recovery, if a complete transaction (fenced or unfenced) is found after a broken transaction. -RECOVER increments the error count. If -ERRORLIMIT is reached, the complete transaction goes to lost transaction file, otherwise, it is applied to the database. </p><p>All broken and lost transactions are made available as the result of the -RECOVERY. They are written as journal extract format in two different text files. They are the broken transaction file and the lost transaction file. <span>Refer to the sections on BROKENTRANS and LOSTTRANS in <a class="xref" href="mup_journal.html#jnl_ctrl_quals" title="Journal Control Qualifiers">a??<span>Journal </span>Control Qualifiersa??</a>. MUPIP JOURNAL does not allow any two of -EXTRACT, -LOSTTRANS or -BROKENTRANS to specify the same file name unless they are special files (-stdout or /dev/null). </span></p><p>When performing JOURNAL -RECOVER with fences (FENCES="PROCESS" or FENCES="ALWAYS"), it is essential for the command to include all the journal files corresponding to the complete set of database files that make up the logical database. If the specified set of journals is incomplete, the recovery reports all transactions that included any missing region as broken. Typically, this means that the results of the recovery are unsatisfactory or even unusable. </p><p>MUPIP JOURNAL -RECOVER requires exclusive access to database files before recovery can occur. It keeps the exclusive access to the database files, which means that the database files become inaccessible during the time of recovery.</p><p>If time qualifiers are not specified, -BACKWARD -RECOVER/-ROLLBACK performs optimal recovery. An optimal recovery checks whether the datatabase is in a wholesome state and attempts to perform an automatic recovery if there is a crash. If needed, optimal recovery goes back to include some previous generation files in order to get a consistent starting point and then comes forward as far as the available journal record allow it to while preserving consistent application state. At the end, the journaling state of the database stays ENABLE, ON. Note that the gtm script performs an optimal recovery on every run.</p><p>When a database file is rolled back by -RECOVER -BACKWARD, the corresponding journal file is also rolled back so that the two are synchronized. -RECOVER -BACKWARD then creates a new journal file. If no forward play of journal records is neccessary, the newly created journal file stays empty and the database points to the new journal file. The values for journal allocation and extension in the new journal file, are copied over from the database. The autoswitchlimit value in the new journal file is the maximum of the autoswitchlimit values of all journal files from the latest generation journal file until the turnaround point journal file generation (turnaround point is the point in the journal file where backward processing stops and forward processing begins). The journal allocation/extension values in the new journal file are picked up from the earliest generation of the set of those journal files sharing the maximum autoswitchlimit value.</p><a id="d0e19704" class="indexterm"/><a id="d0e19707" class="indexterm"/><p>GT.M adds a prefix rolled_bak_ to the journal file whose entire contents are eliminated (rolled back) by -RECOVER -BACKWARD. GT.M does not use these files after a successful recovery therefore you might want to consider moving or deleting them. You should never use rolled_bak* files for any future database recovery. If there is a need to process rolled_bak* files, you should extract the journal records from rolled_back* files and process them using a M program.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Using -RECOVER on a replicated database initiates database recovery but turns replication OFF. Under most circumstances, there is no need to perform a -RECOVER operation on replicated regions. </p></td></tr></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="rollback"/>-ROLLBACK <span>[{-ON[LINE]|-NOO[NLINE]}]</span><a id="d0e19724" class="indexterm"/>
<a id="d0e19730" class="indexterm"/>
</h4></div></div></div><p>-ROLLBACK -FORWARD "*" command does what a -RECOVER -FORWARD "*" would do except that the ROLLBACK also updates sequence number related fields in the database file header and ensures update serialization across regions. -RECOVER can leave one database region ahead of another region. -RECOVER cannot ensure database Consistency across regions whereas -ROLLBACK can. </p><p>When used without time qualifiers, -ROLLBACK -FORWARD "*" applies update records in journal files to backed up copies of database files to bring them to the same state that -ROLLBACK -BACKWARD "*" would bring crashed database files. Note that, in the context of -RECOVER and -ROLLBACK, the "*" indicates the use of all the appropriate journal files in all the replicated regions and the quotes prevent inappropriate expansion by the OS shell.</p><p>Databases recovered with -ROLLBACK can be used in replicated instances. </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="../common/images/important.jpg"/></td><th align="left"/></tr><tr><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>-ROLLBACK -FORWARD leaves the journaling state turned off in database files (as does MUPIP JOURNAL -RECOVER -FORWARD), which in turn means that replication is also turned off; re-enable journaling, and turn replication on, before using database files in environments where they can be updated, but journaling and replication may be left off if subsequent access is read-only. </p></li><li class="listitem"><p>After a -ROLLBACK -FORWARD, recreate the replication instance file as part of turning replication on for the recovered database. </p></li><li class="listitem"><p>-ROLLBACK -FORWARD can use both before-image and nobefore-image journal files. </p></li></ul></div></td></tr></table></div><p>-ROLLBACK initiates the central JOURNAL operation for a replicated database. MUPIP JOURNAL commands may specify -ROLLBACK with other action qualifiers but not with -RECOVER. With -BACKWARD, if you do not specify -BEFORE or -FETCHRESYNC, the database rolls back to the last consistent state. With -BACKWARD, the command allows only an asterisk (*) argument for the journal file selection, that is, -ROLLBACK selects journal files by itself.</p><p>If a transaction is found with incomplete fence, it is considered incomplete or broken.</p><p>During the forward phase of rollback, if a complete transaction (fenced or unfenced) is found after a broken transaction, it is considered as a lost transaction. During forward phase of rollback, MUPIP journals the logical updates to the database. All broken and lost transactions are made available as a result of the rollback. These are written as journal extract format in two different text files.</p><p>When a database file is rolled back by -ROLLBACK, the corresponding journal file is also rolled back so that the two are synchronized. -ROLLBACK then creates a new journal file. If no forward play of journal records is necessary, the newly created journal file is empty and the database points to the new journal file. The journal allocation/extension/autoswitchlimit values in the new journal file is set in the way as described for -RECOVER -BACKWARD in the previous section under -RECOVER.</p><p>A prefix rolled_bak_ is added to the journal file, whose entire contents are eliminated by a -ROLLBACK. These files are not used by GT.M after the MUPIP JOURNAL -RECOVER, and can be moved/deleted as needed.</p><p>For -ROLLBACK the target database file should be the same as when GT.M wrote the last complete transaction to the journal.</p><p>If the -FETCHRESYNC or -RESYNC qualifiers are not specified, MUPIP does an optimal rollback (that is, check whether the database is in a wholesome state and attempt to automatically recover a database if there is a crash).</p><p>-ROLLBACK -BACKWARD exits with an error message if a database does not have both journaling and replication either enabled or disabled.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If ROLLBACK (either -NOONLINE or -ONLINE) terminates abnormally (say because of a kill -9), it leaves the database in a potentially inconsistent state indicated by the FILE corrupt field in the database file header. When a ROLLBACK terminates leaving this field set, all other processes receive DBFLCORRP errors any time they attempt to interact with the database. You can clear this condition as following in descending order of risk:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Rerun ROLLBACK to completion</p></li><li class="listitem"><p>MUPIP SET -FILE -PARTIAL_RECOV_BYPASS</p></li><li class="listitem"><p>DSE CHANGE -FILEHEADER -CORRUPT=FALSE -NOCRIT</p></li></ul></div><p>However, the MUPIP and DSE actions do not ensure that the database has consistent state; check for database integrity with MUPIP INTEG.</p></td></tr></table></div><p><code class="code">-NOO[NLINE]</code></p><p>Specifies that ROLLBACK requires exclusive access to the database and the replication instance file, which means the database and the replication instance files are inaccessible during a -ROLLBACK -NOONLINE. </p><p>-ROLLBACK -FORWARD does not support the -[NO]O[NLINE] qualifier. </p><p><code class="code">-ON[LINE]</code></p><p>Specifies that ROLLBACK can run without requiring exclusive access to the database and the replication instance file.</p><p>Any utility/command attempted while MUPIP JOURNAL -ONLINE -ROLLBACK operates waits for ROLLBACK to complete; the $gtm_db_startup_max_wait environment variable configures the wait period. <span>For more information on $gtm_db_startup_max_wait, refer to <a class="xref" href="ch03s02.html" title="Environment Variables">a??Environment Variablesa??</a>.</span> </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Because MUPIP ROLLBACK -ONLINE can take a database backwards in state space, please make sure that you understand what it is that you intend it to do when you invoke it.</p></td></tr></table></div><p>By default, MUPIP JOURNAL -ROLLBACK -BACKWARD is -NOONLINE.</p><p>GT.M increments ISV $ZONLNRLBK every time a process detects a concurrent MUPIP JOURNAL -ONLINE -ROLLBACK.</p><p>The logical state of the database after the completion of MUPIP JOURNAL -ONLINE -ROLLBACK matches the logical state of the database at the start of MUPIP JOURNAL -ONLINE -ROLLBACK, that is, the ROLLBACK only removes any incompletely committed TP transactions or non-TP mini-transactions; any concurrent transaction (TP or Non-TP) incurs a restart. </p><p>If MUPIP JOURNAL -ONLINE -ROLLBACK changes the logical state of the database, the behavior is as follows:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>For the duration of the rollback, replication is turned OFF on all regions and turned back ON at the end of the rollback.</p></li><li class="listitem"><p>-ONLINE -ROLLBACK increments ISV $ZONLNRLBK</p></li><li class="listitem"><p>In a TP transaction including trigger code within a transaction, -ONLINE -ROLLBACK restarts the transaction.</p></li><li class="listitem"><p>In a non-TP mini-transaction, including within an implicit transaction caused by a trigger, -ONLINE -ROLLBACK produces a DBROLLEDBACK error, which, in turn, invokes the error trap if $ETRAP or $ZTRAP are in effect.</p></li></ul></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="show"/>-SHow<span>=show-option-list</span><a id="d0e19836" class="indexterm"/>
<a id="d0e19842" class="indexterm"/>
<a id="d0e19848" class="indexterm"/>
<a id="d0e19852" class="indexterm"/>
<a id="d0e19856" class="indexterm"/><a id="d0e19859" class="indexterm"/>
<a id="d0e19863" class="indexterm"/>
</h4></div></div></div><p>Specifies which information for the JOURNAL command to display about a journal file. </p><p>Use -FORWARD with -SHOW together (but without -RECOVER ) to process the entire journal file. Specify -SHOW with -RECOVER (or -ROLLBACK) to consider all the journal files/records processed during a -RECOVER -FORWARD command or forward phase of a -RECOVER (or -ROLLBACK) -BACKWARD command. Without -RECOVER (or -ROLLBACK), -SHOW does not require database access. </p><p>The show-option-list includes (these are not case-sensitive): </p><div class="orderedlist"><a id="itmlist1"/><ol class="orderedlist" type="1"><li class="listitem"><p><code class="code">AL[L]</code></p><p>Displays all the available type of information about the journal file. ALL is the default if you omits the show-option-list. </p></li><li class="listitem"><p><code class="code">AC[TIVE_PROCESSES] </code></p><p>Displays all processes active at the end of the period specified implicitly or explicitly by the JOURNAL command time qualifiers. </p></li><li class="listitem"><p><code class="code">B[ROKEN_TRANSACTIONS] </code></p><p>Display all processes that had incomplete fenced transactions at the end of the period covered by the JOURNAL command. </p></li><li class="listitem"><p><code class="code">H[EADER] </code></p><p>Displays the journal file header information. If the MUPIP JOURNAL command includes only the -SHOW=HEADER action qualifier, GT.M processes only the journal file header (not the contents) even if you specify -BACKWARD or -FORWARD with it. The size of a journal file header is 64K. </p><p>HEADER displays almost all the fields in the journal file header. The NODE field is printed up to a maximum of the first 12 characters. The following is an example of SHOW=HEADER output: </p><pre class="programlisting">-------------------------------------------------------------------------------
SHOW output for journal file /home/jdoe/.fis-gtm/V6.3-002_x86/g/gtm.mjl
-------------------------------------------------------------------------------
Journal file name       /home/jdoe/.fis-gtm/V6.3-002_x86/g/gtm.mjl
Journal file label      GDSJNL23
Database file name      /home/jdoe/.fis-gtm/V6.3-002_x86/g/gtm.dat
 Prev journal file name /home/jdoe/.fis-gtm/V6.3-002_x86/g/gtm.mjl_2012310190106
 Next journal file name 
 Before-image journal                      ENABLED
 Journal file header size                    65536 [0x00010000]
 Virtual file size                            2048 [0x00000800] blocks
 Journal file checksum seed             2272485152 [0x87735F20]
 Crash                                       FALSE
 Recover interrupted                         FALSE
 Journal file encrypted                      FALSE
 Journal file hash                           00000000000000000000000000000000000
 Blocks to Upgrade Adjustment                    0 [0x00000000]
 End of Data                                 65960 [0x000101A8]
 Prev Recovery End of Data                       0 [0x00000000]
 Endian Format                              LITTLE
 Journal Creation Time         2012/11/06 17:30:33
 Time of last update           2012/11/06 17:30:33
 Begin Transaction                               1 [0x0000000000000001]
 End Transaction                                 1 [0x0000000000000001]
 Align size                                2097152 [0x00200000] bytes
 Epoch Interval                                300
 Replication State                          CLOSED
 Jnlfile SwitchLimit                       8386560 [0x007FF800] blocks
 Jnlfile Allocation                           2048 [0x00000800] blocks
 Jnlfile Extension                            2048 [0x00000800] blocks
 Maximum Journal Record Length             1048672 [0x00100060]
 Turn Around Point Offset                        0 [0x00000000]
 Turn Around Point Time                          0
 Start Region Sequence Number                    1 [0x0000000000000001]
 End Region Sequence Number                      1 [0x0000000000000001]
Process That Created the Journal File:
PID        NODE        USER         TERM JPV_TIME           
------------------------------------------------------------
0000006706 jdoe-laptop jdoe         0    2012/11/06 17:30:33                   
Process That First Opened the Journal File:
PID        NODE        USER         TERM JPV_TIME           
------------------------------------------------------------
0000006706 jdoe-laptop jdoe         0    2012/11/06 17:30:33</pre></li><li class="listitem"><pre class="programlisting"><a id="d0e19905" class="indexterm"/>P[ROCESSES] </pre><p>Displays all processes active during the period specified implicitly or explicitly by the JOURNAL command time qualifiers. </p></li><li class="listitem"><pre class="programlisting"><a id="d0e19914" class="indexterm"/>S[TATISTICS] </pre><p>Displays a count of all journal record types processed during the period specified implicitly or explicitly by the JOURNAL command time qualifiers.The following is an example of SHOW=STATISTICS output:</p><pre class="programlisting">-------------------------------------------------------------------------------
SHOW output for journal file /home/jdoe/.fis-gtm/V6.3-002_x86/g/gtm.mjl
-------------------------------------------------------------------------------
Record type    Count
----------------------
   *BAD*          0
   PINI           2
   PFIN           2
   ZTCOM          0
   KILL     1333533
   FKILL          0
   GKILL          0
   SET            0
   FSET           0
   GSET           0
   PBLK        4339
   EPOCH          2
   EOF            1
   TKILL          0
   UKILL          0
   TSET           0
   USET           0
   TCOM           0
   ALIGN         49
   NULL           0
   ZKILL          0
   FZKIL          0
   GZKIL          0
   TZKIL          0
   UZKIL          0
   INCTN       4314
   AIMG           0
   TZTWO          0
   UZTWO          0
   TZTRI          0
   UZTRI          0
   TRUNC          0
%GTM-S-JNLSUCCESS, Show successful
%GTM-S-JNLSUCCESS, Verify successful
%GTM-I-MUJNLSTAT, End processing at Tue Nov  6 17:42:21 2012</pre></li></ol></div><p>The following example displays the cryptographic hash of the symmetric key stored in the journal file header (the output is one long line). </p><pre class="programlisting">$ mupip journal -show -backward mumps.mjl 2&gt;&amp;1 | grep hash
Journal file hash F226703EC502E975784
8EEC733E1C3CABE5AC146C60F922D0E7D7CB5E
2A37ABA005CE98D908B219249A0464F5BB622B72F5FDA
0FDF04C8ECE52A4261975B89A2</pre></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="jnl_verify"/>-<span>[NO]</span>Verify</h4></div></div></div><a id="d0e19932" class="indexterm"/><p>Verifies journal files for integrity. This qualifier cannot have a value. -VERIFY scans journal files and checks if they have legal form, if not, it terminates without affecting the database files. </p><p>-NOVERIFY is the default for -RECOVER -FORWARD and -ROLLBACK -FORWARD. -VERIFY is the default for RECOVER -FORWARD -NOCHECKTN. -VERIFY is also the default for all other MUPIP JOURNAL commands (including -RECOVER -BACKWARD and -ROLLBACK -BACKWARD).</p><p>-VERIFY when specified along with -FORWARD verifies the entire journal file For -NOVERIFY -FORWARD, only the tail of a journal file is verified for cross region integrity. In both cases, if -RECOVER is also specified, the forward play of journal records is done in a separate pass only after the verification pass is complete and error-free.</p><p>-VERIFY along with -BACKWARD verifies all journal records from the end of the journal file till the turn around point. When -VERIFY -BACKWARD is specified along with -RECOVER or -ROLLBACK, backward processing involves two passes, the first pass to do the verification until the turn around point, and the second pass to apply before image (PBLK) records.</p><p>When -NOVERIFY -BACKWARD is specified along with -RECOVER or -ROLLBACK, PBLKs are applied to the database in the same pass as the verification. This speeds up processing. But the disadvantage of this approach is that in the event of verification terminating in the middle of backward processing, there is no protection of cross-region integrity. FIS recommends the use of -VERIFY (the default) when -BACKWARD is used with -RECOVER or -ROLLBACK. For -FORWARD, unless there is reason to suspect that the journal files have sustained structural damage, FIS suggests the use of -NOVERIFY (the default).</p><p>When used independent of -RECOVER (or -ROLLBACK), -[NO]VERIFY option does not need database access. In this case the default is -VERIFY.</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="jnl_direction"/><span>Journal </span>Direction Qualifiers</h3></div></div></div><p>The following two qualifiers control the journal processing direction:</p><a id="d0e19957" class="indexterm"/><pre class="programlisting">-BACKWARD</pre><p>Specifies that MUPIP JOURNAL processing should proceed from the end of the journal file. If the actions include -RECOVER, JOURNAL -BACKWARD restores before-images from the end-of the file back to an explicitly or implicitly specified point (the turn around point), before it reverses and processes database updates in the forward direction (the forward phase).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>-BACKWARD is incompatible with -FORWARD. </p></td></tr></table></div><a id="d0e19971" class="indexterm"/><pre class="programlisting">-FO[RWARD]</pre><p>Specifies that MUPIP JOURNAL processing for the specified action qualifier should proceed from the beginning of the given journal file. When processing a -RECOVER action qualifier, in certain cases, MUPIP JOURNAL may need to go before the first record of the specified journal file, that is, it can start from a previous generation journal file<span>(refer to <a class="xref" href="mup_journal.html#recover" title="-RECover">a??-RECover
a??</a> for details)</span>.</p><p>If multiple journal files are specified in the command line, -FORWARD sorts the journal files within each region based on creation time and processes them starting from the earliest journal file. Unless the -NOCHECKTN qualifier is specified, -FORWARD performs checks on journal files corresponding to each region to ensure they are contiguous, both in terms of time span, as well as, transaction number span. -FORWARD errors out if it detects a discontinuity.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>-FORWARD is incompatible with -BACKWARD and -ROLLBACK.</p></td></tr></table></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="jnl_time"/><span>Journal </span>Time Qualifiers</h3></div></div></div><p>Journal qualifiers specifying time accept arguments in absolute or delta time format. Enclose time arguments in quotation marks (" ") . Include a back-slash (\) delimiter before both, the beginning and ending quotation marks to escape it from being processed by the UNIX shell.</p><p>Absolute format is <em class="replaceable"><code>day-mon-yyyy hh:mm:ss</code></em>, where <em class="replaceable"><code>day</code></em> denotes the date of the month, <em class="replaceable"><code>mon</code></em> indicates the abbreviated 3-letter month name (for example, Jan, Feb,..) and the year <em class="replaceable"><code>yyyy</code></em> and hour <em class="replaceable"><code>hh</code></em> are separated by a space. Absolute time may indicate today's date with "-- " before the hours. </p><p>Delta format is day hh:mm:ss, indicating the number of days, hours, minutes, and seconds; where the day and the hours (hh) are separated by a space. If delta time is less than a day, it must start with zero (0) followed by a space. </p><p>Delta time is always relative to the maximum time of the last record in all journal files specified by arguments to the MUPIP JOURNAL command. </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="../common/images/note.jpg"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>All time qualifiers except -BEFORE are incompatible with -ROLLBACK. </p></td></tr></table></div><p>The following section describes the time qualifiers in more detail:</p><a id="d0e20028" class="indexterm"/><pre class="programlisting">-A[FTER]=time</pre><p>Specifies the starting time stamp in the journal file after which any -FORWARD action should start processing. This time qualifier is compatible only with -EXTRACT,-SHOW, or -VERIFY. </p><p>If -AFTER= provides a time following the last time recorded in the journal file or following any -BEFORE= time, JOURNAL processing produces no result and MUPIP displays a warning message. If -AFTER provides a time preceding the first time recorded in the journal file specified in the command line, and, previous generation journal file(s) exists for that journal file, then previous generation journal file(s) are not included for the processing. You must specify previous generation journal files explicitly in the command line in order for them to be considered.</p><p>Using -BEFORE with -AFTER restricts processing to a particular period of time in the journal file.</p><a id="d0e20041" class="indexterm"/><pre class="programlisting">-BE[FORE]=time</pre><p>Specifies an ending time for any action -FORWARD or -BACKWARD. The time specified references time stamps in the journal files. If -BEFORE= specifies a time preceding the first time recorded in the journal file, or preceding any -AFTER= or -SINCE= time, JOURNAL processing produces no result, and MUPIP displays a warning message.</p><p>If -BEFORE= time exceeds the last time recorded in journal files, JOURNAL processing effectively ignores the qualifier and terminates at the end of the journal file. By default, JOURNAL processing terminates at the end of the journal file. </p><p>When used with -ROLLBACK or -RECOVER, -BEFORE specifies the the time at which MUPIP stops applying updates to the database in its forward processing phase (i.e., no journal records with update times after the -BEFORE time are applied to the database). </p><p>When both  -FETCHRESYNC/-RESYNC and -BEFORE are used with -ROLLBACK -BACKWARD, the qualifier corresponding to an earlier database state or point in time prevails. For example, -BEFORE prevails when the update corresponding to the sequence number obtained through the -FETCHRESYNC command happened at a later time relative -BEFORE and vice versa. </p><a id="d0e20056" class="indexterm"/><pre class="programlisting">-[NO]LOO[KBACK_LIMIT][=lookback-option-list]</pre><p>Specifies how far JOURNAL -RECOVER -BACKWARD processes past the turnaround point (the explicit or implicit point in journal file up to which -RECOVER proceeds backward before it reverses and processes database in forward direction), while attempting to resolve open transaction fences. This option is applicable only for transactions fenced with ZTSTART and ZTCOMMIT. For transaction fenced with TSTART and TCOMMIT, -RECOVER always resolves open transaction fences.</p><a id="d0e20065" class="indexterm"/><p>-LOOKBACK_LIMIT=options, include time and transaction counts. -NOLOOKBACK_LIMIT specifies that JOURNAL -BACKWARD can process all the way to the beginning of the journal file, if necessary, to resolve open transaction fences. -LOOKBACK_LIMIT= is incompatible with -FORWARD.</p><p>When -FENCES=NONE, JOURNAL processing ignores -LOOKBACK_LIMIT. </p><p>The -LOOKBACK_LIMIT options are:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="code">TIME=<em class="replaceable"><code>time</code></em></code></p><p>This limits LOOKBACK by a specified amount of delta or absolute journal time.</p></li><li class="listitem"><p><code class="code">OPERATIONS=<em class="replaceable"><code>integer</code></em></code></p><p>This limits LOOKBACK to the specified number of database transactions.</p></li></ul></div><p>The TIME LOOKBACK option name and its value must be enclosed in quotes ("").</p><p/><p>For example:</p><p><code class="code">-lookback=\"time=0 00:00:30\"</code></p><p>When -LOOKBACK_LIMIT= specifies both options, they must be separated by a comma (,), for example:</p><p><code class="code">-lookback=\"time=0 00:00:30,operations=35\"</code></p><p/><p>When -LOOKBACK_LIMIT= specifies both options, the first limit reached terminates the LOOKBACK.</p><p>By default, MUPIP JOURNAL uses -LOOKBACK_LIMIT=\"TIME=0 00:05\" providing five minutes of journal time prior to -SINCE= to resolve open fences. A -LOOKBACK_LIMIT that specifies a limit much before the beginning of the earliest journal file acts as if -NOLOOKBACK_LIMIT was specified.</p><a id="d0e20111" class="indexterm"/><pre class="programlisting">-SI[NCE]=time</pre><p>The -SINCE time qualifier applies to MUPIP JOURNAL -BACKWARD. The -SINCE qualifier specifies how far back in time MUPIP JOURNAL should at least process (from the end of the journal file), before starting the forward processing. The actual turn-around point for -RECOVER and -ROLLBACK in each database region is an epoch in the journal files before or at the -SINCE time, but not after it.</p><p>The time specified references time stamps in the journal files. If there are open fenced transactions when JOURNAL -BACKWARD locates the -SINCE= time, it continues processing backward to resolve them, unless the command also specifies -FENCES=NONE. If -SINCE= time exceeds the last time recorded in the journal files or, follows any -BEFORE=time, JOURNAL processing effectively ignores the qualifier, and displays a warning message.</p><p>By default, -SINCE= time is 0 00:00:00 which denotes the time at the end of the journal file (the time when the last journal record was updated). </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="jnl_sequence"/><span>Journal Sequence Number</span> Qualifiers</h3></div></div></div><p>The following qualifier is compatible only with -EXTRACT.</p><a id="d0e20132" class="indexterm"/><a id="d0e20137" class="indexterm"/><pre class="programlisting">-S[EQNO]=&lt;sequence_number_list&gt;</pre><p>Specifies a list of sequence numbers to include or exclude in the journal extract. &lt;sequence_number_list&gt; is a comma separated list of sequence number(s) in decimal form. When a sequence number has a (~) prefix, -SEQNO excludes it from the journal extract. For replicated regions, EXTRACT -SEQNO uses replication sequence numbers, which may select records from multiple regions. For unreplicated regions, EXTRACT uses journal sequence numbers, but specifying sequence number selection with more than one regions produces a JNLEXTRCTSEQNO error. When the sequence number list contains a sequence number involved in a TP transaction, EXTRACT reports it in a broken transaction file when the result does not contain all regions, which is commonly the case without replication, and may be the case with replication when not all regions are available to the utility.</p><p>Example:</p><p><code class="code">$mupip journal -extract -seqno="~1,2,3,4,~5" -forward -broken=trans.broken -lost=trans.lost "*"</code></p><p>This example produces a journal extract containing journal sequence numbers 2,3,and 4. 1 and 5 are not part of the journal extract as they have the (~) prefix. </p><p>The following qualifiers are compatible only with -ROLLBACK.</p><a id="d0e20155" class="indexterm"/><a id="d0e20160" class="indexterm"/><pre class="programlisting">-FET[CHRESYNC]</pre><p>For more information on -FETCHRESYNC, refer to <a class="xref" href="replication.html#rollback_db_after_sys_fail" title="Rolling Back a Replicated Database">a??<span>Rolling Back a Replicated Database </span>a??</a>. </p><pre class="programlisting">-RES[YNC]=&lt;journal sequence number&gt;</pre><p>For more information on -RESYNC, refer to <a class="xref" href="replication.html#rollback_db_after_sys_fail" title="Rolling Back a Replicated Database">a??<span>Rolling Back a Replicated Database </span>a??</a>. </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="jnl_ctrl_quals"/><span>Journal </span>Control Qualifiers</h3></div></div></div><p>The following qualifiers control journal processing:</p><a id="d0e20185" class="indexterm"/><pre class="programlisting">-[NO]AP[PLY_AFTER_IMAGE]</pre><p>Specifies that after image records (AIMG) be applied to the database as part of forward processing of -RECOVERY or -ROLLBACK. AIMG are "snapshots" of the database updates captured by GT.M immediately after the change caused by a DSE update. By default, during forward phase of backward recovery or rollback, AIMG records are applied to the database.</p><p>By default, -RECOVER -FORWARD does not apply AIMG record into the database. -APPLY_AFTER_IMAGE is compatible with -RECOVER, or -ROLLBACK action qualifiers only.</p><a id="d0e20196" class="indexterm"/><pre class="programlisting">-[NO]BR[OKENTRANS]=&lt;extract file&gt;</pre><p>-[NO]BROKENTRANS is an optional qualifier for -ROLLBACK, -RECOVER and -EXTRACT. NOBROKENTRANS suppresses the generation of a broken transaction file. Otherwise, if the command does not specify a file name and MUPIP finds any broken transactions, MUPIP JOURNAL creates a broken transaction file using the name of the current journal file being processed with a .broken extension.</p><p>Note that, if selection qualifiers are specified, the broken transaction determination (and therefore lost transaction determination as well) is done based on the journal file that is filtered by the selection qualifiers. This means that a transaction's journal records may be considered complete or broken or lost, depending on the nature of the selection qualifiers. Using -FENCES=NONE along with the selection qualifiers will result in every journal record to be considered complete and hence prevent broken or lost transaction processing.</p><a id="d0e20207" class="indexterm"/><pre class="programlisting">-[NO]CHA[IN]</pre><a id="d0e20214" class="indexterm"/><p>-CHAIN allows JOURNAL processing to include previous generations of journal files with -FORWARD. If JOURNAL -RECOVER needs to process previous generation journal file(s) and -NOCHAIN is specified, MUPIP JOURNAL exits with an error.</p><p>-CHAIN is the default. </p><a id="d0e20223" class="indexterm"/><pre class="programlisting">-[NO]CHE[CKTN]</pre><p>-CHECKTN specifies that JOURNAL -FORWARD must verify for each region that the begining transaction number of the earliest journal file to be processed for that region is same as the current transaction in the database file and that the ending transaction number of every journal file is equal to the begining transaction number of the next generation journal file for a given region. By default, -FORWARD uses -CHECKTN.</p><p>-NOCHECKTN forces forward recovery by overriding inbuilt mechanisms for checking transaction integrity. MUPIP performs -VERIFY when -NOCHECKTN is specified. Use -NOCHECKTN with caution because it may lead to integrity issues in the recovered database and journal files. </p><p>ROLLBACK -FORWARD accepts only -CHECKTN, which is the default, but does not accept -NOCHECKTN.</p><p>-CHECKTN is incompatible with -BACKWARD. </p><a id="d0e20238" class="indexterm"/><pre class="programlisting">-[CO]RRUPTDB</pre><p>Extracts journal records into a single file even if the database is corrupt or missing. Always specify a journal file name when you are using -CORRUPTDB.  -CORRUPTDB does not recognize the wildcard character "*" for journal file name and is incompatible with -FENCES, -LOST, and -BROKEN qualifiers.</p><a id="d0e20247" class="indexterm"/><a id="d0e20252" class="indexterm"/><pre class="programlisting">-[NO]ER[ROR_LIMIT][=integer]</pre><p>Specifies the number of errors that MUPIP JOURNAL processing accepts. When the number of errors exceeds the -ERROR_LIMIT, the -INTERACTIVE qualifier determines whether JOURNAL processing halts or defers to the operator. -NOERROR_LIMIT prevents MUPIP JOURNAL from stopping because of errors. Journal processing continues until it reaches the end of the journal file, regardless of the number of errors. </p><p>Note that, -NOERROR_LIMIT is not the same as -ERROR_LIMIT=0.</p><p>By default, MUPIP JOURNAL uses -ERROR_LIMIT=0, causing the first error to initiate the appropriate error action. In case of a crash there could be some incomplete journal records at the end of a journal file. MUPIP JOURNAL does not consider these as errors. In addition, fenced transactions that are broken are not considered as errors.</p><p>During the forward phase of recovery, if journal processing finds a broken transaction, all the logical records processed afterwards are considered suspect. If a complete transaction is found after any broken transactions, MUPIP JOURNAL -RECOVER increments the error count and, if it is less than the error limit, it is applied to the database. Otherwise, it is treated as a lost transaction and extracted. If a complete transaction is found after any broken transactions, MUPIP JOURNAL -ROLLBACK treats it as a lost transaction and extracts it irrespective of the error limit.</p><p>If MUPIP JOURNAL needs to increment error count during its processing, a warning message is issued for every error encountered except in the following cases when the error count is incremented but no warning message is displayed:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>When a complete transaction is found after a broken transaction</p></li><li class="listitem"><p>When -EXTRACT -FULL encounters errors</p></li></ul></div><p>If MUPIP JOURNAL completes successfully with a non-zero value of error count, the return status is not a success, but a warning.</p><a id="d0e20278" class="indexterm"/><pre class="programlisting">-FE[NCES][=fence-option]</pre><p>Specifies how JOURNAL processes fenced transactions. Fenced transactions are logical transactions made up of database updates preceded by a TSTART command followed by a TCOMMIT command. All updates between a TSTART and a TCOMMIT are designed to occur together so that after journal recovery the database contains either all the updates corresponding to a fenced transaction, or none of them.</p><p>The argument values for -FENCES option for MUPIP -RECOVER/-ROLLBACK are not case-sensitive. </p><a id="d0e20289" class="indexterm"/><a id="d0e20294" class="indexterm"/><a id="d0e20297" class="indexterm"/><a id="d0e20300" class="indexterm"/><p>The fence options are:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="code">NONE</code></p><p>This causes MUPIP JOURNAL -RECOVER to apply all individual updates as if transaction fences did not exist. Note that, this means journal processing treats a SET/KILL within a TP transaction as if it was an unfenced SET/KILL. -FENCES=NONE is not permitted for MUPIP JOURNAL -ROLLBACK.</p></li><li class="listitem"><p><code class="code">ALWAYS</code></p><p>This causes MUPIP JOURNAL -RECOVER to treat any unfenced or improperly fenced updates as broken transactions. FENCES=ALWAYS is not permitted for MUPIP JOURNAL -ROLLBACK.</p></li><li class="listitem"><p><code class="code">PROCESS</code></p><p>This causes MUPIP JOURNAL to accept unfenced database updates, and also to observe fences when they appear, generating broken transaction files in the case of a TSTART with no corresponding TCOMMIT. It also generates broken transactions if a multi-region transaction with TSTART and TCOMMIT expects N regions to participate, but the number of TSTART/TCOMMIT pairs found is less than N. -ROLLBACK accepts -FENCES=PROCESS, which is the default.</p></li></ul></div><a id="d0e20324" class="indexterm"/><p>By default, MUPIP JOURNAL uses -FENCES=PROCESS.</p><pre class="programlisting">-FU[LL]</pre><p>-FULL when used with -EXTRACT, specifies that all journal records be extracted. A journal file's contents can be rolled back in case of backward recovery or rollback<span>(refer to <a class="xref" href="mup_journal.html#recover" title="-RECover">a??-RECover
a??</a> or <a class="xref" href="mup_journal.html#rollback" title="-ROLLBACK [{-ON[LINE]|-NOO[NLINE]}]">a??-ROLLBACK <span>[{-ON[LINE]|-NOO[NLINE]}]</span>

a??</a> for more details)</span> in order to keep the database and journal in sync. This is achieved not by truncating the contents of the journal file but instead setting a field in the journal file header, which shows up as "Prev Recovery End of Data" in a MUPIP JOURNAL -SHOW=HEADER output, to indicate the end of the journal file before rolling back and setting another field in the file header to indicate the new end of the journal file (this field shows up as "End of Data" in a MUPIP JOURNAL -SHOW=HEADER output). Once a journal file's contents are rolled back, all future MUPIP JOURNAL commands (including -EXTRACT) operate on the rolled back journal file only. But if -FULL is specified along with -EXTRACT, MUPIP extracts the entire journal file contents (including those records that were rolled back). This qualifier is to be used only as a diagnostic tool and not in normal operation.</p><p>-FULL qualifier is compatible with -EXTRACT only.</p><a id="d0e20344" class="indexterm"/><pre class="programlisting">-[NO]IN[TERACTIVE]</pre><p>Specifies whether, for each error over the -ERROR_LIMIT, JOURNAL processing prompts the invoking operator for a response to control continuation of processing. If the operator responds that processing should not continue, the MUPIP JOURNAL command terminates.</p><p>-NOINTERACTIVE terminates the journal processing as soon as the MUPIP JOURNAL command generates the number of errors specified in -ERROR_LIMIT.</p><p>This qualifier applies when the MUPIP command is entered from a terminal. The default is -INTERACTIVE.</p><a id="d0e20357" class="indexterm"/><a id="d0e20362" class="indexterm"/><pre class="programlisting">-[NO]LOST[TRANS]=&lt;extract file&gt;</pre><p>-[NO]LOSTTRANS is an optional qualifier for -RECOVER, -ROLLBACK and -EXTRACT. NOLOSTTANS suppresses the generation of a broken transaction file. Otherwise, if the command does not specify a file name and MUPIP finds any lost transactions, MUPIP JOURNAL creates a lost transaction file using the name of the current journal file being processed with a .lost extension.</p><p>Journal processing treats any complete transactions after a broken transaction as a lost transaction, and writes such transactions into the lost transaction file. -RECOVER might consider it as good transaction and apply it to the database, if -ERROR_LIMIT qualifier allows it to do so.</p><p>Note that, if selection qualifiers are specified, journal processing does the broken transaction determination (and therefore lost transaction determination as well) based on the journal file that is filtered by the selection qualifiers. This means that a transaction's journal records may be considered complete or broken or lost, depending on the nature of the selection qualifiers. Using -FENCES=NONE along with the selection qualifiers results in every journal record being considered complete and hence preventing broken or lost transaction processing.</p><p>In the case of a replicated database, lost transaction can have an additional cause. If failover occurs (that is, the originating Source Server, A, fails and the replicating Source Server, B, assumes the originating instance's role), some transactions committed to A's database may not be reflected in B's database. Before the former originating instance becomes the new replicating instance, these transactions must be rolled back. These transactions are known as "lost transactions". Note that these are complete transactions and different from a broken transaction. MUPIP JOURNAL -ROLLBACK stores extracted lost transactions in the extract-file specified by this qualifier. The starting point for the search for lost transactions is the journal sequence number obtained from the originating Source Server in the -FETCHRESYNC operation.</p><a id="d0e20377" class="indexterm"/><pre class="programlisting">-RED[IRECT]=file-pair-list</pre><p>Replays the journal file to a database different than the one for which it was created. Use -REDIRECT to create or maintain databases for training or testing.</p><p/><p>This qualifier applies to -RECOVER action and -FORWARD direction qualifier only. JOURNAL rejects -REDIRECT unless it appears with -RECOVER.</p><p>The file-pair-list consists of one or more pairs of file-names enclosed in parentheses () and separated by commas (,). The pairs are separated by an equal sign in the form:</p><p><code class="code">old-file-name=new-file-name</code></p><p>where the old file-name identifies the original database file and the new file-specification file-name identifies the target of the -RECOVER. The old-file-specification can always be determined using -SHOW.</p><p/><p>By default, JOURNAL directs -RECOVER to the database file from which the journal was made. -REDIRECT is not compatible with -ROLLBACK.</p><p/><p>Example:</p><pre class="programlisting">$ mupip journal -recover -forward -redirect="bgdbb.dat=test.dat" bgdbb.mjl</pre><p>This JOURNAL command does a forward recovery that -REDIRECTs the updates in bgdbb.mjl from bgdbb.dat to test.dat.</p><a id="d0e20407" class="indexterm"/><pre class="programlisting">-VERB[OSE]</pre><p>Prints verbose output in the course of processing. It is not negatable and it is set to OFF by default.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="jnl_select"/><span>Journal </span>Selection Qualifiers</h3></div></div></div><p>Journal Selection Qualifiers are compatible with -EXTRACT and -SHOW operations only. This is because most applications are not constructed to safely remove a subset of transactions based on criteria that is exterior to the application design. To exclude transactions from a recovery based on some selection criteria, the methodology is to -EXTRACT the records, and then reapply them through application logic rather than by journal recovery. This approach permits the application logic to appropriately handle any interactions between the removed and the retained transactions. Note that, selection qualifiers might result in only a subset of a fenced transaction's journal records to be extracted (for example, a TSTART record may not be extracted because the first update in that transaction was filtered out by a selection qualifier, while the corresponding TCOMMIT record may get extracted). This can cause a fenced transaction to seem broken when actually it is not.</p><p>The following qualifiers control the selection criteria for journal processing. </p><p>Except for -TRANSACTION, all qualifiers allow for specifying a comma (,) seperated list of values.</p><a id="d0e20428" class="indexterm"/><pre class="programlisting">-G[LOBAL]=global-list</pre><p>Specifies globals for MUPIP JOURNAL to include or exclude from processing. You might find this qualifier useful for extracting and analyzing specific data.</p><p>The global-list contains one or more global-names (without subscripts) preceded by a caret symbol (^). To include more than one global use one of the following syntaxes.</p><a id="d0e20439" class="indexterm"/><pre class="programlisting">$ mupip journal -forward -extract -global="^A*,^C" mumps.mjl </pre><p>or </p><pre class="programlisting">$ mupip journal -forward -extract -global="(^A*,^C)" mumps.mjl </pre><p>The names may include the asterisk (*) wildcard. That is, -GLOBAL="^A*" selects all global variables with names starting with A. The entire list or each name may optionally be preceded by a tilda sign (~), requiring JOURNAL to exclude database updates to the specified global(s). When the global-list with a MUPIP JOURNAL -GLOBAL does not start with a tilda sign (~), JOURNAL processes only the explicitly named globals. By default, JOURNAL processes all globals.</p><p>To specify subscripts, using -GLOBAL="^A(1)" results in all keys under the ^A(1) tree to be included, that is, it is equivalent to using -GLOBAL="^A(1,*)". An asterisk (*) or a percent (%) anywhere in the global specification is permitted. Percent (%) matches any character, and asterisk (*) matches any string (possibly zero length too). The asterisk (*) or percent (%) specification can be used for -USER qualifier too.</p><p>Example:</p><p>To extract all ^GBL* except for ^GBLTMP:</p><pre class="programlisting">$ mupip journal -extract -global="^GBL*,~^GBLTMP" -forward mumps.mjl</pre><p>To extract all ^GBL except for ^GBL(1,"TMP"):</p><pre class="programlisting">$ mupip journal -extract -global=\"^GBL,~^GBL\(1,\"\"TMP\"\"\)\" -forward mumps.mjl</pre><p>The backslash (\) delimiter characters are required in UNIX to pass MUPIP the double quotes (") of the string subscript.</p><p>An INVGLOBALQUAL error is issued along with the error offset in the command line, whenever a parse error of the global qualifier string is encountered.</p><a id="d0e20469" class="indexterm"/><pre class="programlisting">-GV[PATFILE]=/path/to/pattern-file</pre><p>Specifies the location of a pattern file  containing a list of patterns for all types of SET journal records that MUPIP JOURNAL -EXTRACT  should include or exclude from processing. Use this qualifier to restrict the output of a journal extract by global nodes value (that is, by all types of SET records). </p><p>The following details the syntax of the pattern file, and examples of how MUPIP JOURNAL -EXTRACT responds:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>When a pattern entry starts with a tilda sign (~), -GVPATFILE excludes the matching global node values from the JOURNAL EXTRACT file. For example, ~(not this value) excludes all globals that exactly match " not this value".</p></li><li class="listitem"><p>When the pattern does not start a tilda sign (~) or contain an asterisk (*), MUPIP JOURNAL -EXTRACT reports only those global node values that exactly match the pattern. For example: " match this value".</p></li><li class="listitem"><p>When a pattern contains an asterisk (*), MUPIP JOURNAL -EXTRACT expands it and tries to match multiple characters.</p><p>Example : "*a*b*" matches values like "ab", "..ab", "ab.. ", "a..b", "aaabbabb", and so on but does not match values like "ba", "aaa", "bbb", and so on.</p></li><li class="listitem"><p>When a pattern contains a percentage (%), MUPIP JOURNAL -EXTRACT matches it for one character. Example : "a%b%" matches values like "a1b1" but does not match values like "ab", "aabbc", and so on.</p></li><li class="listitem"><p>A pattern can be enclosed within parentheses "()" for readability.</p></li><li class="listitem"><p>When you use any of the following characters in the pattern, you can escape them by preceding the character with "\". Example : "a\**b" matches values like "a*..b" but not "a..b".:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>"(" and "~" at the beginning. </p></li><li class="listitem"><p>")" at the end.</p></li><li class="listitem"><p>"\", "*", and "%" occurring anywhere within the pattern.</p></li></ul></div></li><li class="listitem"><p>In UTF-8 mode, the contents of the pattern file can include Unicode characters.</p></li><li class="listitem"><p>If a pattern file does not exist, MUPIP JOURNAL -EXTRACT produces the FILEOPENFAIL error and returns a non-zero exit code to the shell.</p></li></ul></div><p>You can specify multi-line entries in a pattern file.With multiple lines, MUPIP JOURNAL EXTRACT produces those SET records that match any one of the pattern lines with the exception of exclusion patterns (those starting ~) which take precedence over other non-exclusion patterns.</p><p>Here are a few examples of the pattern file, and how MUPIP JOURNAL -EXTRACT matches the pattern file values:</p><pre class="programlisting">&gt; cat matchA_notAA.txt
~(*AA*)
*A*
&gt; $gtm_dist/mupip journal -extract -gvpatfile=matchA_notAA.txt -forward "*"
Extracts global values that contain a single "A", but not "AA".
&gt; cat ending22.txt
*notmatching*
*22
&gt; $gtm_dist/mupip journal -extract -gvpatfile=ending22.txt -forward "*"
Extracts global values ending with "22", even when there are no globals containing "notmatching".
&gt; cat startswithsplchars.txt
\**
\~*
&gt; $gtm_dist/mupip journal -extract -gvpatfile=matchA_notAA.txt -forward "*"
Extracts global values that start with a "*" or a "~". 
</pre><a id="d0e20523" class="indexterm"/><pre class="programlisting">-ID=pid-list</pre><p>Specifies that JOURNAL processing include or exclude database updates generated by one or more processes, identified by process identification numbers (PIDs). The entire list or each PID may optionally be preceded by a tilda sign (~), requiring JOURNAL to exclude database updates initiated by the specified PID. You may use this qualifier for trouble shooting or analyzing data.</p><p>By default, JOURNAL processes database updates regardless of the PID that initiated it.</p><a id="d0e20534" class="indexterm"/><pre class="programlisting">-T[RANSACTION]=transaction-type</pre><p>Specifies transaction-types for JOURNAL to include or exclude from processing. For example, you may use this qualifier to report only on KILL operations to locate possible causes for missing data.</p><p>The transaction-types are SET and KILL and can be negated. These types correspond to the M commands of the same names. When the transaction-type with a JOURNAL -TRANSACTION is not negated, JOURNAL processes only transactions of the type named (for example, -TRANSACTION=KILL), whereas if it is negated, JOURNAL does not process transactions of the type named (for exmaple, -TRANSACTION=NOKILL).</p><p>By default, JOURNAL processes transactions, regardless of its type. </p><a id="d0e20547" class="indexterm"/><pre class="programlisting">-U[SER]=user-list</pre><p>Specifies that MUPIP JOURNAL processing include or exclude database updates generated by one or more users. You can use this qualifier to audit the actions of a particular user. The user-list contains names of one or more users. Indicate multiple users by separating the names with commas (,). The names may include the wildcard asterisk (*). The entire list or each name may optionally be preceded by a minus sign (-) tilda sign (~), requiring JOURNAL to exclude database updates initiated by the specified user(s). When the user-list with a JOURNAL -USER does not start with a tilda sign (~), JOURNAL processes only those database updates, which are generated by explicitly named users. The asterisk (*) or percent (%) specification can be used for -USER qualifier. Percent (%) matches any character, and asterisk (*) matches any string (possibly zero length too).</p><p>By default, JOURNAL processes database updates regardless of the user who initiated them.</p></div></div><script type="text/javascript" src="../common/main.js"><!----></script><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mup_jnl_set.html">Prev</a>A </td><td width="20%" align="center"><a accesskey="u" href="journaling.html">Up</a></td><td width="40%" align="right">A <a accesskey="n" href="jnl_ext.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">A </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">A </td></tr></table></div></div><div><div id="leftnavigation" style="padding-top:3px; background-color:white;"><div id="tabs"><ul><li><a href="mup_journal.html#treeDiv"><em>Contents</em></a></li><li><a href="mup_journal.html#searchDiv"><em>Search</em></a></li></ul><div id="treeDiv"><img src="../common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none"><ul id="tree" class="filetree"><li><span class="file"><a href="preface.html">About This Manual </a></span><ul><li><span class="file"><a href="pr01s01.html">Intended Audience</a></span></li><li><span class="file"><a href="pr01s02.html">Purpose of the Manual</a></span></li><li><span class="file"><a href="pr01s03.html">How to Use This Manual</a></span></li><li><span class="file"><a href="pr01s04.html">Overview</a></span></li><li><span class="file"><a href="pr01s05.html">Conventions Used in This Manual</a></span></li></ul></li><li><span class="file"><a href="ch01.html">About GT.M</a></span><ul><li><span class="file"><a href="ch01s01.html">Hardware/Operating System Environment</a></span></li><li><span class="file"><a href="ch01s02.html">Installation</a></span></li><li><span class="file"><a href="ch01s03.html">Security</a></span></li><li><span class="file"><a href="ch01s04.html">Program Development Environment</a></span></li><li><span class="file"><a href="ch01s05.html">Database Subsystem</a></span></li><li><span class="file"><a href="ch01s06.html">GT.M Utility Programs</a></span><ul><li><span class="file"><a href="ch01s06.html#util_mup">MUPIP</a></span></li><li><span class="file"><a href="ch01s06.html#lke_intr">LKE</a></span></li><li><span class="file"><a href="ch01s06.html#dse_intr">DSE </a></span></li><li><span class="file"><a href="ch01s06.html#comm_quals_utils">Command Qualifiers</a></span></li></ul></li><li><span class="file"><a href="ch01s07.html">Database Integrity</a></span></li><li><span class="file"><a href="ch01s08.html">Interprocess Communication</a></span></li></ul></li><li><span class="file"><a href="ch02.html">Installing GT.M</a></span><ul><li><span class="file"><a href="ch02s01.html">Obtaining GT.M Distribution Media</a></span></li><li><span class="file"><a href="ch02s02.html">Before you begin</a></span></li><li><span class="file"><a href="ch02s03.html">Installation Procedure</a></span><ul><li><span class="file"><a href="ch02s03.html#shr_lib_plu">Compiling the Reference Implementation Plugin </a></span><ul><li><span class="file"><a href="ch02s03.html#recompile_ref_impl">Instructions</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch02s04.html">gtminstall script
  </a></span></li></ul></li><li><span class="file"><a href="ch03.html">Basic Operations</a></span><ul><li><span class="file"><a href="ch03s01.html">GT.M Environment Setup </a></span><ul><li><span class="file"><a href="ch03s01.html#gtmprofile_script">gtmprofile </a></span></li><li><span class="file"><a href="ch03s01.html#gtmcshrc">gtmcshrc</a></span></li><li><span class="file"><a href="ch03s01.html#gtmbase">gtmbase </a></span></li><li><span class="file"><a href="ch03s01.html#gdedefaults">gdedefaults</a></span></li><li><span class="file"><a href="ch03s01.html#gtm_script">gtm </a></span></li></ul></li><li><span class="file"><a href="ch03s02.html">Environment Variables</a></span></li><li><span class="file"><a href="ch03s03.html">Configuring and operating GT.M with UnicodeA(R) support (optional) </a></span><ul><li><span class="file"><a href="ch03s03.html#m_utf8_modes">M mode and UTF-8 mode </a></span></li><li><span class="file"><a href="ch03s03.html#compile_icu_gtm">Compiling ICU </a></span></li></ul></li><li><span class="file"><a href="ch03s04.html">Starting GT.M </a></span></li><li><span class="file"><a href="ch03s05.html">Configuring huge pages for GT.M x86[-64] on Linux</a></span><ul><li><span class="file"><a href="ch03s05.html#huge_use">Using huge pages</a></span><ul><li><span class="file"><a href="ch03s05.html#using_huge_pages">Using huge pages for shared memory</a></span></li><li><span class="file"><a href="ch03s05.html#using_huge_pages_for_ppm">Using huge pages for GT.M process private memory</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch03s06.html">Configuring the Restriction facility</a></span><ul><li><span class="file"><a href="ch03s06.html#zsysfilter">ZSYSTEM and PIPE OPEN command restriction facility</a></span></li><li><span class="file"><a href="ch03s06.html#audit_principal_device">Audit Principal Device restriction facility</a></span><ul><li><span class="file"><a href="ch03s06.html#apd_logging">Logging</a></span></li></ul></li></ul></li></ul></li><li><span class="file"><a href="gdechap.html">Global Directory Editor</a></span><ul><li><span class="file"><a href="glbl_dir_intro.html">Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html">GDE Overview</a></span><ul><li><span class="file"><a href="gde_overview.html#identifygd">Identifying the Current Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html#creategd">Creating a Default Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html#map_glbl">Mapping Global Variables in a Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html#examine_def">Examining the Default Global Directory</a></span></li><li><span class="file"><a href="gde_overview.html#abbrev_gd">Global Directory Abbreviations</a></span></li><li><span class="file"><a href="gde_overview.html#custom_glbldir">Customizing a Global Directory</a></span><ul><li><span class="file"><a href="gde_overview.html#add_jrnl">Adding a Journaling Information Section</a></span></li></ul></li></ul></li><li><span class="file"><a href="using_gde.html">Using GDE</a></span><ul><li><span class="file"><a href="using_gde.html#map_guides">Guidelines for Mapping</a></span><ul><li><span class="file"><a href="using_gde.html#basic_map">Example of a Basic Mapping</a></span></li></ul></li></ul></li><li><span class="file"><a href="gdecmds.html">Global Director Editor Commands</a></span><ul><li><span class="file"><a href="gdecmds.html#specify_file_names_in_cmmd_lines">Specifying File Names in Command Lines</a></span></li><li><span class="file"><a href="gdecmds.html#fonts_conv">Font/Capitalization Conventions Used in this Chapter</a></span></li><li><span class="file"><a href="gdecmds.html#at_sign">@</a></span></li><li><span class="file"><a href="gdecmds.html#gde_add">Add</a></span><ul><li><span class="file"><a href="gdecmds.html#add_name">-Name</a></span></li><li><span class="file"><a href="gdecmds.html#add_seg">-Segment</a></span></li><li><span class="file"><a href="gdecmds.html#add_reg">-Region</a></span></li><li><span class="file"><a href="gdecmds.html#add_gbl">-Gblname</a></span></li></ul></li><li><span class="file"><a href="gdecmds.html#gde_change">Change</a></span></li><li><span class="file"><a href="gdecmds.html#gde_delete">Delete</a></span></li><li><span class="file"><a href="gdecmds.html#gde_exit">Exit</a></span></li><li><span class="file"><a href="gdecmds.html#gde_help">Help</a></span></li><li><span class="file"><a href="gdecmds.html#gde_locks">LOCks</a></span></li><li><span class="file"><a href="gdecmds.html#gde_log">LOG</a></span></li><li><span class="file"><a href="gdecmds.html#gde_quit">Quit</a></span></li><li><span class="file"><a href="gdecmds.html#gde_rename">Rename</a></span></li><li><span class="file"><a href="gdecmds.html#setgd">SEtgd</a></span></li><li><span class="file"><a href="gdecmds.html#gde_show">SHow</a></span></li><li><span class="file"><a href="gdecmds.html#gde_template">Template </a></span></li><li><span class="file"><a href="gdecmds.html#gde_verify">Verify</a></span></li></ul></li><li><span class="file"><a href="nameregseg.html">Name, Region, and Segment Qualifiers</a></span><ul><li><span class="file"><a href="nameregseg.html#name_qualifiers">Name Qualifiers</a></span></li><li><span class="file"><a href="nameregseg.html#region_qual">Region Qualifiers</a></span></li><li><span class="file"><a href="nameregseg.html#segment_quals">Segment Qualifiers</a></span></li><li><span class="file"><a href="nameregseg.html#gblname_qual">Gblname Qualifiers</a></span></li><li><span class="file"><a href="nameregseg.html#instance_qual">Instance Qualifier</a></span></li></ul></li><li><span class="file"><a href="gde_cmmd_summ.html">GDE Command Summary</a></span><ul><li><span class="file"><a href="gde_cmmd_summ.html#qual_summ">GDE Command Qualifier Summary</a></span></li></ul></li></ul></li><li><span class="file"><a href="mupipchap.html">General Database Management</a></span><ul><li><span class="file"><a href="mup_intro.html">Introduction</a></span><ul><li><span class="file"><a href="mup_intro.html#mup_operations">Operations - Standalone and Concurrent Access</a></span></li><li><span class="file"><a href="mup_intro.html#mupip_main">MUPIP</a></span></li></ul></li><li><span class="file"><a href="gdm.html">Commands and Qualifiers</a></span><ul><li><span class="file"><a href="gdm.html#mup_back">BACKUP</a></span><ul><li><span class="file"><a href="gdm.html#backup_bkupdbjnl">-BKupdbjnl</a></span></li><li><span class="file"><a href="gdm.html#backup_bytestream">-Bytestream</a></span></li><li><span class="file"><a href="gdm.html#backup_database">-Database</a></span></li><li><span class="file"><a href="gdm.html#backup_nettimeout">-NETtimeout</a></span></li><li><span class="file"><a href="gdm.html#mup_newjnlfiles">-NEWJNLFILES</a></span></li><li><span class="file"><a href="gdm.html#backup_online">-Online</a></span></li><li><span class="file"><a href="gdm.html#backup_record">-Record</a></span></li><li><span class="file"><a href="gdm.html#backup_replace">-REPLace</a></span></li><li><span class="file"><a href="gdm.html#backup_replinstance">-REPLInstance </a></span></li><li><span class="file"><a href="gdm.html#backup_since">-Since</a></span></li><li><span class="file"><a href="gdm.html#backup_transaction">-Transaction</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_backup">Examples for MUPIP BACKUP</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_create">CREATE</a></span><ul><li><span class="file"><a href="gdm.html#create_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_create">Examples for MUPIP CREATE</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_downgrade">DOWNGRADE</a></span><ul><li><span class="file"><a href="gdm.html#down_ver">-VERSION={V4|V5|V63000A}</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_downgrade">Examples for MUPIP DOWNGRADE</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_dumpfhead">DUMPFHEAD</a></span><ul><li><span class="file"><a href="gdm.html#mup_dumpfhead_file">-FILE=file</a></span></li><li><span class="file"><a href="gdm.html#mup_dumpfhead_region">-REGION=region</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_dumpfhead">Examples for MUPIP DUMPFHEAD</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_endiancvt">ENDIANCVT </a></span><ul><li><span class="file"><a href="gdm.html#endiancvt_override">-OVerride</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_endiancvt">Examples for MUPIP ENDIANCVT</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_exit">EXIT</a></span></li><li><span class="file"><a href="gdm.html#mup_extend">EXTEND</a></span><ul><li><span class="file"><a href="gdm.html#extend_blocks">-Blocks</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_extend">Examples for MUPIP EXTEND</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_extract">EXTRACT</a></span><ul><li><span class="file"><a href="gdm.html#extract_format">-FOrmat</a></span></li><li><span class="file"><a href="gdm.html#extract_freeze">-FReeze</a></span></li><li><span class="file"><a href="gdm.html#extract_label">-LAbel</a></span></li><li><span class="file"><a href="gdm.html#extract_log">-LOg</a></span></li><li><span class="file"><a href="gdm.html#extract_null_iv">-Null_iv</a></span></li><li><span class="file"><a href="gdm.html#extract_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#extract_select">-Select</a></span></li><li><span class="file"><a href="gdm.html#extract_stdout">-STdout</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_extract">Examples for MUPIP EXTRACT</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_freeze">FREEZE
</a></span><ul><li><span class="file"><a href="gdm.html#mup_freeze_off">-OFf</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_on">-ON</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_autorelease">-[NO]A[UTORELEASE</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_online">-ONLine</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_override">-OVerride</a></span></li><li><span class="file"><a href="gdm.html#mup_freeze_record">-Record</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_freeze">Examples for MUPIP FREEZE</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_ftok">FTOK
</a></span><ul><li><span class="file"><a href="gdm.html#ftok_db">-DB</a></span></li><li><span class="file"><a href="gdm.html#ftok_jnlpool">-JNLPOOL</a></span></li><li><span class="file"><a href="gdm.html#ftok_recvpool">-RECVPOOL</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_hash">HASH</a></span></li><li><span class="file"><a href="gdm.html#mup_integ">INTEG
</a></span><ul><li><span class="file"><a href="gdm.html#integ_adjacency">-ADjacency</a></span></li><li><span class="file"><a href="gdm.html#integ_block">-BLock</a></span></li><li><span class="file"><a href="gdm.html#integ_brief">-BRief</a></span></li><li><span class="file"><a href="gdm.html#integ_fast">-FAst</a></span></li><li><span class="file"><a href="gdm.html#integ_file">-FIle</a></span></li><li><span class="file"><a href="gdm.html#integ_full">-FUll</a></span></li><li><span class="file"><a href="gdm.html#integ_keyranges">-Keyranges</a></span></li><li><span class="file"><a href="gdm.html#integ_map">-MAP</a></span></li><li><span class="file"><a href="gdm.html#integ_maxkeysize">-MAXkeysize</a></span></li><li><span class="file"><a href="gdm.html#integ_online">-Online </a></span></li><li><span class="file"><a href="gdm.html#integ_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#integ_subscript">-Subscript</a></span></li><li><span class="file"><a href="gdm.html#integ_stats">-Stats</a></span></li><li><span class="file"><a href="gdm.html#tn_reset">-TN_reset</a></span></li><li><span class="file"><a href="gdm.html#integ_transaction">-TRansaction</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_integ">Examples for MUPIP INTEG</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_intrpt">INTRPT
</a></span></li><li><span class="file"><a href="gdm.html#mup_journal">JOURNAL</a></span></li><li><span class="file"><a href="gdm.html#mup_load">LOAD</a></span><ul><li><span class="file"><a href="gdm.html#load_format">-FOrmat</a></span></li><li><span class="file"><a href="gdm.html#load_begin">-BEgin</a></span></li><li><span class="file"><a href="gdm.html#load_end">-End</a></span></li><li><span class="file"><a href="gdm.html#load_fillfactor">-FIll_factor</a></span></li><li><span class="file"><a href="gdm.html#load_onerror">-Onerror</a></span></li><li><span class="file"><a href="gdm.html#load_stdin">-Stdin
    </a></span></li><li><span class="file"><a href="gdm.html#examples_mup_load">Examples for MUPIP LOAD</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_rctldump">RCTLDUMP</a></span></li><li><span class="file"><a href="gdm.html#mup_reorg">REORG
</a></span><ul><li><span class="file"><a href="gdm.html#reorg_downgrade">-Downgrade</a></span></li><li><span class="file"><a href="gdm.html#reorg_encrypt">-Encrypt</a></span></li><li><span class="file"><a href="gdm.html#reorg_exclude">-Exclude</a></span></li><li><span class="file"><a href="gdm.html#reorg_fill_factor">-Fill_factor </a></span></li><li><span class="file"><a href="gdm.html#reorg_index_fill_factor">-Index_fill_factor</a></span></li><li><span class="file"><a href="gdm.html#reorg_keep">-Keep</a></span></li><li><span class="file"><a href="gdm.html#reorg_nocoalesce">-NOCOalesce</a></span></li><li><span class="file"><a href="gdm.html#reorg_nosplit">-NOSPlit</a></span></li><li><span class="file"><a href="gdm.html#reorg_noswap">-NOSWap</a></span></li><li><span class="file"><a href="gdm.html#reorg_resume">-Resume</a></span></li><li><span class="file"><a href="gdm.html#reorg_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#reorg_select">-Select</a></span></li><li><span class="file"><a href="gdm.html#reorg_truncate">-Truncate</a></span></li><li><span class="file"><a href="gdm.html#reorg_upgrade">-UPgrade</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_reorg">Examples for MUPIP REORG</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_replicate_cm">REPLICATE</a></span></li><li><span class="file"><a href="gdm.html#mup_restore">RESTORE</a></span><ul><li><span class="file"><a href="gdm.html#mup_restore_extend">-Extend
</a></span></li><li><span class="file"><a href="gdm.html#examples_mup_restore">Examples for MUPIP RESTORE</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_rundown">RUNDOWN</a></span><ul><li><span class="file"><a href="gdm.html#mup_rundown_file">-File</a></span></li><li><span class="file"><a href="gdm.html#mup_rundown_override">-Override</a></span></li><li><span class="file"><a href="gdm.html#mup_rundown_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#mup_rundown_relinkctl">-Relinkctl</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_set">SET</a></span><ul><li><span class="file"><a href="gdm.html#set_file">-File</a></span></li><li><span class="file"><a href="gdm.html#set_jnlfile">-Jnlfile</a></span></li><li><span class="file"><a href="gdm.html#set_region">-Region</a></span></li><li><span class="file"><a href="gdm.html#set_replication">-REPlication</a></span></li><li><span class="file"><a href="gdm.html#set_access_method">-ACcess_method </a></span></li><li><span class="file"><a href="gdm.html#set_asyncio">-ASyncIO </a></span></li><li><span class="file"><a href="gdm.html#set_defer_time">-Defer_time </a></span></li><li><span class="file"><a href="gdm.html#set_deferallocate">-DEFER_Allocate </a></span></li><li><span class="file"><a href="gdm.html#set_epochtaper">-Epochtaper</a></span></li><li><span class="file"><a href="gdm.html#set_encryptable">-ENCRYPTAble</a></span></li><li><span class="file"><a href="gdm.html#set_encryptioncompelte">-ENCRYPTIoncomplete</a></span></li><li><span class="file"><a href="gdm.html#set_extension_count">-EXtension_count</a></span></li><li><span class="file"><a href="gdm.html#set_flush_time">-Flush_time</a></span></li><li><span class="file"><a href="gdm.html#set_global_buffers">-Global_buffers</a></span></li><li><span class="file"><a href="gdm.html#hard_spin_count">-Hard_spin_count</a></span></li><li><span class="file"><a href="gdm.html#inst_freeze_on_error">-INST_freeze_on_error</a></span></li><li><span class="file"><a href="gdm.html#set_journal">-Journal</a></span></li><li><span class="file"><a href="gdm.html#set_key_size">-Key_size </a></span></li><li><span class="file"><a href="gdm.html#set_lock_space">-Lock_space</a></span></li><li><span class="file"><a href="gdm.html#mutex_slots">-Mutex_slots</a></span></li><li><span class="file"><a href="gdm.html#null_subscripts">-Null_subscripts</a></span></li><li><span class="file"><a href="gdm.html#lck_shares_db_crit">-Lck_shares_db_crit</a></span></li><li><span class="file"><a href="gdm.html#set_qdbrundown">-Qdbrundown</a></span></li><li><span class="file"><a href="gdm.html#set_bypass_recov">-PArtial_recov_bypass</a></span></li><li><span class="file"><a href="gdm.html#set_read_only">-Read_only</a></span></li><li><span class="file"><a href="gdm.html#set_record_size">-RECord_size </a></span></li><li><span class="file"><a href="gdm.html#set_reserved_bytes">-REServed_bytes</a></span></li><li><span class="file"><a href="gdm.html#sleep_spin_count">-SLeep_spin_count
</a></span></li><li><span class="file"><a href="gdm.html#spin_sleep_mask">-Spin_sleep_mask</a></span></li><li><span class="file"><a href="gdm.html#set_stats">-STATs </a></span></li><li><span class="file"><a href="gdm.html#set_stdnullcoll">-STDnullcoll </a></span></li><li><span class="file"><a href="gdm.html#set_trigger_flush">-Trigger_flush </a></span></li><li><span class="file"><a href="gdm.html#set_version">-Version</a></span></li><li><span class="file"><a href="gdm.html#set_wait_disk">-WAit_disk </a></span></li><li><span class="file"><a href="gdm.html#set_writes_per_flush">-WRites_per_flush </a></span></li><li><span class="file"><a href="gdm.html#examples_mup_set">Examples for MUPIP SET</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_size">SIZE</a></span></li><li><span class="file"><a href="gdm.html#mup_stop">STOP
</a></span></li><li><span class="file"><a href="gdm.html#mup_trigger">TRIGGER</a></span><ul><li><span class="file"><a href="gdm.html#examples_mup_trigger">Examples for MUPIP TRIGGER</a></span></li></ul></li><li><span class="file"><a href="gdm.html#mup_gupgrade">UPGRADE
</a></span><ul><li><span class="file"><a href="gdm.html#examples_of_mup_upgrade">Example for MUPIP UPGRADE</a></span></li></ul></li></ul></li><li><span class="file"><a href="mup_summary.html">MUPIP Command Summary</a></span></li></ul></li><li><span class="file"><a href="journaling.html">GT.M Journaling</a></span><ul><li><span class="file"><a href="ch06s01.html">Introduction </a></span><ul><li><span class="file"><a href="ch06s01.html#jnl_files_intro">Journal Files </a></span></li><li><span class="file"><a href="ch06s01.html#jnl_recov_file">Recovery from a Journal File</a></span><ul><li><span class="file"><a href="ch06s01.html#for_recv">Forward Recovery</a></span></li><li><span class="file"><a href="ch06s01.html#backward_recovery_jnl">Backward Recovery </a></span></li></ul></li><li><span class="file"><a href="ch06s01.html#rolledback_files">rolled_bak* files</a></span></li><li><span class="file"><a href="ch06s01.html#jnl_fil_acc_auth">Journal Files Access Authorization</a></span></li><li><span class="file"><a href="ch06s01.html#trigg_jnl_fil">Triggers in Journal Files</a></span></li><li><span class="file"><a href="ch06s01.html#before_image_jnl">BEFORE_IMAGE Journaling  </a></span></li><li><span class="file"><a href="ch06s01.html#nobefore_image_jnl">NOBEFORE_IMAGE Journaling  </a></span></li><li><span class="file"><a href="ch06s01.html#choose_be_nobe">Choosing between BEFORE_IMAGE and NOBEFORE_IMAGE </a></span></li><li><span class="file"><a href="ch06s01.html#brk_trns_file">Broken Transaction File</a></span></li><li><span class="file"><a href="ch06s01.html#lost_transact_file">Lost Transaction File</a></span></li><li><span class="file"><a href="ch06s01.html#epoch_definition">Epoch</a></span></li><li><span class="file"><a href="ch06s01.html#jnl_benefits">Journaling Benefits </a></span></li><li><span class="file"><a href="ch06s01.html#backup_jnl_files">Backup Journal Files  </a></span></li><li><span class="file"><a href="ch06s01.html#sel_db_jnling">Select database files for Journaling  </a></span></li><li><span class="file"><a href="ch06s01.html#fencing_trans">Fencing Transactions </a></span></li><li><span class="file"><a href="ch06s01.html#to_jnl_or_no_jnl">Deciding Whether to Use Fencing </a></span><ul><li><span class="file"><a href="ch06s01.html#fencing_advantages">Fencing Advantages </a></span></li><li><span class="file"><a href="ch06s01.html#fencing_disadv">Fencing Disadvantages </a></span></li></ul></li><li><span class="file"><a href="ch06s01.html#jnl_view_keyword">VIEW Keywords</a></span></li><li><span class="file"><a href="ch06s01.html#view_funct_keywords_jnl">$VIEW() Keywords</a></span></li></ul></li><li><span class="file"><a href="mup_jnl_set.html">SET</a></span><ul><li><span class="file"><a href="mup_jnl_set.html#jnl_set_obj">SET Object Identifying Qualifiers </a></span></li><li><span class="file"><a href="mup_jnl_set.html#jnl_set_action">SET Action Qualifiers </a></span><ul><li><span class="file"><a href="mup_jnl_set.html#set_jnl_options">SET -JOURNAL Options </a></span></li></ul></li><li><span class="file"><a href="mup_jnl_set.html#jnl_examples_mup_set">Examples for MUPIP SET</a></span></li></ul></li><li id="webhelp-currentid"><span class="file"><a href="mup_journal.html">JOURNAL
</a></span><ul><li><span class="file"><a href="mup_journal.html#jnl_action">Journal Action Qualifiers</a></span><ul><li><span class="file"><a href="mup_journal.html#jnl_extractstd">-EXtract[=&lt;file-name&gt;|-stdout]</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_parallel">-PARA[LLEL][=n]</a></span></li><li><span class="file"><a href="mup_journal.html#recover">-RECover
</a></span></li><li><span class="file"><a href="mup_journal.html#rollback">-ROLLBACK [{-ON[LINE]|-NOO[NLINE]}]

</a></span></li><li><span class="file"><a href="mup_journal.html#show">-SHow=show-option-list





</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_verify">-[NO]Verify</a></span></li></ul></li><li><span class="file"><a href="mup_journal.html#jnl_direction">Journal Direction Qualifiers</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_time">Journal Time Qualifiers</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_sequence">Journal Sequence Number Qualifiers</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_ctrl_quals">Journal Control Qualifiers</a></span></li><li><span class="file"><a href="mup_journal.html#jnl_select">Journal Selection Qualifiers</a></span></li></ul></li><li><span class="file"><a href="jnl_ext.html">Journal Extract Formats</a></span></li></ul></li><li><span class="file"><a href="ch07.html">Database Replication</a></span><ul><li><span class="file"><a href="ch07s01.html">Introduction</a></span><ul><li><span class="file"><a href="ch07s01.html#lmsgroup">LMS Group</a></span></li><li><span class="file"><a href="ch07s01.html#db_trans_no">Database Transaction Number</a></span></li><li><span class="file"><a href="ch07s01.html#jnl_seq_no">Journal Sequence Number</a></span></li><li><span class="file"><a href="ch07s01.html#stm_seq_no">Stream Sequence Number</a></span></li><li><span class="file"><a href="ch07s01.html#repl_gesz">Instance Bound Global Directories </a></span></li><li><span class="file"><a href="ch07s01.html#sppl_exampls">Examples</a></span><ul><li><span class="file"><a href="ch07s01.html#simp_examp">Simple Example</a></span></li><li><span class="file"><a href="ch07s01.html#d0e22300">Ensuring Consistency with Rollback</a></span></li><li><span class="file"><a href="ch07s01.html#rollback_design">Rollback Not Desired or Required by Application Design</a></span></li><li><span class="file"><a href="ch07s01.html#two_ori_pri_fail">Two Originating Primary Failures</a></span></li><li><span class="file"><a href="ch07s01.html#replication_on_rlbk">Replication and Online Rollback</a></span></li></ul></li><li><span class="file"><a href="ch07s01.html#si_repl_limits">Limitations - SI Replication</a></span></li><li><span class="file"><a href="ch07s01.html#Replication_Architecture">Replication Architecture

</a></span><ul><li><span class="file"><a href="ch07s01.html#helper_processes">Helper Processes</a></span></li><li><span class="file"><a href="ch07s01.html#Filters">Filters</a></span></li><li><span class="file"><a href="ch07s01.html#repl_instance_file">Replication Instance File</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch07s02.html">Implementing Replication and Recovery</a></span><ul><li><span class="file"><a href="ch07s02.html#app_arch">Application Architecture</a></span><ul><li><span class="file"><a href="ch07s02.html#mssg">Implement a Message Delivery System</a></span></li></ul></li><li><span class="file"><a href="ch07s02.html#sys_req">System Requirements</a></span><ul><li><span class="file"><a href="ch07s02.html#prim_sec_stat_id">Root Primary Status Identification</a></span></li></ul></li><li><span class="file"><a href="ch07s02.html#failover_repl">Switchover

</a></span></li><li><span class="file"><a href="ch07s02.html#inst_freeze">Instance Freeze</a></span></li><li><span class="file"><a href="ch07s02.html#tls_repl">TLS/SSL Replication</a></span></li><li><span class="file"><a href="ch07s02.html#ntwrk_link">Network Link between Systems</a></span></li><li><span class="file"><a href="ch07s02.html#choosing_between">Choosing between BEFORE_IMAGE and NOBEFORE_IMAGE journaling</a></span><ul><li><span class="file"><a href="ch07s02.html#repl_recovr">Recovery</a></span></li><li><span class="file"><a href="ch07s02.html#comp_othr_recov">Comparison other than Recovery</a></span></li></ul></li><li><span class="file"><a href="ch07s02.html#repl_data_repair">Database Repair</a></span></li></ul></li><li><span class="file"><a href="ch07s03.html">Procedures</a></span><ul><li><span class="file"><a href="ch07s03.html#downld_repl_ex">Download Replication Examples</a></span><ul><li><span class="file"><a href="ch07s03.html#procenv">env</a></span></li><li><span class="file"><a href="ch07s03.html#dbcreateproc">db_create</a></span></li><li><span class="file"><a href="ch07s03.html#backupreplproc">backup_repl</a></span></li><li><span class="file"><a href="ch07s03.html#replsetupproc">repl_setup</a></span></li><li><span class="file"><a href="ch07s03.html#originstartproc">originating_start</a></span></li><li><span class="file"><a href="ch07s03.html#replstartproc">replicating_start</a></span></li><li><span class="file"><a href="ch07s03.html#supplsetupproc">suppl_setup</a></span></li><li><span class="file"><a href="ch07s03.html#replstatusproc1">repl_status</a></span></li><li><span class="file"><a href="ch07s03.html#rollbackproc11">rollback</a></span></li><li><span class="file"><a href="ch07s03.html#originstop">originating_stop</a></span></li><li><span class="file"><a href="ch07s03.html#replstopproc">replicating_stop</a></span></li><li><span class="file"><a href="ch07s03.html#replstartsuppproc">replicating_start_suppl_n</a></span></li></ul></li><li><span class="file"><a href="ch07s03.html#abrepl1">Setting up an Aa??B replication configuration with empty databases</a></span></li><li><span class="file"><a href="ch07s03.html#abcrepl1">Setting up an Aa??Ba??C replication configuration with empty databases</a></span></li><li><span class="file"><a href="ch07s03.html#aprepl">Setting up an Aa??P replication configuration with empty databases</a></span></li><li><span class="file"><a href="ch07s03.html#riborg">Replicating Instance Starts from Backup of Originating Instance (Aa??B and Aa??P )</a></span></li><li><span class="file"><a href="ch07s03.html#nrml_cutov">Switchover possibilities in an Aa??B replication configuration</a></span></li><li><span class="file"><a href="ch07s03.html#recov_bap">Switchover possibilities in a Ba??Aa??P replication configuration </a></span><ul><li><span class="file"><a href="ch07s03.html#a_req_rlbk">A requires rollback</a></span></li><li><span class="file"><a href="ch07s03.html#ap_req_rllbk">A and P require rollback</a></span></li><li><span class="file"><a href="ch07s03.html#rollbk_nt_req">Rollback not required by application design</a></span></li><li><span class="file"><a href="ch07s03.html#automatic_rollback1">Rollback automatically</a></span></li></ul></li><li><span class="file"><a href="ch07s03.html#recov_bapq">Switchover possibilities in a Ba??Aa??Pa??Q replication configuration </a></span></li><li><span class="file"><a href="ch07s03.html#gldreplupd">Changing the global directory in an Aa??B replication configuration</a></span></li><li><span class="file"><a href="ch07s03.html#roll_sft_upg">Rolling Software Upgrade</a></span><ul><li><span class="file"><a href="ch07s03.html#upg_repl_first">Upgrade the replicating instance first (Aa??B)</a></span></li><li><span class="file"><a href="ch07s03.html#upd_orig_first">Upgrade the originating instance first (Aa??B)</a></span></li></ul></li><li><span class="file"><a href="ch07s03.html#shut_inst">Shutting down an instance</a></span></li><li><span class="file"><a href="ch07s03.html#up_re_in_fi">Creating a new Replication Instance File</a></span></li><li><span class="file"><a href="ch07s03.html#tls_repl_proc">Setting up a secured TLS replication connection</a></span></li><li><span class="file"><a href="ch07s03.html#schema_chng_filters">Schema Change Filters
</a></span></li><li><span class="file"><a href="ch07s03.html#recwason">Recovering from the replication WAS_ON state </a></span></li><li><span class="file"><a href="ch07s03.html#rollbidle">Rollback data from crashed (idle) regions</a></span></li><li><span class="file"><a href="ch07s03.html#updateresyncproc1">Setting up a new replicating instance of an originating instance (Aa??B,
Pa??Q, or Aa??P)</a></span></li><li><span class="file"><a href="ch07s03.html#updateresyncproc2">Replacing the replication instance file of a replicating instance (Aa??B
and Pa??Q)</a></span></li><li><span class="file"><a href="ch07s03.html#updateresyncproc3">Replacing the replication instance file of a replicating instance (Aa??P)</a></span></li><li><span class="file"><a href="ch07s03.html#updateresyncproc4">Setting up a new replicating instance from a backup of the originating instance
(Aa??P)</a></span></li><li><span class="file"><a href="ch07s03.html#proc4">Setting up an Aa??P configuration for the first time if P is an existing instance (having
its own set of updates) </a></span></li></ul></li><li><span class="file"><a href="replication.html">Commands and Qualifiers</a></span><ul><li><span class="file"><a href="replication.html#trng_repl_on_off">Turning Replication On/Off</a></span></li><li><span class="file"><a href="replication.html#create_repl_inst">Creating the Replication Instance File</a></span></li><li><span class="file"><a href="replication.html#disp_change_repl">Displaying/Changing the attributes of Replication Instance File and Journal Pool</a></span></li><li><span class="file"><a href="replication.html#start_src_srvr">Starting the  Source Server</a></span></li><li><span class="file"><a href="replication.html#sour_srvr_shutdown">Shutting down the Source Server</a></span></li><li><span class="file"><a href="replication.html#activate_passive_src_srvr">Activating a Passive Source Server</a></span></li><li><span class="file"><a href="replication.html#deavtivate_act_src_srvr">Deactivating an Active Source Server</a></span></li><li><span class="file"><a href="replication.html#stop_src_filtr">Stopping the Source Filter</a></span></li><li><span class="file"><a href="replication.html#stop_rec_filtr">Stopping the Receiver Filter</a></span></li><li><span class="file"><a href="replication.html#freeze_src_srv_inst">Freezing an  Instance</a></span></li><li><span class="file"><a href="replication.html#chck_srvr_hlth">Checking Server Health</a></span></li><li><span class="file"><a href="replication.html#chng_log_file">Changing the Log File</a></span></li><li><span class="file"><a href="replication.html#enable_disable_dtld_log">Enabling/Disabling Detailed Logging</a></span></li><li><span class="file"><a href="replication.html#stp_src_srv">Stopping a Source Server</a></span></li><li><span class="file"><a href="replication.html#rprt_current_backlog">Reporting the Current Backlog of Journal Records</a></span></li><li><span class="file"><a href="replication.html#process_lost">Processing Lost Transactions File</a></span><ul><li><span class="file"><a href="replication.html#lost_tn_fmt">Lost Transaction File format</a></span></li></ul></li><li><span class="file"><a href="replication.html#strt_rcvr_srvr">Starting the Receiver Server

</a></span></li><li><span class="file"><a href="replication.html#strt_upd_proc">Starting the Update Process</a></span></li><li><span class="file"><a href="replication.html#stop_upd_proc">Stopping the Update Process and/or the Receiver Server</a></span></li><li><span class="file"><a href="replication.html#chk_srvr_hlth">Checking Server  Health</a></span></li><li><span class="file"><a href="replication.html#chng_log">Changing the Log File</a></span></li><li><span class="file"><a href="replication.html#enable_disable_login">Enabling/Disabling Detailed Logging</a></span></li><li><span class="file"><a href="replication.html#rep_curr_backlog">Reporting the Current Backlog of Journal Records</a></span></li><li><span class="file"><a href="replication.html#rollback_db_after_sys_fail">Rolling Back a Replicated Database </a></span></li></ul></li></ul></li><li><span class="file"><a href="lkechap.html">M Lock Utility (LKE)</a></span><ul><li><span class="file"><a href="introduction.html">Introduction</a></span><ul><li><span class="file"><a href="introduction.html#invoke_exit_LKE">To Invoke and Exit LKE</a></span></li><li><span class="file"><a href="introduction.html#establish_GD">To establish a Global Directory</a></span></li></ul></li><li><span class="file"><a href="lke_comm_quals.html">LKE Commands and Qualifiers
</a></span><ul><li><span class="file"><a href="lke_comm_quals.html#lke_clear">Clear</a></span></li><li><span class="file"><a href="lke_comm_quals.html#lke_clnup">CLNup</a></span></li><li><span class="file"><a href="lke_comm_quals.html#LKE_Show">SHow
</a></span></li><li><span class="file"><a href="lke_comm_quals.html#LKE_Exit">Exit</a></span></li><li><span class="file"><a href="lke_comm_quals.html#Help">Help</a></span></li><li><span class="file"><a href="lke_comm_quals.html#LKE_SPAWN">SPawn
</a></span></li></ul></li><li><span class="file"><a href="lke_command_summ.html">Summary
</a></span></li><li><span class="file"><a href="lke_exercises.html">LKE Exercises</a></span><ul><li><span class="file"><a href="lke_exercises.html#lke_exer1">Exercise 1: Preventing concurrent updates using M Locks</a></span></li><li><span class="file"><a href="lke_exercises.html#lke_exer2">Exercise 2: Rectifying a deadlock situation</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch09.html">GT.M Database Structure(GDS)</a></span><ul><li><span class="file"><a href="ch09s01.html">Database File Organization with GDS  </a></span><ul><li><span class="file"><a href="ch09s01.html#DFH">Database File Header </a></span></li><li><span class="file"><a href="ch09s01.html#FHDE">File Header Data Elements </a></span></li></ul></li><li><span class="file"><a href="ch09s02.html">Local Bitmaps  </a></span></li><li><span class="file"><a href="ch09s03.html">Master Bitmap  </a></span></li><li><span class="file"><a href="ch09s04.html">Database Structure  </a></span><ul><li><span class="file"><a href="ch09s04.html#tree_org">Tree Organization</a></span></li><li><span class="file"><a href="ch09s04.html#gds_blks">GDS Blocks </a></span></li><li><span class="file"><a href="ch09s04.html#Gds_rec">GDS Records </a></span><ul><li><span class="file"><a href="ch09s04.html#spanning_nodes">Using GDS records to hold spanning nodes  </a></span></li></ul></li><li><span class="file"><a href="ch09s04.html#gds_keys_D">GDS Keys </a></span></li><li><span class="file"><a href="ch09s04.html#compression_count">Compression Count </a></span></li><li><span class="file"><a href="ch09s04.html#use_of_keys">Use of Keys  </a></span></li><li><span class="file"><a href="ch09s04.html#character_keys">Characteristics of Keys  </a></span></li><li><span class="file"><a href="ch09s04.html#gvnameD">Global Variable Names </a></span></li><li><span class="file"><a href="ch09s04.html#str_subscr">String Subscripts </a></span></li><li><span class="file"><a href="ch09s04.html#numeric_Subsr">Numeric Subscripts </a></span></li></ul></li></ul></li><li><span class="file"><a href="ch10.html">Database Structure Editor</a></span><ul><li><span class="file"><a href="operate_dse.html">Operating in DSE</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html">DSE Commands and Qualifiers</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#add_dse">ADD</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#add_qualifiers_dse">Qualifiers of ADD</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_exam_add">Examples for ADD</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#all_dse_cmmd">ALL</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#all_qualifiers_dse">Qualifiers</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_example_add2">Examples of ALL</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#buffer_flush_cmmd_dse">Buffer_flush</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#change_dse_cmmd">CHange
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#change_qualifiers_block">CHANGE -BLock Qualifiers</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#change_qualifiers_file">CHANGE -FIleheader Qualifiers</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#change_example_Dse">Examples for CHANGE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_cache">CAche
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#Dse_cache_quals">Qualifiers of CACHE</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_cache_Exampl">Examples for CACHE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#close_dse_cmmd">CLose</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#critical_dse_cmmd">CRitical

</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#qaulifiers_change_dse">Qualifiers of CRITICAL</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#crit_examp">Examples for CRITICAL</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#dump_dse_cmmd">Dump

</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#dump_dse_qualifiers">Qualifiers of DUMP</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dump_ex1">Examples for DUMP </a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#evaluate_dse_cmmd">EValuate



</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#evaluate_dse_qualifiers">Qualifiers of Evaluate</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#examp_eval">Examples for EVALUATE
</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#exit_dse_cmmd">EXit
</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#find_cmmd_dse">Find
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#find_qualifiers_dse">Qualifiers of FIND</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#find_Examp">Examples for FIND
</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#help_dse_cmmd">Help</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#integrit_dse_cmmd">Integrit
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#integrit_dse_qualifiers">Qualifiers of Integrit</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#maps_dse_cmmd">Maps
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#map_qualifiers_dse">Qualifiers for MAP</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#exam_maps">Examples</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#open_cmmd_dse">OPen
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#Open_qaulifier_dse">Qualifiers for OPEN</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#Dse_open_example">Examples for OPEN</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#overwrite_dse_cmmd">OVerwrite
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#overwrite_dse_qualifier">Qualifiers for OVERWRITE</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_Example_overwrite">Examples for Overwrite</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#page_cmmd_dse">Page
</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#range_dse_cmmd">RAnge
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#range_dse_qualifiers">Qualifiers of RANGE</a></span></li><li><span class="file"><a href="dse_cmmds_quals.html#example_Range">Examples for RANGE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#remove_dse_cmmd">REMove
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#remove_dse_qualifier">Qualifiers of REMOVE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#restore_dse_cmmd">REStore
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#qualifiers_restore_dse">Qualifiers of RESTORE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#save_dse_cmmd">SAve
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#save_dse_qualifiers">Qualifiers of SAVE</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#shift">SHift
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#shift_dse_qualifiers">Qualifiers of SHIFT</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#dse_spawnl">SPawn
</a></span><ul><li><span class="file"><a href="dse_cmmds_quals.html#spawn_example_D">Examples of SPAWN</a></span></li></ul></li><li><span class="file"><a href="dse_cmmds_quals.html#wcinit_dse_cmmd">Wcinit
</a></span></li></ul></li><li><span class="file"><a href="dse_summary.html">DSE Command Summary</a></span></li></ul></li><li><span class="file"><a href="ch11.html">Maintaining Database Integrity</a></span><ul><li><span class="file"><a href="ch11s01.html">Verifying Database Integrity</a></span><ul><li><span class="file"><a href="ch11s01.html#regular_scheduled_verfication">Regularly Scheduled Verification</a></span></li><li><span class="file"><a href="ch11s01.html#before_or_after_major_transfer">Before or After Major Transfers</a></span></li><li><span class="file"><a href="ch11s01.html#imm_after_catastrophic_events">Immediately after Catastrophic Events</a></span></li><li><span class="file"><a href="ch11s01.html#imm_after_run_time_errors">Immediately after Run-Time Database Errors </a></span></li><li><span class="file"><a href="ch11s01.html#imm_after_database_repair">Immediately After Database Repairs</a></span></li></ul></li><li><span class="file"><a href="ch11s02.html">Approaches to Database Recovery</a></span><ul><li><span class="file"><a href="ch11s02.html#recover_frm_jrnls">Recover from Journals</a></span></li><li><span class="file"><a href="ch11s02.html#restore_frm_backup">Restore from Backup</a></span></li><li><span class="file"><a href="ch11s02.html#repair_with_dse">Repair with DSE</a></span></li><li><span class="file"><a href="ch11s02.html#preventive_maintenance">Preventive Maintenance</a></span><ul><li><span class="file"><a href="ch11s02.html#determine_the_cause_of_the_problem">Determining the Cause of the Problem</a></span></li><li><span class="file"><a href="ch11s02.html#chp11_mupip_recovery">MUPIP Recovery</a></span></li><li><span class="file"><a href="ch11s02.html#follow_up_chapter11_mupip_recovery">Follow-up</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch11s03.html">Repairing the Database with DSE</a></span><ul><li><span class="file"><a href="ch11s03.html#using_the_proper_db_file">Using the Proper Database File</a></span></li><li><span class="file"><a href="ch11s03.html#locating_struc_with_dse">Locating Structures with DSE</a></span></li><li><span class="file"><a href="ch11s03.html#safety_in_repairs">Safety in Repairs</a></span></li><li><span class="file"><a href="ch11s03.html#discarding_data">Discarding Data</a></span></li><li><span class="file"><a href="ch11s03.html#concurrent_repairs">Concurrent Repairs</a></span></li><li><span class="file"><a href="ch11s03.html#terminate_processes">Terminating Processes</a></span></li><li><span class="file"><a href="ch11s03.html#rec_dam_spa">Recovering data from damaged binary extracts</a></span><ul><li><span class="file"><a href="ch11s03.html#currupt_errors">CORRUPT Errors</a></span></li><li><span class="file"><a href="ch11s03.html#ldspan_errors">LDSPANGLOINCMP Errors</a></span></li><li><span class="file"><a href="ch11s03.html#rep_example">Examplea??Repairing an error in a binary extract </a></span></li></ul></li></ul></li><li><span class="file"><a href="ch11s04.html">Finding and Fixing Database Errors</a></span><ul><li><span class="file"><a href="ch11s04.html#c1_possible_cache_control_problems">C1a??Possible Cache Control Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h1_process_hangs">H1a??Process Hangs</a></span></li><li><span class="file"><a href="ch11s04.html#h3_db_access_problems">H3a??Database Access Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h4_database_cache_problms">H4a??Database Cache Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h5_critical_section_problems">H5a??Critical Section Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h6_Unix_problems">H6a??UNIX Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h7_disk_hardware_problems">H7a??Disk Hardware Problems</a></span></li><li><span class="file"><a href="ch11s04.html#h8_application_problems">H8a??Application Problems</a></span><ul><li><span class="file"><a href="ch11s04.html#persistent_locks">Persistent LOCKs</a></span></li><li><span class="file"><a href="ch11s04.html#deadlocks">Deadlocks</a></span></li><li><span class="file"><a href="ch11s04.html#prevention_of_a_deadlock">Preventing Deadlocks</a></span></li></ul></li><li><span class="file"><a href="ch11s04.html#i1_mupip_integ_errors">I1a??MUPIP INTEG Errors</a></span><ul><li><span class="file"><a href="ch11s04.html#evaluate_danger_level">Evaluating the Danger Level of a Database Problem</a></span><ul><li><span class="file"><a href="ch11s04.html#requires_immed_attention">Requires Immediate Attention</a></span></li><li><span class="file"><a href="ch11s04.html#can_be_deferred">Can Be Deferred</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch11s04.html#MUPIP_INTEG_Error_Classification_Table">MUPIP INTEG Error Classification Table</a></span></li><li><span class="file"><a href="ch11s04.html#gtm_version_mismatch_chi2">I2a??GT.M Version Mismatch</a></span></li><li><span class="file"><a href="ch11s04.html#i3_file_header_errors">I3a??File Header Errors</a></span></li><li><span class="file"><a href="ch11s04.html#i4_file_size_errors">I4a??File Size Errors</a></span></li><li><span class="file"><a href="ch11s04.html#i5_more_db_access_problems">I5a??More Database Access Problems</a></span></li><li><span class="file"><a href="ch11s04.html#i6_transient_errors">I6a??Transient Errors</a></span></li><li><span class="file"><a href="ch11s04.html#i7_db_rundown_prblm">I7a??Database Rundown Problem</a></span></li><li><span class="file"><a href="ch11s04.html#i8_repair_induced_prblm">I8a??Repair-Induced Problems</a></span></li><li><span class="file"><a href="ch11s04.html#k1_bad_key">K1a??Bad Key</a></span></li><li><span class="file"><a href="ch11s04.html#k2_keys_misplaced">K2a??Keys Misplaced</a></span></li><li><span class="file"><a href="ch11s04.html#k3_block_doubly_allocated">K3a??Block Doubly Allocated</a></span></li><li><span class="file"><a href="ch11s04.html#k4_pointer_prbl">K4a??Pointer Problems</a></span></li><li><span class="file"><a href="ch11s04.html#i5_star_key_prblms">K5a??Star Key Problems</a></span></li><li><span class="file"><a href="ch11s04.html#k6_compression_count_error">K6a??Compression Count Error</a></span></li><li><span class="file"><a href="ch11s04.html#k7_key_warning">K7a??Key Warning</a></span></li><li><span class="file"><a href="ch11s04.html#m1_bitmap_errors">M1a??Bitmap Errors</a></span></li><li><span class="file"><a href="ch11s04.html#m2_bitmap_header_problms">M2a??Bitmap Header Problems</a></span></li><li><span class="file"><a href="ch11s04.html#O1_bad_block">O1a??Bad Block</a></span></li><li><span class="file"><a href="ch11s04.html#o2_record_errors">O2a??Record Errors</a></span></li><li><span class="file"><a href="ch11s04.html#o3_data_block_errors">O3a??Data Block Errors</a></span></li><li><span class="file"><a href="ch11s04.html#o4_salvage">O4a??Salvage of Data Blocks with Lost Indices</a></span><ul><li><span class="file"><a href="ch11s04.html#downloadsalvage">Download salvage.m</a></span></li></ul></li><li><span class="file"><a href="ch11s04.html#sal_dam_spa">O5a??Salvage of a damaged spanning node</a></span></li><li><span class="file"><a href="ch11s04.html#p1_process_damage">P1a??Process Damage</a></span></li><li><span class="file"><a href="ch11s04.html#q1_restict_db_access">Q1a??Restricting Database Access</a></span></li><li><span class="file"><a href="ch11s04.html#r1_gtm_run_time_errors">R1a??GT.M Run-Time Errors</a></span></li><li><span class="file"><a href="ch11s04.html#r2_structure_db_integ">R2a??Structural Database Integrity Errors</a></span></li><li><span class="file"><a href="ch11s04.html#Run-Time_Database_Restart_Code_Table">Run-Time Database Restart Codes</a></span></li><li><span class="file"><a href="ch11s04.html#r2_run_time_db_cache">R3a??Run-time Database Cache Problems</a></span></li><li><span class="file"><a href="ch11s04.html#r4_stopped_processes">R4a??Stopped Processes</a></span></li><li><span class="file"><a href="ch11s04.html#r5_no_more_room">R5a??No More Room in the File</a></span></li><li><span class="file"><a href="ch11s04.html#r6_gtmassert_and_gtmcheck_errors">R6a??GTMASSERT and GTMCHECK Errors</a></span></li><li><span class="file"><a href="ch11s04.html#r7_interlock_q">R7a??Interlocked Queue Hardware Problems</a></span></li><li><span class="file"><a href="ch11s04.html#r8_db_tree">R8a??Database Tree Maximum Level Exceeded</a></span></li><li><span class="file"><a href="ch11s04.html#r9_read">R9a??Read-only Process Blocked</a></span></li></ul></li></ul></li><li><span class="file"><a href="ch12.html">Database Encryption</a></span><ul><li><span class="file"><a href="ch12s01.html">Introduction </a></span><ul><li><span class="file"><a href="ch12s01.html#encrypt_overview_desc">Overview </a></span></li><li><span class="file"><a href="ch12s01.html#encrypt_disclaim">Disclaimer </a></span></li><li><span class="file"><a href="ch12s01.html#encryption_limit">Limitations of GT.M Database Encryption </a></span><ul><li><span class="file"><a href="ch12s01.html#dar_nt_prtc">Data Not At Rest Not Protected </a></span></li><li><span class="file"><a href="ch12s01.html#keys_in_prc_Add">Keys in the Process Address Space / Environment</a></span></li><li><span class="file"><a href="ch12s01.html#long_lived_keys">Long Lived Keys </a></span></li><li><span class="file"><a href="ch12s01.html#volumin_sampl_enc_data">Voluminous Samples of Encrypted Data </a></span></li><li><span class="file"><a href="ch12s01.html#Encry_algo_nt_Supprt">Encryption Algorithms Neither Endorsed Nor Supported by FIS </a></span></li><li><span class="file"><a href="ch12s01.html#no_key_recov">No Key Recovery </a></span></li><li><span class="file"><a href="ch12s01.html#human_intervention">Human Intervention Required </a></span></li><li><span class="file"><a href="ch12s01.html#mm_databases">MM Databases </a></span></li></ul></li><li><span class="file"><a href="ch12s01.html#Alternatives_to_Database_Encry">Alternatives to Database Encryption </a></span></li><li><span class="file"><a href="ch12s01.html#Device_IO">Device IO </a></span></li><li><span class="file"><a href="ch12s01.html#Replication_and_GT_CM">GT.CM </a></span></li><li><span class="file"><a href="ch12s01.html#fips">FIPS Mode</a></span></li></ul></li><li><span class="file"><a href="ch12s02.html">Theory of Operation </a></span><ul><li><span class="file"><a href="ch12s02.html#encr_Definitions">Definition of Terms </a></span></li><li><span class="file"><a href="ch12s02.html#encrypt_overview_1">Overview </a></span><ul><li><span class="file"><a href="ch12s02.html#encrwarn">Warning </a></span></li><li><span class="file"><a href="ch12s02.html#data_db_jnl">Data in Database and Journal Files </a></span></li><li><span class="file"><a href="ch12s02.html#Symmetric_and_Asymmetric_Ciphe_">Symmetric and Asymmetric Ciphers </a></span></li><li><span class="file"><a href="ch12s02.html#Key_Ring_on_Disk">Key Ring on Disk </a></span></li><li><span class="file"><a href="ch12s02.html#Master_Key_File_Key_Files">Master Key Configuration File and Encryption Keys </a></span></li><li><span class="file"><a href="ch12s02.html#Memory_Key_Ring">Memory Key Ring </a></span></li><li><span class="file"><a href="ch12s02.html#key_validation_hasing">Key Validation and Hashing </a></span></li><li><span class="file"><a href="ch12s02.html#Database_Operations">Database Operation </a></span></li></ul></li></ul></li><li><span class="file"><a href="ch12s03.html">Examples of use </a></span><ul><li><span class="file"><a href="ch12s03.html#Key_Management">Key Management </a></span></li></ul></li><li><span class="file"><a href="ch12s04.html">Tested Reference Implementations </a></span></li><li><span class="file"><a href="ch12s05.html">Special note - GNU Privacy Guard and Agents</a></span><ul><li><span class="file"><a href="ch12s05.html#use_pinentry_pgm">Using the reference implementation's custom pinentry program</a></span></li></ul></li><li><span class="file"><a href="ch12s06.html">Installation </a></span></li><li><span class="file"><a href="ch12s07.html">
      Administration and Operation of Encrypted Databases </a></span><ul><li><span class="file"><a href="ch12s07.html#util_programs"> Utility Programs </a></span><ul><li><span class="file"><a href="ch12s07.html#encr_gde">GDE </a></span><ul><li><span class="file"><a href="ch12s07.html#format_enr">Format / Upgrade </a></span></li><li><span class="file"><a href="ch12s07.html#noencryption_qual">-[NO]ENcryption</a></span></li></ul></li><li><span class="file"><a href="ch12s07.html#encr_mupip_cm">MUPIP </a></span><ul><li><span class="file"><a href="ch12s07.html#encr_mupip_Cre">MUPIP CREATE </a></span></li><li><span class="file"><a href="ch12s07.html#encr_mup_jnl">MUPIP JOURNAL </a></span></li><li><span class="file"><a href="ch12s07.html#encr_mup_load">MUPIP LOAD </a></span></li></ul></li><li><span class="file"><a href="ch12s07.html#encr_dse">DSE </a></span><ul><li><span class="file"><a href="ch12s07.html#changing_hash">Changing the hash in the database file header </a></span></li></ul></li></ul></li><li><span class="file"><a href="ch12s07.html#changing_encr_keys">Changing the Encryption Keys </a></span></li><li><span class="file"><a href="ch12s07.html#Db_create_encr">Encrypted Database Creation </a></span></li></ul></li><li><span class="file"><a href="ch12s08.html">Plugin Architecture &amp; Interface </a></span><ul><li><span class="file"><a href="ch12s08.html#encr_packaging">Packaging </a></span></li><li><span class="file"><a href="ch12s08.html#extn_gtm_encr">Extensions to the GT.M External Interface </a></span></li><li><span class="file"><a href="ch12s08.html#encr_operation">Operation </a></span></li></ul></li><li><span class="file"><a href="ch12s09.html">Using the Reference Implementation with Older Releases  </a></span></li></ul></li><li><span class="file"><a href="ch13.html">GT.CM Client/Server</a></span><ul><li><span class="file"><a href="ch13s01.html">Introduction</a></span></li><li><span class="file"><a href="ch13s02.html">Overview</a></span><ul><li><span class="file"><a href="ch13s02.html#gtcm_server">GT.CM Server</a></span></li><li><span class="file"><a href="ch13s02.html#gtcm_client">GT.CM Client</a></span></li><li><span class="file"><a href="ch13s02.html#gtcm_stsh">GT.CM Server Startup and Shutdown</a></span><ul><li><span class="file"><a href="ch13s02.html#gtcm_srv_Start">GT.CM Server Startup</a></span></li><li><span class="file"><a href="ch13s02.html#gtcm_srv_Shut">GT.CM Server Shutdown</a></span></li></ul></li><li><span class="file"><a href="ch13s02.html#encry_types_oper">Types of Operations</a></span></li><li><span class="file"><a href="ch13s02.html#gtcp_err_msg">Error Messages</a></span></li><li><span class="file"><a href="ch13s02.html#gtcm_examples">Examples</a></span></li></ul></li></ul></li><li><span class="file"><a href="ipc_usage.html">GT.M's IPC Resource Usage</a></span><ul><li><span class="file"><a href="apas01.html">Examining GT.M's IPC Resources</a></span></li><li><span class="file"><a href="apas02.html">gmtsecshr</a></span></li></ul></li><li><span class="file"><a href="monitoring_gtm.html">Monitoring GT.M </a></span><ul><li><span class="file"><a href="apbs01.html">Monitoring GT.M Messages</a></span></li><li><span class="file"><a href="apbs02.html">Managing core dumps </a></span></li></ul></li><li><span class="file"><a href="build_encry_lib.html">Building Encryption Libraries</a></span><ul><li><span class="file"><a href="apcs01.html">Building Encryption Libraries </a></span><ul><li><span class="file"><a href="apcs01.html#Ubuntu_LTS_x86_64_4182407">Debian, Ubuntu, RedHat and Fedora </a></span></li><li><span class="file"><a href="apcs01.html#IBM_AIX_5_3_pSeries_6214410681">IBM AIX 7.1 (pSeries) </a></span><ul><li><span class="file"><a href="apcs01.html#gpg_error_instr">GPG-ERROR </a></span></li><li><span class="file"><a href="apcs01.html#gcrypt_aix">GCRYPT </a></span></li><li><span class="file"><a href="apcs01.html#crypto_aix">CRYPTO (From OpenSSL) </a></span></li><li><span class="file"><a href="apcs01.html#gpgme_aix">GPGME </a></span></li><li><span class="file"><a href="apcs01.html#aix_gnupg">GNUPG </a></span></li></ul></li></ul></li></ul></li><li><span class="file"><a href="app_security_phil.html">GT.M Security Philosophy</a></span><ul><li><span class="file"><a href="apds01.html">Philosophy</a></span><ul><li><span class="file"><a href="apds01.html#nrml_usrgir">Normal User and Group Id Rule</a></span><ul><li><span class="file"><a href="apds01.html#sec_excep">Exceptions</a></span><ul><li><span class="file"><a href="apds01.html#Sec_shrd_mem">Shared Memory Exception for BG</a></span></li><li><span class="file"><a href="apds01.html#gtmsecshr_excep">gtmsecshr Exception</a></span></li></ul></li><li><span class="file"><a href="apds01.html#Security_Triggers">Triggers</a></span></li></ul></li><li><span class="file"><a href="apds01.html#gtmc_excep">Recommendations</a></span></li></ul></li><li><span class="file"><a href="apds02.html">gtmsecshr commands</a></span></li><li><span class="file"><a href="apds03.html">Shared Resource Authorization Permissions</a></span></li></ul></li><li><span class="file"><a href="ape.html">GTMPCAT - GT.M Process/Core Analysis Tool </a></span><ul><li><span class="file"><a href="apes01.html">Overview</a></span></li><li><span class="file"><a href="apes02.html">Usage</a></span></li><li><span class="file"><a href="apes03.html">Interactive Mode</a></span></li></ul></li><li><span class="file"><a href="Package_GTM_Apps.html">Packaging GT.M Applications</a></span><ul><li><span class="file"><a href="apfs01.html">Setting up a Captive User Application with GT.M</a></span><ul><li><span class="file"><a href="apfs01.html#sample_profile">Sample .profile</a></span></li></ul></li><li><span class="file"><a href="apfs02.html">Invoking GT.M through a C main() program</a></span></li><li><span class="file"><a href="apfs03.html">Defensive Practices</a></span></li><li><span class="file"><a href="apfs04.html">Other</a></span></li></ul></li><li><span class="file"><a href="TLS_Configuration_File.html">Creating a $gtmcrypt_config file</a></span><ul><li><span class="file"><a href="apgs01.html">Why do we need a $gtmcrypt_config file?</a></span></li><li><span class="file"><a href="apgs02.html">OpenSSL Options</a></span></li><li><span class="file"><a href="apgs03.html">Generating demo TLS certificates</a></span><ul><li><span class="file"><a href="apgs03.html#create_root_app">Creating a demo CA (Certification Authority)</a></span></li><li><span class="file"><a href="apgs03.html#create_leaf_app">Creating and signing demo leaf-level certificates</a></span></li><li><span class="file"><a href="apgs03.html#tlsexampledemo">Example: Creating demo certificates </a></span><ul><li><span class="file"><a href="apgs03.html#certsetupproc_app">cert_setup</a></span></li><li><span class="file"><a href="apgs03.html#gencaproc_app">gen_ca</a></span></li><li><span class="file"><a href="apgs03.html#genleafpro_app">gen_leaf</a></span></li><li><span class="file"><a href="apgs03.html#opensslconf_app">example101.cnf</a></span></li></ul></li></ul></li></ul></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="Verifie(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><center><input id="textToSearch" name="textToSearch" type="text" class="searchText"/> &nbsp; <input onclick="Verifie(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></center></fieldset></form></div><div id="searchResults"><center/></div></div></div></div></div></body></html>