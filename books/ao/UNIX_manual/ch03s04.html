<html>
<HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Starting GT.M</title>
<link rel="stylesheet" href="gtm.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="GT.M Administration and Operations Guide">
<link rel="up" href="ch03.html" title="Chapter 3. Basic Operations">
<link rel="prev" href="ch03s03.html" title="Configuring and operating GT.M with Unicode(R) support (optional)">
<link rel="next" href="ch03s05.html" title="Configuring huge pages for GT.M x86[-64] on Linux">
<link rel="copyright" href="ln-idm45622523859200.html" title="Legal Notice">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Starting GT.M </th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch03s03.html">Prev</a> </td>
<th width="60%" align="center">Chapter 3. Basic Operations</th>
<td width="20%" align="right"> <a accesskey="n" href="ch03s05.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">GT.M Administration and Operations Guide</a></span> &gt; <span class="breadcrumb-link"><a href="ch03.html">Basic Operations</a></span> &gt; <span class="breadcrumb-node">Starting GT.M </span>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="starting_gtm"></a>Starting GT.M <a class="indexterm" name="idm45622522911024"></a>
</h2></div></div></div>
<p><span class="bold"><strong>To start GT.M from a POSIX shell:</strong></span></p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<p>Execute <code class="code">gtm</code> from your shell prompt:</p>
<pre class="programlisting">$ &lt;path_to_gtm_installation_directory&gt;/gtm </pre>
</li></ol></div>
<p><span class="bold"><strong>To start GT.M in UTF-8 mode from a POSIX shell:</strong></span> </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<p>First, set <code class="code">$gtm_chset</code> to <em class="replaceable"><code>UTF-8</code></em> and LC_CTYPE or LC_ALL to any usable UTF-8 locale. </p>
<pre class="programlisting">$ export gtm_chset="UTF-8"
$ export LC_CTYPE="en_US.utf8"</pre>
</li>
<li class="listitem">
<p>Execute the <code class="code">gtm</code> script. </p>
<pre class="programlisting">$ &lt;path_to_gtm_installation_directory&gt;/gtm </pre>
</li>
</ol></div>
<p><span class="bold"><strong>To start GT.M from a C-type shell:</strong></span></p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>First source the <code class="code">gtmschrc</code> script to set up a default GT.M environment. At your shell prompt, type: </p></li>
<li class="listitem"><pre class="programlisting">$ source &lt;path_to_gtm_installation_directory&gt;/gtmcshrc </pre></li>
<li class="listitem">
<p>Run the <code class="code">gtm</code> alias to start GT.M in direct mode. </p>
<pre class="programlisting">$ gtm </pre>
</li>
</ol></div>
<p><span class="bold"><strong>To start GT.M in UTF-8 mode from a C-type shell: </strong></span></p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<p>Set the environment variable gtm_chset to UTF-8 and LC_CTYPE or LC_ALL to any usable UTF-8 locale.</p>
<pre class="programlisting">$ setenv gtm_chset UTF-8
$ setenv LC_CTYPE en_US.utf8 </pre>
</li>
<li class="listitem">
<p>Source the gtmchrc script to set up default GT.M UTF-8 environment. </p>
<pre class="programlisting">$ source &lt;path_to_gtm_installation_directory&gt;/gtmcshrc </pre>
</li>
<li class="listitem">
<p>Run the gtm alias to start GT.M in direct mode. </p>
<pre class="programlisting">$ gtm</pre>
</li>
</ol></div>
<p><span class="bold"><strong>To start GT.M without using any script:</strong></span></p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>Define gtm_dist, gtm_log, gtm_tmp, gtmgbldir, and gtmroutines. Ensure that gtm_dist points to the location of your GT.M distribution. </p></li>
<li class="listitem"><p>Add gtm_dist to the system environment variable PATH. </p></li>
<li class="listitem"><p>Ensure that you have set an appropriate value for TERM. </p></li>
<li class="listitem"><p>Consider adding these environment variables in your login file so you do not have to create them again the next time you start your shell. </p></li>
<li class="listitem">
<p>Set the following aliases to run GT.M and its utlities.</p>
<pre class="programlisting">alias dse="$gtm_dist/dse"
alias gde="$gtm_dist/mumps -run ^GDE" 
alias gtm="$gtm_dist/mumps -direct" 
alias lke="$gtm_dist/lke" 
alias mupip="$gtm_dist/mupip" </pre>
</li>
<li class="listitem">
<p>Run the <code class="code">gtm</code> alias to start GT.M in direct mode. </p>
<pre class="programlisting">$ gtm </pre>
</li>
</ol></div>
<p><span class="bold"><strong>To start GT.M in UTF-8 mode without using any script:</strong></span></p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>Define gtm_dist, gtm_log, gtmgbldir, and gtmroutines. Ensure that gtm_dist points to the uft8 subdirectory of your GT.M distribution. </p></li>
<li class="listitem"><p>Set gtm_routines to include the utf8 subdirectory of your GT.M distribution. Note that the utf8 subdirectory includes all <span class="trademark">Unicode</span>(R) support related GT.M functionality.</p></li>
<li class="listitem"><p>Ensure that you have installed ICU 3.6 (or above) and have LC_CTYPE or LC_ALL set to a usable UTF-8 locale.</p></li>
<li class="listitem"><p>Set LD_LIBRARY_PATH and TERM to appropriate values.</p></li>
<li class="listitem"><p>If you have built ICU with symbol renaming enabled, set gtm_icu_version to an appropriate ICU version. </p></li>
<li class="listitem"><p>Add gtm_dist to the system environment variable PATH. </p></li>
<li class="listitem"><p>Set gtm_chset to UTF-8.</p></li>
<li class="listitem"><p>Consider adding these environment variables in your login file so you do not have to create them again the next time you start your shell.</p></li>
<li class="listitem">
<p>Set the following aliases to run GT.M and its utilities.</p>
<pre class="programlisting">alias dse="$gtm_dist/dse"
alias gde="$gtm_dist/mumps -run ^GDE"
alias gtm="$gtm_dist/mumps -direct"
alias lke="$gtm_dist/lke" 
alias mupip="$gtm_dist/mupip"</pre>
</li>
<li class="listitem">
<p>Type the following command to start GT.M in direct mode. </p>
<pre class="programlisting">$ gtm </pre>
</li>
<li class="listitem">
<p>At the GT.M prompt, type the following command. </p>
<pre class="programlisting">GTM&gt;w $ZCHSET 
UTF-8 ; the output confirms UTF-8 mode.</pre>
</li>
</ol></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note">
<tr>
<td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
<p>If you are configuring a GT.M environment without using the <code class="code">gtmprofile</code> script (or the <code class="code">gtm</code> script which sources <code class="code">gtmprofile</code>), bear in mind the following recommendation from FIS: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>All GT.M processes should use the same settings for <code class="code">gtm_log</code> and <code class="code">gtm_tmp</code>, especially for production environments. This is because <code class="code">gtmsecshr</code> inherits these values from whichever GT.M process first uses its services. </p></li>
<li class="listitem"><p>If there are multiple GT.M versions active on a system, FIS recommends different sets of <code class="code">gtm_log</code> and <code class="code">gtm_tmp</code> values for each version as using the same values for different distributions can cause significant performance issues. </p></li>
</ul></div>
</td></tr>
</table></div>
<p>GT.M has three invocation modes: compiler, direct, and auto-start. To invoke GT.M in these modes, provide the following arguments to the gtm script or the mumps command. </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p><span class="bold"><strong>-direct</strong></span>: Invokes GT.M in direct mode where you can enter M commands interactively. </p></li>
<li class="listitem"><p><span class="bold"><strong>&lt;list of M source files&gt;</strong></span>: Invokes GT.M in compiler mode, invoke GT.M by entering a list of file names to compile as a argument. GT.M then compiles the specified programs into .o files. UNIX shell globbing to resolve wild-cards (* and ?) in names. </p></li>
<li class="listitem"><p><span class="bold"><strong>-run <em class="replaceable"><code>^routine_name</code></em></strong></span>: -r invokes GT.M in auto-start mode. The second argument is taken to be an M entryref, and that routine is automatically executed, bypassing direct mode. Depending on your shell, you may need to put the entryref in quotes. </p></li>
</ol></div>
<p>When executing M programs, GT.M incrementally links any called programs. For example, the command <code class="code">GTM&gt; do ^TEST</code> links the object file TEST.o and executes it; if the <code class="code">TESTM</code> program calls other M routines, those are automatically compiled and linked. </p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution: Caution">
<tr>
<td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Caution]" src="images/caution.jpg"></td>
<th align="left">Caution</th>
</tr>
<tr><td align="left" valign="top"><p>When possible, GT.M verifies that MUMPS, MUPIP, DSE and LKE reside in $gtm_dist. If the path to the executable and the path to $gtm_dist do not match each executable issues an error. In cases where the executable path could not be determined, each executable defers issuing an error until it is required. </p></td></tr>
</table></div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch03s03.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch03s05.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Configuring and operating GT.M with <span class="trademark">Unicode</span>(R) support (optional)  </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Configuring huge pages for GT.M x86[-64] on Linux</td>
</tr>
</table>
</div>
</body>
</html>
