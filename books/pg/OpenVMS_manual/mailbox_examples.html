<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Mailbox Examples</title>
    <link rel="stylesheet" href="ede.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.68.1" />
    <link rel="start" href="index.html" title="GT.M Programmer's Guide" />
    <link rel="up" href="using_mailbox.html" title="Using Mailboxes" />
    <link rel="prev" href="mailbox_device_parameter_summ.html" title="Mailbox Deviceparameter Summary" />
    <link rel="next" href="using_null_devices.html" title="Using Null Devices" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Mailbox Examples</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="mailbox_device_parameter_summ.html">Prev</a>A </td>
          <th width="60%" align="center">Using Mailboxes</th>
          <td width="20%" align="right">A <a accesskey="n" href="using_null_devices.html">Next</a></td>
        </tr>
      </table>
    </div>
    <div class="sect2" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a id="mailbox_examples"></a>Mailbox Examples</h3>
          </div>
        </div>
      </div>
      <a id="id4203054" class="indexterm"></a>
      <p>This section contains a few brief examples of GT.M mailbox handling.</p>
      <p>Example:</p>
      <pre class="programlisting">
    SET mb=&quot;FASTREPORT&quot; O mb:PRMMBX u mb
    FOR READ msg QUIT:msg=&quot;$STOP$&quot; DO print(msg)
    QUIT
    </pre>
      <p>This OPENs &quot;FASTREPORT&quot; as a permanent mailbox. &quot;FASTREPORT&quot; is the logical name that translates to the mailbox specification. Generally the system manager creates permanent mailboxes as part of system start-up. If this is not the case, the process running our example requires PRMMBX and SYSNAM privileges.</p>
      <p>Example:</p>
      <pre class="programlisting">
    SET mb=&quot;SYNC&quot; OPEN mb:(TMPMBX:WRITEONLY) USE mb:WAIT
    SET x=&quot;&quot; WRITE &quot;$START$&quot;,$J
    FOR SET x=$O(^tmp($J,x)) q:x=&quot;&quot; WRITE ^(x)
    WRITE &quot;$END$&quot;
    CLOSE mb
    </pre>
      <p>This OPENs &quot;SYNC&quot; as a temporary mailbox for synchronous writes. If &quot;SYNC&quot; does not exist as a temporary mailbox in the GROUP logical name table of our process, GT.M creates a mailbox and places &quot;SYNC&quot; in the GROUP table. Creating &quot;SYNC&quot; requires TMPMBX and GRPNAM privileges. The process executing the example waits for another process to read each of its writes. If no other process reads from the mailbox, the process hangs indefinitely.</p>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="mailbox_device_parameter_summ.html">Prev</a>A </td>
          <td width="20%" align="center">
            <a accesskey="u" href="using_mailbox.html">Up</a>
          </td>
          <td width="40%" align="right">A <a accesskey="n" href="using_null_devices.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Mailbox Deviceparameter SummaryA </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top">A Using Null Devices</td>
        </tr>
      </table>
    </div>
  </body>
</html>
