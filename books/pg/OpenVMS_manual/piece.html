<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>$Piece()</title>
    <link rel="stylesheet" href="ede.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.68.1" />
    <link rel="start" href="index.html" title="GT.M Programmer's Guide" />
    <link rel="up" href="chapter7.html" title="Chapter 7. Functions" />
    <link rel="prev" href="examples_of_order.html" title="Examples of $ORDER()" />
    <link rel="next" href="examples_of_piece.html" title="Examples of $PIECE()" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">$Piece()</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="examples_of_order.html">Prev</a> </td>
          <th width="60%" align="center">Chapter 7. Functions</th>
          <td width="20%" align="right"> <a accesskey="n" href="examples_of_piece.html">Next</a></td>
        </tr>
      </table>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="piece"></a>$Piece()</h2>
          </div>
        </div>
      </div>
      <div class="toc">
        <dl>
          <dt>
            <span class="sect2">
              <a href="examples_of_piece.html">Examples of $PIECE()</a>
            </span>
          </dt>
        </dl>
      </div>
      <a id="id4183443" class="indexterm"></a>
      <p>The $PIECE function returns a substring delimited by a specified string delimiter made up of one or more characters. In M, $PIECE() returns a logical field from a logical record.</p>
      <p>The format for the $PIECE function is:</p>
      <pre class="programlisting">
    $P[IECE](expr1,expr2[,intexpr1[,intexpr2]])
    </pre>
      <div class="itemizedlist">
        <ul type="disc">
          <li>
            <p>The first expression specifies the string from which $PIECE() takes its result.</p>
          </li>
          <li>
            <p>The second expression specifies the delimiting string that determines the piece &quot;boundaries&quot;; if this argument is a null string, $PIECE() returns a null string.</p>
          </li>
          <li>
            <p>If the second expression does not appear anywhere in the first expression, $PIECE() returns the entire first expression (unless forced to return a null string by the second integer expression).</p>
          </li>
          <li>
            <p>The optional first integer expression (third argument) specifies the beginning piece to return; if this argument is missing, $PIECE() returns the first piece.</p>
          </li>
          <li>
            <p>The optional second integer expression (fourth argument) specifies the last piece to return. If this argument is missing, $PIECE() returns only one piece unless the first integer expression is zero (0) or negative, in which case it returns a null string. If this argument is less than the first integer expression, $PIECE() returns a null string.</p>
          </li>
          <li>
            <p>If the second integer expression exceeds the actual number of pieces in the first expression, $PIECE() returns all of the expression after the delimiter selected by the first integer expression.</p>
          </li>
          <li>
            <p>The $PIECE() result never includes the &quot;outside&quot; delimiters; however, when the second integer argument specifies multiple pieces, the result contains the &quot;inside&quot; occurrences of the delimiter.</p>
          </li>
        </ul>
      </div>
      <p>$PIECE() provides a tool for efficiently using values that contain multiple elements or fields, each of which may be variable in length.</p>
      <p>Applications typically use a single character for a $PIECE() delimiter (second argument) to minimize storage overhead, and increase efficiency at run-time. The delimiter must be chosen so the data values never contain the delimiter. Failure to enforce this convention with edit checks may result in unanticipated changes in the position of pieces within the data value. The caret symbol (^), backward slash (\), and asterisk (*) characters are examples of popular visible delimiters. Multiple character delimiters may reduce the likelihood of conflict with field contents. However, they decrease storage efficiency, and are processed with less efficiency than single character delimiters. Some applications use control characters, which reduce the chances of the delimiter appearing in the data but sacrifice the readability provided by visible delimiters.</p>
      <p>A SET command argument can have something that has the format of a $PIECE() on the left-hand side of its equal sign (=). This construct permits easy maintenance of individual pieces within a string. It also can be used to generate a string of delimiters. For more information on SET $PIECE(), refer to SET in the &quot;Commands&quot; chapter.</p>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="examples_of_order.html">Prev</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="chapter7.html">Up</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="examples_of_piece.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Examples of $ORDER() </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> Examples of $PIECE()</td>
        </tr>
      </table>
    </div>
  </body>
</html>
