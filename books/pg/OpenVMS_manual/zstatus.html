<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
<!-- Mirrored from tinco.pair.com/bhaskar/gtm/doc/books/pg/OpenVMS_manual/zstatus.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Mar 2019 11:30:42 GMT -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>$ZStatus</title>
    <link rel="stylesheet" href="ede.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.68.1" />
    <link rel="start" href="index.html" title="GT.M Programmer's Guide" />
    <link rel="up" href="chapter8.html" title="Chapter 8. Intrinsic Special Variables" />
    <link rel="prev" href="zsource.html" title="$ZSOurce" />
    <link rel="next" href="zstep.html" title="$ZSTep" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">$ZStatus</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="zsource.html">Prev</a> </td>
          <th width="60%" align="center">Chapter 8. Intrinsic Special Variables</th>
          <td width="20%" align="right"> <a accesskey="n" href="zstep.html">Next</a></td>
        </tr>
      </table>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="zstatus"></a>$ZStatus</h2>
          </div>
        </div>
      </div>
      <a id="id4196827" class="indexterm"></a>
      <p>$ZS[TATUS] contains a string value specifying the error condition code and location of the last exception condition that occurred during routine execution.</p>
      <p>GT.M maintains $ZSTATUS as a string consisting of three or more substrings. The string consists of the following:</p>
      <div class="itemizedlist">
        <ul type="disc">
          <li>
            <p>An error message number as the first substring.</p>
          </li>
          <li>
            <p>The entryref of the line in error as the second substring; a comma (,) separates the first and second substrings.</p>
          </li>
          <li>
            <p>The message detail as the third substring. The format of this is a percent sign (%) identifying the message facility, a hyphen (-) identifying the error severity, another hyphen identifying the message identification followed by a comma (,), which is followed by the message text if any:</p>
          </li>
        </ul>
      </div>
      <pre class="programlisting">
    Format: %&lt;FAC&gt;-&lt;SEV&gt;-&lt;ID&gt;, &lt;TEXT&gt;
    Example: %GTM-E-DIVZERO, Attempt to divide by zero
    </pre>
      <p><span>The DCL command SET MESSAGE does not affect the format of the $ZSTATUS string. $ZSTATUS always contains all components of the VMS error message format (message number, facility, error severity, identification and text).</span> GT.M sets $ZSTATUS when it encounters errors during program execution, but not when it encounters errors in a Direct Mode command.</p>
      <p>When a VMS system component such as RMS detects an error, the error message number is a VMS condition code. When a GT.M system component detects an error, the message number is a GT.M condition code. You can establish your own condition codes using the VMS MESSAGE utility and invoke them using the GT.M ZMESSAGE command. For more information on GT.M condition codes, refer to the &quot;GT.M Messages &amp; Recovery Manual&quot;. For more information on the VMS message facility, refer to the VMS Message Utility Manual. For more information on error handling, refer to the &quot;Error Processing&quot; chapter in this manual.</p>
      <p>$ZSTATUS is a read-write Intrinsic Special Variable, (i.e., it can occur on the left side of the equal sign (=) in the argument to the SET command). While it will accept any string, Sanchez Computer Associates recommends setting it to null. M routines cannot modify $ZSTATUS with the NEW command.</p>
      <p>Example:</p>
      <pre class="programlisting">
    GTM&gt; WRITE $ZSTATUS
    1212,+1^GTM$DMOD,%SYSTEM-F-FLTDIV_F,
    arithmetic fault, floating
    divide by zero at PC=00080C01, PSL=03C00000
    </pre>
      <p>This example displays the status generated by a divide by zero (0).</p>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="zsource.html">Prev</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="chapter8.html">Up</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="zstep.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">$ZSOurce </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> $ZSTep</td>
        </tr>
      </table>
    </div>
  </body>

<!-- Mirrored from tinco.pair.com/bhaskar/gtm/doc/books/pg/OpenVMS_manual/zstatus.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Mar 2019 11:30:42 GMT -->
</html>
