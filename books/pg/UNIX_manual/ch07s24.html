<html>

<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/books/pg/UNIX_manual/ch07s24.html]] -->
<HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>$View()</title>
<link rel="stylesheet" href="gtm.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="GT.M Programmer's Guide">
<link rel="up" href="ch07.html" title="Chapter 7. Functions">
<link rel="prev" href="ch07s23.html" title="$TRanslate()">
<link rel="next" href="ch07s25.html" title="$ZAHandle()">
<link rel="copyright" href="ln-idp64351152.html" title="Legal Notice">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">$View()</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch07s23.html">Prev</a> </td>
<th width="60%" align="center">Chapter 7. Functions</th>
<td width="20%" align="right"> <a accesskey="n" href="ch07s25.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">GT.M Programmer's Guide</a></span> &gt; <span class="breadcrumb-link"><a href="ch07.html">Functions</a></span> &gt; <span class="breadcrumb-node">$View()</span>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="functions_view"></a>$View()<a class="indexterm" name="idp69744928"></a>
</h2></div></div></div>
<p>Returns information about an environmental factor selected by the arguments. In GT.M, the first argument contains a keyword identifying the environmental factor and, where appropriate, subsequent arguments select among multiple possible occurrences of that factor.</p>
<p>The format for the $VIEW() function is:</p>
<pre class="programlisting">$V[IEW](expr1[,expr2])</pre>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>The first expression specifies a keyword identifying the target factor for $VIEW() to examine.</p></li>
<li class="listitem"><p>The second expression differentiates between multiple possible targets for some keywords. $VIEW() requires the second expression for some keywords and does not permit it for others.</p></li>
</ul></div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="argument__keys_of_view"></a>Argument Keywords of $VIEW()<a class="indexterm" name="idp69769408"></a>
</h3></div></div></div>
<p>$VIEW() provides a means to access GT.M environmental information. When GT.M permits modification of the factors accessible with $VIEW(), the VIEW command generally provides the means for effecting the change.</p>
<div class="informaltable">
<a name="tblviewarg"></a><table width="100%" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr><th colspan="3">
<p>$VIEW() Argument Keywords</p>
</th></tr>
<tr>
<th>
<p>ARG 1</p>
</th>
<th>
<p>ARG 2</p>
</th>
<th>
<p>RETURN VALUE</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p>"BADCHAR"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>In UTF-8 mode processes, enables or disable the generation of an error when character-oriented functions encounter malformed byte sequences (illegal characters). The default is 1.</p>
</td>
</tr>
<tr>
<td>
<p>"BREAKMSG"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Value of the break message mask; GT.M defaults this to 31.</p>
</td>
</tr>
<tr>
<td>
<p>"FREEBLOCKS"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>Number of free database blocks in a given region.</p>
</td>
</tr>
<tr>
<td>
<p>"FREEZE"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>Process-id of a process that has frozen the database associated with the region specified (using DSE or MUPIP).</p>
<p>If the region is currently not frozen, returns zero.</p>
</td>
</tr>
<tr>
<td>
<p>"FULL_BOOLEAN"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Returns a string describing the current compiler setting. The default is "GT.M Boolean short-circuit". $VIEW("FULL_BOOLEAN") reports "Standard Boolean evaluation side effects" when it is not explicitly set, but that mode of operation is required by the setting of gtm_side_effects, and "Standard Boolean side-effect warning" when warnings have been specified.</p>
</td>
</tr>
<tr>
<td>
<p>"GDSCERT"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Truth Value indicating whether Database block certification is currently enabled or disabled. </p>
<p>To enable or disable Database block certification, use the VIEW "GDSCERT" command.</p>
</td>
</tr>
<tr>
<td>
<p>"GVACCESS_METHOD"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>Access method of the region.</p>
</td>
</tr>
<tr>
<td>
<p>"GVFILE"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>Name of the database associated with the region.</p>
</td>
</tr>
<tr>
<td>
<p>"GVFIRST"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Name of the first database region in the current global directory; functionally equivalent to $VIEW("GVNEXT","").</p>
</td>
</tr>
<tr>
<td>
<p>"GVNEXT"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>Name of the next database region after the given one in alphabetical order (or M collation sequence); "" for region starts with the first region. A return value of "" means that the global directory defines no additional regions.</p>
</td>
</tr>
<tr>
<td>
<p>"GVSTAT"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>A read-only process cannot update the database including the database file header where GVSTATS are stored. Another process with write access to a database, such as MUPIP RUNDOWN, can flush its read statistics from the associated shared memory to GVSTATS.</p>
</td>
</tr>
<tr>
<td>
<p>"ICHITS"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Number of indirection cache hits since GT.M <span>process startup</span>.</p>
<p>Indirection cache is a pool of compiled expressions that GT.M maintains for indirection and XECUTE.</p>
</td>
</tr>
<tr>
<td>
<p>"ICMISS"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Number of indirection cache misses since GT.M <span>process startup</span>.</p>
</td>
</tr>
<tr>
<td>
<p>"JNLACTIVE"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>can return the following values:</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>-1 (internal error)</p></li>
<li class="listitem"><p>0 journaling is disabled</p></li>
<li class="listitem"><p>1 journaling is enabled but closed (OFF)</p></li>
<li class="listitem"><p>2 journaling is enabled and open (ON)</p></li>
</ul></div>
</td>
</tr>
<tr>
<td>
<p>"JNLFILE"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>Journal file name associated with the region.</p>
</td>
</tr>
<tr>
<td>
<p>"JNLTRANSACTION"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Index showing how many ZTSTART transaction fences have been opened (and not closed).</p>
</td>
</tr>
<tr>
<td>
<p>"LABELS"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Truth value showing whether label case sensitivity is ON (1 for "LOWER") or OFF (0 for "UPPER"); GT.M defaults to 1.</p>
</td>
</tr>
<tr>
<td>
<p>"LINK"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Returns the current relink recursive setting of ZLINK. </p>
</td>
</tr>
<tr>
<td>
<p>"LV_CREF"</p>
</td>
<td>
<p>local variable name (lvn)</p>
</td>
<td>
<p>returns the number of references by alias containers to the array associated with an unsubscripted local variable name specified as a second expr (for example a quoted string); it returns a zero for a variable without any associated alias container. 
</p>
</td>
</tr>
<tr>
<td>
<p>"LV_GCOL"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>returns the number of data-spaces recovered during a local variable data-space garbage collection it triggers; such collections normally happen automatically at appropriate times. </p>
</td>
</tr>
<tr>
<td>
<p>"LV_REF"</p>
</td>
<td>
<p>local variable name (lvn)</p>
</td>
<td>
<p>returns the total number of references to the data-space associated with an unsubscripted local variable name specified as a second expr (for example a quoted string).</p>
</td>
</tr>
<tr>
<td>
<p>"LVNULLSUBS"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Truth value showing whether null subscripts are permitted in local arrays (1 for "LVNULLSUBS") or not (0 for "NOLVNULLSUBS"); GT.M defaults to 1.</p>
</td>
</tr>
<tr>
<td>
<p>"NOISOLATION"</p>
</td>
<td>
<p>global</p>
</td>
<td>
<p>The current isolation-status of the specified global variable which must have a leading "^" in its specification.</p>
<p>This function returns 1 if GT.M has been instructed to not enforce the ACID property of Isolation (that is, "NOISOLATION" has been specified) and 0 otherwise.</p>
<p>By default, GT.M ensures Isolation, that is, a $VIEW command will return 0. The isolation-status of a global variable can be turned on and off by the VIEW "NOISOLATION" command.</p>
</td>
</tr>
<tr>
<td>
<p>"PATCODE"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Name of the active patcode table; GT.M defaults this to "M".</p>
</td>
</tr>
<tr>
<td>
<p>"POOLLIMIT"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>The current limit on global buffers for the region .</p>
</td>
</tr>
<tr>
<td>
<p>"PROBECRIT"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>Acquires and releases a critical section for the region (the "probe"), returning a string containing following fields, some of of which always have zero (0) values because they are no longer used:</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>CPT - nanoseconds for the probe to get the critical section
</p></li>
<li class="listitem"><p>CFN - 0</p></li>
<li class="listitem"><p>CQN - 0</p></li>
<li class="listitem"><p>CYN - 0</p></li>
<li class="listitem"><p>CQF - 0</p></li>
<li class="listitem"><p>CQE - 0</p></li>
<li class="listitem"><p>CAT - total of critical section acquisitions successes</p></li>
</ul></div>
</td>
</tr>
<tr>
<td>
<p>"REGION"</p>
</td>
<td>
<p>gvn</p>
</td>
<td>
<p>Name of the region(s) holding the specified gvn. </p>
<p>If gvn spans more than one region, this function returns region name in an order where the first region is the region to which the unsubscripted global variable name maps; and other regions are in the order in which they would be encountered by traversing the subscripts of gvn in order (with duplicates removed). </p>
<p>gvn is a subscripted or unsubscripted global variable name in the same form as that generated by $NAME(). You can use $NAME() inside $VIEW() to ensure that subscripts are in a correct form, for example, $VIEW("REGION",$NAME(^abcd(1,2E4))) instead of $VIEW("REGION","^abcd(1,20000)"). </p>
</td>
</tr>
<tr>
<td>
<p>"RTNCHECKSUM"</p>
</td>
<td>
<p>routine name</p>
</td>
<td>
<p>Source code check-sum for the most recently ZLINK'd version of the specified routine name (these check-sums use a 128 bit hash based on the MurmurHash3 algorithm). </p>
</td>
</tr>
<tr>
<td>
<p>"RTNNEXT"</p>
</td>
<td>
<p>routine name</p>
</td>
<td>
<p>Name of the next routine in the image after the given one; "" (empty string) for routinename starts with the first routine in ASCII collating sequence and a return value of the empty string indicates the end of the list.</p>
</td>
</tr>
<tr>
<td>
<p>"SPSIZE"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Returns a string with three comma separated values: Number of bytes currently allocated as process working storage: GT.M manages this space as what is commonly called a heap, and uses the term stringpool to refer to it. The GT.M garbage collector reclaims unused space from the stringpool from time to time, and GT.M automatically expands the stringpool as needed by the application program; Number of bytes currently used by the process; Number of bytes reserved: The reserved space is used to reduce the active memory usage, for example, when a process uses a large amount of memory then subsequently uses a significantly reduced amount. </p>
</td>
</tr>
<tr>
<td>
<p>"STATSHARE"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>Returns 0 when the process has sharing disabled,  1 when it has sharing enabled, and 2 when sharing is enabled selectively for regions. For a process to store statistics in the stats db, the database must be enabled for sharing and the process must have opted in to share. VIEW "STATSHARE" with no region argument enables sharing for all regions and VIEW "STATSHARE":"REGION_NAME" enables sharing selectively  for a region. $VIEW("STATSHARE","REGION_NAME") returns whether a process has opted to share statistics for a region. </p>
</td>
</tr>
<tr>
<td>
<p>"STKSIZ"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Returns the GT.M stack size in bytes. </p>
</td>
</tr>
<tr>
<td>
<p>"TOTALBLOCKS"</p>
</td>
<td>
<p>region</p>
</td>
<td>
<p>Total number of database blocks in a given region.</p>
</td>
</tr>
<tr>
<td>
<p>"TRANSACTIONID"</p>
</td>
<td>
<p>NULL </p>
<p>or</p>
<p>transaction level</p>
</td>
<td>
<p>Transaction ID specified in the particular level (when the transaction level is specified). The first level TSTART is returned if the level is not specified as second argument.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note">
<tr>
<td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>A NULL string is returned if the specified level (explicitly or implicitly) is greater than the current value of $TLEVEL.</p></td></tr>
</table></div>
</td>
</tr>
<tr>
<td>
<p>"UNDEF"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>Truth value showing whether undefined variables should be treated as having a null value (1 for "UNDEF"; 0 for "NOUNDEF"); GT.M defaults to 0.</p>
</td>
</tr>
<tr>
<td>
<p>"ZDATE_FORM"</p>
</td>
<td>
<p>none</p>
</td>
<td>
<p>
Integer value showing whether four digit year code is active for $ZDATE(); GT.M defaults to 0 (for "YY" format). Use the environment variable gtm_zdate_form to set the initial value of this factor. <span>For usage examples, refer to <a class="xref" href="ch07s33.html" title="$ZDate()">&#8220;$ZDate()&#8221;</a>. </span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p></p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Important">
<tr>
<td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="images/important.jpg"></td>
<th align="left">Important</th>
</tr>
<tr><td align="left" valign="top"><p>FIS uses the LC_CREF, LV_GCOL, LV_REF keywords in testing and is documenting them to ensure completeness in product documentation. They may (or may not) be useful during application development for debugging or performance testing implementation alternatives. </p></td></tr>
</table></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="examples_of_view_g"></a>Examples<span> of $VIEW()</span><a class="indexterm" name="idp69631776"></a>
</h3></div></div></div>
<p>Example:</p>
<pre class="programlisting">GTM&gt;Set a=1,*b(1)=a
GTM&gt;write $view("LV_CREF","a")," ",$view("LV_CREF","b")
1 0
GTM&gt;write $view("LV_REF","a")," ",$view("LV_REF","b") 
2 1
GTM&gt;</pre>
<p>This example creates an alias variable and an alias container variable and checks the number of both container references and total references to the cells associated with both a and b. </p>
<p>Example:</p>
<pre class="programlisting">GTM&gt;Set *a(1)=b,*b(1)=a
GTM&gt;kill *a,*b
GTM&gt;write $view("LV_GCOL")
2
GTM&gt;</pre>
<p>This example creates two cross associated alias containers, destroys their ancestor nodes with KILL * and uses $VIEW("LV_GCOL") to force a clean-up of the abandoned data-spaces. In the absence of the $VIEW("LV_GCOL"), GT.M would do this automatically at some subsequent convenient time. </p>
<p>Example:</p>
<pre class="programlisting">GTM&gt;write $view("GVSTAT","DEFAULT")
SET:203,KIL:12,GET:203,DTA:2,ORD:23,ZPR:21,QRY:0,LKS:0,LKF:0,CTN:44,DRD:103,DWT:59,
NTW:24,NTR:55,NBW:27,NBR:138,NR0:0,NR1:0,NR2:0,NR3:0,TTW:17,TTR:5,TRB:0,TBW:32,
TBR:80,TR0:0,TR1:0,TR2:0,TR3:0,TR4:0,TC0:0,TC1:0,TC2:0,TC3:0,TC4:0,ZTR:7,DFL:9,
DFS:0,JFL:0,JFS:0,JBB:0,JFB:0,JFW:0,JRL:0,JRP:0,JRE:0,JRI:0,JRO:0,JEX:0,DEX:0,
CAT:35,CFE:0,CFS:0,CFT:0,CQS:0,CQT:0,CYS:0,CYT:0,BTD:13
GTM&gt;</pre>
<p>These are statistics associated with the DEFAULT region. Refer to <a class="xref" href="ch06s42.html#zshow_info_codes" title="ZSHOW Information Codes">&#8220;ZSHOW Information Codes&#8221;</a> for information on the parameters.</p>
<p>Example:</p>
<p>Given the following global directory configuration:</p>
<pre class="programlisting">GDE&gt;add -name a(1:10)      -region=a1
GDE&gt;add -name a(10,1)      -region=a2
GDE&gt;add -name a(10,2)      -region=a3
GDE&gt;add -name a(120:300)   -region=a4
GDE&gt;add -name a(60:325)    -region=a5
GDE&gt; show -name
  *** NAMES ***
 Global        Region
 ------------------------------------------------------------------------------
 *             DEFAULT
 a(1:10)       A1
 a(10,1)       A2
 a(10,2)       A3
 a(60:120)     A5
 a(120:300)    A4
 a(300:325)    A5</pre>
<p>Here are some $VIEW("REGION",gvn) outputs:</p>
<pre class="programlisting">GTM&gt;write $view("REGION","^a(1)")
A1
GTM&gt;write $view("REGION","^a(10)")
DEFAULT,A2,A3
GTM&gt;w $view("REGION","^a(60)")
A5
GTM&gt;w $view("REGION","^a")
DEFAULT,A1,A2,A3,A5,A4</pre>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch07s23.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch07.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch07s25.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">$TRanslate() </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> $ZAHandle()</td>
</tr>
</table>
</div>
</body>

<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/books/pg/UNIX_manual/ch07s24.html]] -->
</html>
