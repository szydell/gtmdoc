<html>
<HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Creating and Editing a Source Program</title>
<link rel="stylesheet" href="gtm.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="GT.M Programmer's Guide">
<link rel="up" href="ch03.html" title="Chapter 3. Development Cycle">
<link rel="prev" href="ch03s03.html" title="Preparing the Database">
<link rel="next" href="ch03s05.html" title="Compiling a Source Program">
<link rel="copyright" href="ln-idm45819035664320.html" title="Legal Notice">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center"><span>Creating and Editing a Source Program</span></th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch03s03.html">Prev</a> </td>
<th width="60%" align="center">Chapter 3. <span>Development</span> Cycle</th>
<td width="20%" align="right"> <a accesskey="n" href="ch03s05.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">GT.M Programmer's Guide</a></span> &gt; <span class="breadcrumb-link"><a href="ch03.html"><span>Development</span> Cycle</a></span> &gt; <span class="breadcrumb-node"><span>Creating and Editing a Source Program</span></span>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="create_and_edit_a_src_prgrm"></a><span>Creating and Editing a Source Program</span>
</h2></div></div></div>
<p>The first step in developing a GT.M program is to create a source file. In most cases, the user can create and modify GT.M source programs using <span>UNIX</span> text editors. </p>
<p>When the program is very simple (and its lines do not need revision after they are entered), you can use the <span>cat command to direct input from your terminal to your source file.</span></p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="edit_from_gtm"></a>Editing from GT.M</h3></div></div></div>
<p>If you focus on program development outside the GT.M environment, skip <span>this section</span> and continue with the section "Editing from <span>the Shell</span>".</p>
<p>ZEDIT &lt;filename&gt;</p>
<p>Invoke Direct Mode to create and edit a source program in GT.M. At the GTM&gt; prompt, invoke the editor by typing:</p>
<p>ZEDIT &lt;filename&gt;</p>
<p>ZEDIT invokes the editor specified by the EDITOR environment variable, which creates a seperate file for each M source module.</p>
<p>The GT.M environment works most efficiently if the file has the same name as the M routine it contains, and has an .m extension. Since ZEDIT automatically defaults the.m extension, it is not necessary to specify an extension unless you require a different one. If you use another extension, you must specify that extension with every reference to the file. Multiple character file extensions are permitted for M source file names.</p>
<p>Example:</p>
<pre class="programlisting">$ /usr/lib/.fis-gtm/V5.4-002B_x86/gtm
GTM&gt;ZEDIT "payroll"</pre>
<p>This syntax uses the <span>gtm script</span> to enter GT.M from <span>the shell</span>, and uses ZEDIT to initiate an editing session on <span>payroll.m</span> Because ZEDIT defaults the extension to <span>.m</span>, it is not necessary to provide an extension. If <span>payroll.m</span> does not already exist, GT.M creates it in the first source directory identified by $ZROUTINES. If $ZROUTINES is null, ZEDIT places the source file in the process's current <span>working</span> directory.</p>
<p>$ZROUTINES is a read-write special variable containing an ordered list of directories that certain GT.M functions use to locate source and object files. Generally, a system manager sets up the environment to define the <span>environment variable gtmroutines</span>. At image invocation, GT.M initializes $ZROUTINES to the value of <span>gtmroutines</span>. Once you are running M, you can SET and refer to $ZROUTINES using the format:</p>
<pre class="programlisting">GTM&gt;SET $ZROUTINES=expr</pre>
<p>Where:</p>
<div class="itemizedlist"><ul class="itemizedlist" type="opencircle">
<li class="listitem" style="list-style-type: circle"><p>The expression may contain a list of <span>UNIX</span> directories and/or file-specifications delimited by <span>spaces</span>.</p></li>
<li class="listitem" style="list-style-type: circle"><p>The expression specifies one or more directories to search.</p></li>
<li class="listitem" style="list-style-type: circle"><p>An element of the expression contains <span>an environment variable</span> evaluating to a directory specification.</p></li>
<li class="listitem" style="list-style-type: circle"><p>If $ZROUTINES contains <span>an environment variable</span> that evaluates to a list, GT.M uses the first name in that list.</p></li>
</ul></div>
<p>For more information on $ZROUTINES, see <a class="xref" href="ch08.html" title="Chapter 8. Intrinsic Special Variables">Chapter 8: &#8220;<i><span>Intrinsic Special Variables</span></i>&#8221;</a>.</p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="Edit_from_Shell"></a>Editing from<span> the</span> Shell</h3></div></div></div>
<p>To create and edit a source program from the shell, invoke any text editor at the shell prompt and specify a UNIX file as the source. The GT.M environment works best when you give a file the name of the M routine that it contains, and an .m extension.</p>
<p>Example:</p>
<pre class="programlisting">$ vi payroll.m</pre>
<p>The vi command initiates an editing session for payroll.m from the shell prompt. If payroll.m does not already exist, vi creates it. Because this example uses UNIX rather than GT.M tools, we must specify the .m file extension.</p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch03s03.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch03s05.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Preparing the Database </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> <span>Compiling a</span> Source Program</td>
</tr>
</table>
</div>
</body>
</html>
