<html>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/applications/infohub/ch06s01.html]] -->
<HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1"><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>GT.M Monitoring</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="FIS InfoHub"><link rel="up" href="ch06.html" title="Chapter 6. Appendix B: Reference Implementations"><link rel="prev" href="ch06.html" title="Chapter 6. Appendix B: Reference Implementations"><link rel="next" href="ch06s01s01.html" title=""><link rel="copyright" href="ln-idp160629056.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">GT.M Monitoring</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch06.html">Prev</a> </td><th width="60%" align="center">Chapter 6. Appendix B: Reference Implementations</th><td width="20%" align="right"> <a accesskey="n" href="ch06s01s01.html">Next</a></td></tr></table><hr></div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="titlepage.html">FIS InfoHub</a></span> &gt; <span class="breadcrumb-link"><a href="ch06.html">Appendix B: Reference Implementations</a></span> &gt; <span class="breadcrumb-node">GT.M Monitoring</span></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="monitoring_gtm"></a>GT.M Monitoring</h2></div></div></div><p>Your InfoHub distribution comes with a GT.M Monitoring Reference Implementation that can monitor GT.M messages in the system log and GT.M databases V6.0-002 and above. It is possible to monitor any GT.M version prior to V6.0-002 with some modifications. Modifications are necessary because the format and content of file header listings, messages, and gleaning techniques vary from release to release. For example, to monitor an earlier release which lacks the $ZPEEK() function, you would have to use other techniques, such as parsing DSE output for example, with a program such as the %DSEWRAP utility.</p><p>The following table contains information about the files that are used with the GT.M Monitoring Reference Implementation. These files reside in an InfoHub installation. You can view the configuration files from the samples subdirectory of your InfoHub distribution <span> or download them from the links in the table. You can also click <a class="ulink" href="configs/GTM_Monitoring_RI.zip" target="_top"><span class="inlinemediaobject"><img src="images/downloadall.png" alt="Download GT.M Monitoring Ref Implementation"></span></a> to download all files of the GT.M Monitoring Reference Implementation together</span> or open directly from http://tinco.pair.com/bhaskar/gtm/applications/infohub/GTM_Monitoring_RI.zip. </p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p>Component</p>
              </th><th>
                <p>Name</p>
              </th><th>
                <p>Description</p>
              </th><th>
                <p>Download</p>
              </th></tr></thead><tbody><tr><td>
                <p>InfoHub Configuration File</p>
              </td><td>
                <p>
                  <code class="code">dbinstances.conf</code>
                </p>
              </td><td>
                <p>Configuration file used to configure a server. It includes InfoDict files gtmmessages.conf, gtmfields.conf,  gtmdbregions.conf and gtminstances.conf for monitoring database instances. gtmmessages.conf and gtmfields.conf are user created files and are subsets of IHRegionReplInfoDict.conf and IHGtmSyslogMessages.conf respectively. gtmdbregions.conf and gtminstances.conf are created and updated by the routine gtmConfigGenerator, described below.</p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/dbinstances.conf" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download dbinstances.conf"></span>
                  </a>
                </p>
              </td></tr><tr><td>
                <p>GT.M Sylog Messages InfoDict</p>
              </td><td>
                <p>
                  <code class="code">IHGtmSyslogMessages.conf</code>
                </p>
              </td><td>
                <p>Provides the SyslogInstances InfoDict which is used to define GT.M messages to be monitored. Use this file as the basis for gtmmessages.conf.</p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/IHGtmSyslogMessages.conf" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download IHGtmSyslogMessages.conf"></span>
                  </a>
                </p>
              </td></tr><tr><td>
                <p>Limited InfoDict of GT.M Sylog Messages</p>
              </td><td>
                <p>
                  <code class="code">sysloginstances.conf</code>
                </p>
              </td><td>
                <p>Provides a sample SyslogInstances InfoDict that defines a small subset of GT.M messages to be monitored. This is a simple starting point for testing InfoHub's syslog monitoring capabilities.</p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/IHGtmSyslogMessages.conf" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download sysloginstances.conf"></span>
                  </a>
                </p>
              </td></tr><tr><td>
                <p>Full Region and Replication InfoDict</p>
              </td><td>
                <p>
                  <code class="code">IHRegionReplInfoDict.conf</code>
                </p>
              </td><td>
                <p>Defines region and replication fields of a GT.M region and groups them in the following categories (InfoDict Domains)&#8211; <code class="code">Gdregion, Gtmrecvlocal, Gtmsourcelocal, Gtmsrclcl, Jnlpoolctl, Nodelocal, Recvpoolctl, Replinsthdr, Sgmntaddrs, Sgmntdata, Updhelperctrl,</code> and <code class="code">Updproclocal</code>. Use this file as the basis for gtmdbfields.conf.</p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/IHRegionReplInfoDict.conf" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download IHRegionReplInfoDict.conf"></span>
                  </a>
                </p>
              </td></tr><tr><td>
                <p>Full Region and Replication InfoDict</p>
              </td><td>
                <p>
                  <code class="code">dbfields.conf</code>
                </p>
              </td><td>
                <p>Defines a subset of region and replication fields of a GT.M region and groups them in the following categories (InfoDict Domains)&#8211; <code class="code">Gdregion, Gtmrecvlocal, Gtmsourcelocal, Gtmsrclcl, Jnlpoolctl, Nodelocal, Recvpoolctl, Replinsthdr, Sgmntaddrs, Sgmntdata, Updhelperctrl,</code> and <code class="code">Updproclocal</code>. This is a simple starting point for testing InfoHub's GT.M database monitoring capabilities.</p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/dbfields.conf" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download dbfields.conf"></span>
                  </a>
                </p>
              </td></tr><tr><td>
                <p>Syslog FileLine Gleaner</p>
              </td><td>
                <p>
                  <code class="code">FileLineSyslogGleaner.m</code>
                </p>
              </td><td>
                <p>A gleaner whose InfoExpr function reads /var/log/messages line-by-line and converts GT.M only messages in the form of key:value pairs and files them in the InfoHub Database. A set of GT.M version specific routines are provided (in the plugins subdirectory of the distribution) that assist the gleaner, e.g., messages60002.m. </p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/FileLineSyslogGleaner.html" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download FileLineSyslogGleaner.m"></span>
                  </a>
                </p>
              </td></tr><tr><td>
                <p>GT.M Application Instance Configuration Extraction Script</p>
              </td><td>
                <p>
                  <code class="code">gather_instance_info.sh</code>
                </p>
              </td><td>
                <p>Use this script to source your GT.M application configuration and output the relevant pieces of information to monitor the GT.M application. The output file is processed by gtmConfGenerator (described below) to generate an publisher configuration and InfoDict entries for the GT.M instance to be monitored.</p>
                <p>This standalone script does not require any part of the InfoHub to be present.</p>
                <p>The script will not extract GT.M encryption settings. Those must be defined after gtmConfGenerator generates the Publisher configuration for the GT.M application.</p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/gtmRegionConfGenerator.html" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download gather_instance_info.sh"></span>
                  </a>
                </p>
              </td></tr><tr><td>
                <p>InfoHub Configuration generator for GT.M application instances</p>
              </td><td>
                <p>
                  <code class="code">gtmConfGenerator.m</code>
                </p>
              </td><td>
                <p>Creates and/or updates InfoHub configuration files, gtmdbregions.conf and gtminstances.conf, and instance specific gleaners named IdMapFor&lt;PublisherNameHere&gt;.m. dbinstances.conf includes gtmdbregions.conf and gtminstances.conf. You should not need to edit these files by hand. After each execution of this routine, be sure to reload the InfoHub configuration file.</p>
                  <p>gtmdbregions.conf contains unique InfoDict entries for each newly discovered GT.M database region and replication instance.</p>
                  <p>gtminstances.conf contains the publisher configuration for the to be monitored GT.M application instance.</p>
                  <p>IdMapFor&lt;PublisherNameHere&gt;.m gleaners should be placed in $ihsrcdir by default. If the routine cannot find that directory, the user will be directed to copy the files there.</p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/gtmRegionConfGenerator.html" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download gtmRegionConfGenerator.m"></span>
                  </a>
                </p>
              </td></tr><tr><td>
                <p>SNMP daemon sample configuration</p>
              </td><td>
                <p>
                  <code class="code">snmpd.conf</code>
                </p>
              </td><td>
                <p>A sample configuration for the Net-SNMP daemon </p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/snmpd.conf" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download snmpd.conf"></span>
                  </a>
                </p>
              </td></tr><tr><td>
                <p>SNMP trap daemon sample configuration</p>
              </td><td>
                <p>
                  <code class="code">snmptrapd.conf</code>
                </p>
              </td><td>
                <p>A sample configuration for the Net-SNMP trap daemon  </p>
              </td><td>
                <p>
                  <a class="ulink" href="configs/snmptrapd.conf" target="_top">
                    <span class="inlinemediaobject"><img src="images/download.html" alt="Download snmptrapd.conf"></span>
                  </a>
                </p>
              </td></tr></tbody></table></div><p>The following illustration shows how the GT.M Monitoring Reference Implementation sets up an InfoHub framework for monitoring your GT.M database. </p><p>
        <span class="inlinemediaobject"><img src="images/GMRI.html" alt="GT.M Monitoring Reference Implementation setup"></span>
      </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch06.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch06.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch06s01s01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 6. Appendix B: Reference Implementations </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/applications/infohub/ch06s01.html]] -->
</html>
