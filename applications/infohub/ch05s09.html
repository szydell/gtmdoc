<html><HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1"><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Performing a GETNEXT Request (snmpgetnext)</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="FIS InfoHub"><link rel="up" href="ch05.html" title="Chapter 5. Appendix A: FIS GT.M SNMP Plugin"><link rel="prev" href="ch05s08.html" title="Performing a GET Request (snmpget)"><link rel="next" href="ch05s10.html" title="Exploring the InfoHub MIB (snmptranslate)"><link rel="copyright" href="ln-idp160629056.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Performing a GETNEXT Request (snmpgetnext) </th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05s08.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Appendix A: FIS GT.M SNMP Plugin </th><td width="20%" align="right"> <a accesskey="n" href="ch05s10.html">Next</a></td></tr></table><hr></div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="titlepage.html">FIS InfoHub</a></span> &gt; <span class="breadcrumb-link"><a href="ch05.html">Appendix A: FIS GT.M SNMP Plugin </a></span> &gt; <span class="breadcrumb-node">Performing a GETNEXT Request (snmpgetnext) </span></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="per_snmp_gennext"></a>Performing a GETNEXT Request (snmpgetnext) </h2></div></div></div><p>The snmpgetnext CLI application performs GETNEXT requests from an InfoHub SNMP module. The snmpgetnext command retrieves data that lies next to the specified objects in the order specified by the View. A typical syntax of the snmpgetnext command in the SNMP Plugin is:</p><pre class="programlisting">snmpgetnext [&lt;snmpcmd_common_options&gt;] -v2c -Oa -c &lt;communitystring&gt; [-m &lt;MIBModule(s)&gt;] OID [OID]...</pre><div class="variablelist"><dl><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>snmpcmd_common_options</strong></span>
            </code>
          </span></dt><dd><p>snmpcmd_common_options are options and agent arguments that are common to most snmp commands. For more information, refer to the man page entry for snmpcmd. </p></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>-v</strong></span>
            </code>
          </span></dt><dd><p>Specifies the SNMP protocol version. If you are using the GT.M SNMP Plugin, always specify -v2c to indicate RFCs (1901-1908) as the SNMP protocol version. For more information, refer to the man page entry for snmpcmd.</p></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>-m</strong></span>
            </code>
          </span></dt><dd><p>Specifies a colon delimited list of MIB modules. If you are using the GT.M SNMP Plugin, you would specify -m INFOHUB-1-MIB as the InfoHub MIB module. The MIB acts as a dictionary that translates mnemonics, which are typically more user-friendly, into the numeric values used in the SMNP protocol. For more information, refer to the man page entry for snmpcmd.</p></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>-c</strong></span>
            </code>
          </span></dt><dd><p>Specifies the community string for SNMP v1/v2c transactions. For more information, refer to the man page entry for snmpcmd.</p></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>-Oa</strong></span>
            </code>
          </span></dt><dd><p>Displays strings in ASCII form. For more information on the -O option, refer to the man page entry for snmpcmd. </p></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>OID</strong></span>
            </code>
          </span></dt><dd><p>OID is the object identifier of a monitored object in an MIB. If your monitored objects are in the InfoHub MIB module, you need to additional specify one of the four Views and an Object Index. A command like <code class="code">snmptranslate -m INFOHUB-1-MIB -Tp | less</code> displays a list of all objects stored in the InfoHub MIB module.  </p></dd></dl></div><p>For more information on the snmpgetnext command options, refer to the man page of the snmpgetnext command. </p><p>Examples:</p><p>
        <span class="bold"><strong>With curr View:</strong></span>
      </p><pre class="programlisting">$ snmpgetnext -v2c -c &lt;communitystring&gt; -Oa -m INFOHUB-1-MIB localhost INFOHUB-1-MIB::infohubtestMyBoxSyslogDBFILEXTcurr.0</pre><p>This example retrieves the data value of the object that lies immediately after infohubtestMyBoxSyslogDBFILEXT in the InfoHub MIB module. </p><p>
        <span class="bold"><strong>With hist View:</strong></span>
      </p><pre class="programlisting">$ snmpgetnext -v2c -c &lt;communitystring&gt; -Oa -m INFOHUB-1-MIB localhost INFOHUB-1-MIB::infohubtestMyBoxSyslogDBFILEXThist.1</pre><p>This example retrieves the predecessor (that is, hist.2) of the hist.1 value of the object infohubtestMyBoxSyslogDBFILEXThist. </p><p>
        <span class="bold"><strong>With time View:</strong></span>
      </p><pre class="programlisting">$ snmpgetnext -v2c -c &lt;communitystring&gt; -Oa -m INFOHUB-1-MIB localhost INFOHUB-1-MIB::infohubtestMyBoxSyslogGTMFataltime.`date --date "10/09/2013 19:05:00" +%s`
INFOHUB-1-MIB::infohubtestInfoHubOID = OID: INFOHUB-1-MIB::infohubtestMyBoxSyslogGTMFatalsnum.19</pre><p>This example retrieves the mnemonic OID and the sequence number of the first fatal GT.M error that was stored on Infohub after 10/09/2013 14:26:00. This View is useful in situations where you need to investigate incidents occurring around a specified time. </p><p>
        <span class="bold"><strong>With snum View:</strong></span>
      </p><pre class="programlisting">$ snmpgetnext -v2c -c &lt;communitystring&gt; -Oa -m INFOHUB-1-MIB localhost INFOHUB-1-MIB::infohubtestMyBoxSyslogGTMFatalsnum.18
INFOHUB-1-MIB::infohubtestMyBoxSyslogGTMFatalsnum.19 = STRING: "Oct  9 19:06:07 gtmnode20 GTM-SRCSRVR-INSTANCE1[14796]: %GTM-F-FORCEDHALT, Image HALTed by MUPIP STOP -- generated from 0x0000000000000000."</pre><p>This example uses the sequence number (snum.18) returned with the time View example to retrieve the data value of the next GT.M Fatal error stored on InfoHub immediately after sequence number 18. In most cases, you would use the snum View in conjunction with the time View which returns the sequence number of the monitored object's mnemonic OID. </p><p>You can also use the snmpbulkget command to display the next 10 data values of objects stored in InfoHub after sequence number 18. </p><pre class="programlisting">$ snmpbulkget -v2c -c &lt;communitystring&gt; -Oa -m INFOHUB-1-MIB localhost INFOHUB-1-MIB::infohubtestMyBoxSyslogGTMFatalsnum.18</pre><p>You can also specify -Cr20 to retrieve the next 20 data values of objects stored in InfoHub after sequence number 18. </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: AIX Notes"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td><th align="left">AIX Notes</th></tr><tr><td align="left" valign="top"><p>On AIX, you need to explicitly specify the port number for the NET-SNMP Agent since another port was assigned during installation (see the agentAddress line in snmpd.conf). A sample snmpgetnext command might look like:</p><pre class="programlisting">snmpgetnext -v2c -c &lt;communitystring&gt; -Oa -m INFOHUB-1-MIB 127.0.0.1:9716 INFOHUB-1-MIB::infohubtestMyBoxSyslogAllcurr.0</pre><p>or:</p><pre class="programlisting">snmpgetnext -v2c -c &lt;communitystring&gt; -Oa -m INFOHUB-1-MIB 127.0.0.1:1610 INFOHUB-1-MIB::infohubtestMyBoxSyslogAllcurr.0</pre></td></tr></table></div><p><span class="bold"><strong>Related Information:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="xref" href="ch05s08.html" title="Performing a GET Request (snmpget)">&#8220;Performing a GET Request (snmpget)&#8221;</a></li><li class="listitem"><a class="xref" href="ch05s10.html" title="Exploring the InfoHub MIB (snmptranslate)">&#8220;Exploring the InfoHub MIB (snmptranslate)&#8221;</a></li><li class="listitem"><a class="xref" href="ch05s11.html" title="Listening for Alerts (snmptrapd)">&#8220;Listening for Alerts (snmptrapd)&#8221;</a></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s08.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05s10.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Performing a GET Request (snmpget) </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> Exploring the InfoHub MIB (snmptranslate)</td></tr></table></div></body></html>
