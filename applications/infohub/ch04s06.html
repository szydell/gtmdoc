<html>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/applications/infohub/ch04s06.html]] -->
<HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1"><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Defining a Publisher Descriptor</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="FIS InfoHub"><link rel="up" href="ch04.html" title="Chapter 4. Configuring an InfoHub"><link rel="prev" href="ch04s05.html" title="Defining an InfoDictItem Descriptor"><link rel="next" href="ch04s07.html" title="Defining a FileLine Descriptor"><link rel="copyright" href="ln-idp160629056.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Defining a Publisher Descriptor</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s05.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Configuring an InfoHub</th><td width="20%" align="right"> <a accesskey="n" href="ch04s07.html">Next</a></td></tr></table><hr></div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="titlepage.html">FIS InfoHub</a></span> &gt; <span class="breadcrumb-link"><a href="ch04.html">Configuring an InfoHub</a></span> &gt; <span class="breadcrumb-node">Defining a Publisher Descriptor</span></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="publisher_descriptor"></a>Defining a Publisher Descriptor</h2></div></div></div><p>Information stored in an InfoHub is associated with information Publishers, each of which is specified with a Publisher descriptor. Publisher descriptors follow the InfoHub descriptor and any of its associated Environment Descriptors. While the meaning of "Publisher" is a function of a configuration and its conventions in your organization, it is appropriate for one Publisher to manage the information gathering and dissemination for one environment. This provides the PreExpr, PostExpr, and InfoExpr expressions of FileLine and PipeLine processes with an isolated environment where, if appropriate, they can communicate and cooperate with each other. </p><p>InfoHub JOBs a process for each Publisher. This process in turn JOBs processes for each FileLine or PipeLine descriptor associated with the Publisher. The Publisher process may optionally create a temporary directory before launching any processes. Within that temporary directory, it creates a global directory that maps to an unjournaled database in that temporary directory. It logs the name of the temporary directory to the InfoHub database.</p><p>The Publisher JOBs the FileLine or PipeLine processes with the following JOB Processparameters:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="italic">DEFAULT=&lt;tempPWD&gt;:</span>  points to the temporary directory.</p></li><li class="listitem"><p><span class="italic">ERROR=&lt;routine_name.infohub&gt; and OUTPUT=&lt;routine_name.infohub&gt;:</span> Point to files in the temporary directory. The InfoHub JOB framework uses VIEW "JOBPID":1 to ensure that the stderr and stdout of one child processes do not overwrite those of another.</p></li><li class="listitem"><p><span class="italic">GBLDIR=&lt;/path/to/tempPWD/Publisher.gld&gt;:</span> points to the global directory in the temporary directory.</p></li></ul></div><p>The syntax of a Publisher Descriptor is:</p><pre class="programlisting">Publisher:{InfoDictID|InfoDictName}:[PublisherName]:[PublisherID]:[APIDir]:[TempPWD]:[TempDBAlloc]:[TempDBExtend]</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="italic">InfoDictID or InfoDictName:</span> The InfoDict ID or Name for the InfoDict holding the Publisher definition. </p></li><li class="listitem"><p><span class="italic">Publisher Name:</span> The Name of the Publisher. </p></li><li class="listitem"><p><span class="italic">Publisher ID:</span> A unique 31 bit positive integer. </p><p>The descriptor must specify one, or both, of the PublisherName and PublisherID; otherwise, the configuration processing produces an IHIDORNAMEREQ error. When the descriptor specifies both the Name and ID and there is no corresponding InfoDict entry, configuration processing implicitly creates an InfoDict entry. </p><p>If the descriptor contains only PublisherName, the configuration gets PublisherID from the specified InfoDict domain. If the specified domain has no definition for the Name, InfoHub uses the last PublisherID in the database associated with PublisherName. If none exists (that is, this is a new PublisherName), the InfoHub generates a new unique random 31-bit positive integer to use (that is, PublisherID is unique for each InfoHubID), and stores the PublisherID in the database in association with the PublisherName.</p><p>If PublisherID is specified, the configuration process verifies before configuration completion that the specified InfoDict domain maps a PublisherName; if the configuration detects there is no Name for a PublisherID, it produces an IHPUBLISHERREQ error; if it detects an attempt to map multiple PublisherIDs to one Name, it produces an IHDUPPUBLISHER error. Note: the Reference Implementation SNMP sub-agent provided with the InfoHub uses PublisherID as an index in the OID for each Publisher.</p></li><li class="listitem"><p><span class="italic">APIdir:</span> A directory that holds routines with functions to process information for storage (see *Expr references below).</p><p>If APIDir for the Publisher, is not null, the Publisher sets $gtmroutines to the value of APIDir. If APIDirs is null, the Publisher process does not modify $gtmroutines. The FileLine or PipeLine inherit $gtmroutines.</p></li><li class="listitem"><p><span class="italic">TempPWD:</span> When starting, the InfoHub creates the  TempPWD directory that the information gathering XLine processes can use for cooperation and temporary storage.  This temporary private area does not persist from one invocation of InfoHub to another. The InfoHub deletes these private areas on startup. </p></li><li class="listitem"><p><span class="italic">TempDBAllocate:</span> The initial allocation of the database in TempPWD with a predetermined block size of 4KiB. If not specified, it defaults to the GT.M default for new databases. A zero value of TmpDBAlocate specifies no need to create a database. An attempt to configure an non-integer or out-of range allocation produces a IHBADALLOC error.</p></li><li class="listitem"><p><span class="italic">TempDBExtend:</span> The Extension Count of the database created in TempPWD. If not specified, it defaults to the GT.M default for new databases. A zero value of TmpDBExtend prevents the temporary database from extending. An attempt to configure an non-integer or out-of range extension produces a IHBADEXT error. </p></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip: InfoHub Internals"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Tip]" src="images/tip.jpg"></td><th align="left">InfoHub Internals</th></tr><tr><td align="left" valign="top"><p>The entryref used to start the FileLine and PipeLine processes includes a parameter for the Publisher process to pass its own global directory, which the FileLine and PipeLine processes use to record gathered information in the InfoHub and to communicate with the Publisher.</p><p>After launching FileLine and PipeLine processes, the Publisher schedules itself using HANG commands, periodically waking up to verify that its FileLine and PipeLine processes are active. During the HANG, it requires an interrupt to awaken it.</p><p>Configuration processing stores Publisher specification in the following nodes:</p><p>^InfoHubConf(InfoHubID,"Publishers",PublisherID,BeginningSequenceNumber)&#8203;=EndingSequenceNumber]:&#8203;InfoDictID:&#8203;[APIDir]:&#8203;[TmpPWD]:&#8203;[TmpDBAlloc]:&#8203;[TmpDBExtend]</p></td></tr></table></div><p>Example:</p><pre class="programlisting">Publisher:SystemDict:System:::publishers/ihsyslog:1000:1000</pre><p>This example configures a Publisher called System. This example is a part of the SimpleMonitor.conf configuration file in the ULFM Reference Implementation.</p><p><span class="bold"><strong>Related Information:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="xref" href="ch04s03.html" title="Defining an Env Descriptor">&#8220;Defining an Env Descriptor&#8221;</a></li><li class="listitem"><a class="xref" href="ch04s08.html" title="Defining a PipeLine Descriptor">&#8220;Defining a PipeLine Descriptor&#8221;</a></li><li class="listitem"><a class="xref" href="ch04s07.html" title="Defining a FileLine Descriptor">&#8220;Defining a FileLine Descriptor&#8221;</a></li><li class="listitem"><a class="xref" href="ch04s11.html" title="Writing an xLine Gleaner">&#8220;Writing an xLine Gleaner&#8221;</a></li><li class="listitem"><a class="xref" href="ch04s04.html" title="Defining an InfoDict Domain Descriptor">&#8220;Defining an InfoDict Domain Descriptor&#8221;</a></li><li class="listitem"><a class="xref" href="ch04s05.html" title="Defining an InfoDictItem Descriptor">&#8220;Defining an InfoDictItem Descriptor&#8221;</a></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s05.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Defining an InfoDictItem Descriptor </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> Defining a FileLine Descriptor</td></tr></table></div></body>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/applications/infohub/ch04s06.html]] -->
</html>
