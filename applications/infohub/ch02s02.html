<html><HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1"><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>InfoHub Concepts</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="FIS InfoHub"><link rel="up" href="ch02.html" title="Chapter 2. FIS InfoHub"><link rel="prev" href="ch02s01.html" title="InfoHub Overview"><link rel="next" href="ch03.html" title="Chapter 3. InfoHub Tasks"><link rel="copyright" href="ln-idp160629056.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">InfoHub Concepts</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s01.html">Prev</a> </td><th width="60%" align="center">Chapter 2. FIS InfoHub </th><td width="20%" align="right"> <a accesskey="n" href="ch03.html">Next</a></td></tr></table><hr></div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="titlepage.html">FIS InfoHub</a></span> &gt; <span class="breadcrumb-link"><a href="ch02.html">FIS InfoHub </a></span> &gt; <span class="breadcrumb-node">InfoHub Concepts</span></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configuration_file_ih"></a>InfoHub Concepts</h2></div></div></div><p>This section explains InfoHub concepts and roles of all components of InfoHub. </p><div class="variablelist"><dl><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>InfoHub Configuration File</strong></span>
            </code>
          </span></dt><dd><p>An InfoHub Configuration File contains line entries for descriptors that configure an InfoHub. Each descriptor starts with a case-insensitive keyword that defines a type. Descriptors also typically contain Names and IDs. A Name is case-sensitive and must start with an alphabetic character; it can contain up to 32 alpha-numeric characters. An ID is a 31 bit positive integer.</p></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>InfoHub Descriptor</strong></span>
            </code>
          </span></dt><dd><p>An InfoHub descriptor is generally the first non-comment line of an InfoHub Configuration File. It establishes the ID and/or Name of the InfoHub to which the Configuration File applies. </p><p>Especially in a world of cloud-based computing, systems are ephemeral, but data gleaned from monitoring them often has long-term value and will require storage beyond the lifetime of individual systems.  As the InfoHubID is the first level key used to store information in an InfoHub database.  Giving each InfoHub a distinct key simplifies merging data from multiple InfoHubs into a database without changing first level keys.  If ID is unspecified for a new InfoHubName, InfoHub assigns a random ID at creation time.  FIS recommends using a random ID for each new InfoHub.</p><p>The syntax of an InfoHub Descriptor is:</p><pre class="programlisting">InfoHub:[InfoHubName][:InfoHubID]</pre></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>InfoDict Descriptor</strong></span>
            </code>
          </span></dt><dd><p>The InfoHub InfoDict is an information dictionary for data stored in an InfoHub. InfoDict Descriptors describe the relationships between InfoHub components. There are two types of InfoDict Descriptors &#8211; InfoDict Domain and InfoDict Item. An InfoDict Domain has a Descriptor called InfoDict and groups a category of components into a name space. An InfoDict Domain can have multiple parent Domains and can also be the parent of multiple child Domains.</p><p>An InfoDict Item has a Descriptor called InfoDictItem. An InfoDict Item is a named object within an InfoDict Domain. By default, every Item in an InfoDict Domain has a path to all the Items in any Domain that name it as a parent. If a domain has a parent that contains an item with an ID and Name that match its own ID and Name, only the matching item in the parent domain has a path to the items in the child domain. For example, if a domain D contains items A, B and X, and a second domain C names D as a parent and contains items J and K, the configuration has paths A-&gt;J, A-&gt;K, B-&gt;J, B-&gt;K, X-&gt;J and X-&gt;K; if there is a third domain X with an ID that matches the ID of the X item in D, names D as a parent and contains items P and Q the configuration also has paths X-&gt;P and X-&gt;Q. </p><p>In the following illustration, gray and light blue boxes represent InfoDict Items and the rest represent InfoDict Domains. You associate InfoDict Items with an element or a collection of elements you want to monitor. You typically create an InfoHub framework by associating InfoHub components including Publishers, PipeLine Processors, FileLine Processors, and Subscriptions with InfoDict Domains and Items. The association of InfoDict Domains/Items with InfoHub components/monitoring elements is a matter of configuration and conventions in your organization. The following example shows:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>An InfoHub called Simple Monitor.</p></li><li class="listitem"><p>InfoDict Items with msg, Days, Load01, Load05, and Load15 to describe monitored information.</p></li><li class="listitem"><p>A Publisher with System to mange information gathering.</p></li><li class="listitem"><p>A PipeLine processor with UpTime to monitor process output (Days, Load01, Load05, and Load15) of the <code class="code">uptime</code> command. </p></li><li class="listitem"><p>FileLine processors called AuthLog and OpLog to monitor messages (msg) in authentication log (/var/log/auth.log) and system log (/var/log/messages).</p></li><li class="listitem"><p>Subscriptions called GTMErr, AuthFail, PatchMe, and DontBeLazy each to watch a specified condition and send notifications to Subscribers. For example, a condition such as <code class="code">msg["Fail"</code> could help Monitoring Management determine the occurrence of a failed login attempt.  </p></li><li class="listitem"><p>A Reporting Adaptor with Monitoring Management that uses the GTMErr, AuthFail, PatchMe, and DontBeLazy Subscriptions and also, on request, gathers other data from System Monitor to report information. Additionally, the diagram shows Monitoring Management as a reporting adaptor that interfaces with other Monitors, using other components in the same InfoHub or other InfoHubs, and their Subscriptions to aggregate information across multiple systems. </p></li></ul></div><p>
              <span class="inlinemediaobject"><img src="http://tinco.pair.com/bhaskar/gtm/doc/applications/infohub/images/domdict1.png" alt="InfoDict GT.M monitoring example"></span>
            </p><p>The bold text starting from Simple Monitor towards System up to Load01 denotes one Path. </p><p>This illustration is conceptual and merely describes at a high-level how InfoHub uses InfoDicts. In the real world, you would create InfoDict hierarchy and Paths according to your monitoring requirements, your conventions, and nuances of the business processes in your organization. </p><p>The syntax of an InfoDict Domain Descriptor is:</p><pre class="programlisting">InfoDict:InfoDictName:[InfoDictID][:{ParentInfoDictID | ParentInfoDictName}]</pre><p>The syntax of an InfoDict Item Descriptor is:</p><pre class="programlisting">InfoDictItem:{InfoDictID | InfoDictName}:ItemName:[InfoDictItemID]:[Label]:[Type][:ItemDescription]</pre></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>Publisher Descriptor</strong></span>
            </code>
          </span></dt><dd><p>Manages the FileLine and PipeLine processes gathering information for a particular environment. </p><p>The syntax of an Env Descriptor is:</p><pre class="programlisting">Publisher:Publisher:{InfoDictID|InfoDictName}:[PublisherName]:[PublisherID]:[APIDir]:[TempPWD]:[TempDBAlloc]:[TempDBExtend]</pre></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>Env Descriptor</strong></span>
            </code>
          </span></dt><dd><p>Manages the environment provided to information gathering processes. Depending on its position in the configuration file, an Env descriptor can be associated with the InfoHub itself (that is, common to all Publishers), or it can be associated with a specific Publisher, which applies it to any PipeLine processing for that Publisher. </p><p>The syntax of an Env Descriptor is:</p><pre class="programlisting">Env:EnvVarName[=[Value]][,,,,]</pre></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>FileLine Descriptor</strong></span>
            </code>
          </span></dt><dd><p>A FileLine descriptor defines the monitoring of a text file. The Publisher master process JOBs a FileLine process which reads the monitored file, line by line, executing a GT.M extrinsic function invocation for each line read to gather per-line information. The FileLine process waits for and reads lines from the monitored file (behavior equivalent to a tail -f). <span>The InfoDict Descriptor illustration associates OpLog and AuthLog  each with a FileLine. </span></p><p>The syntax of a FileLine Descriptor is:</p><pre class="programlisting">FileLine:{InfoDictID | InfoDictName}:FileLineName:[FileLineID]:{PublisherID | PublisherName}:/path/to/Filename:[CheckCycle]:[Timeout]:[PieceSeparator]:[PreExpr]:[InfoExpr]:[PostExpr]</pre></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>PipeLine Descriptor</strong></span>
            </code>
          </span></dt><dd><p>A PipeLine Descriptor defines the aspects of monitoring output from a process. The monitored process can be a GT.M (any version) process or any other UNIX process. The Publisher master process JOBs a PipeLine process which OPENs a PIPE device using the configured command and READs its stdout and/or stderr line by line, feeding each one to the gleaner extrinsic function configured as InfoExpr. The InfoExpr gleaner sub-routine performs any processing of the raw input from the PIPE into zero or more key:value pairs ready for filing by the PipeLine process in the InfoHub database. The PipeLine can also be configured with a PreExpr and/or a PostExpr. <span>The InfoDict illustration associates the InfoDict Name UpTime with a PipeLine. </span></p><p>The syntax of a PipeLine Descriptor is:</p><pre class="programlisting">PipeLine:{InfoDictID | InfoDictName}:PipeLineName:[PipeLineID]:{PublisherID | PublisherName}:PipeCmd:[PipeCycle]:[Timeout]:[PieceSeparator]:[PreExpr]:[InfoExpr]:[PostExpr]</pre></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>xLine Gleaner</strong></span>
            </code>
          </span></dt><dd><p>An xLine Gleaner implements the PreExpr (optional), InfoExpr and PostExpr (optional) used in the FileLine and PipeLine. The gleaner performs any processing of each raw input line from the file into zero or more key:value pairs ready for filing by the xLine process in the InfoHub database. The xLine process checks each key returned by the gleaner extrinsic function to see that it's configured, and files it if it is or discards it if it isn't. The xLine can also be configured to invoke a PreExpr, that might perform any appropriate initialization when it first starts and a PostExpr that might provide summary information when it shuts down. PreExpr and PostExpr can return zero or more key:value pairs to the xLine base routine. Typically, you use a FileLine Gleaner for active monitoring of a text file and a PipeLine Gleaner for any formatting of information returned by the PIPE coprocess.</p></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>Include Descriptor</strong></span>
            </code>
          </span></dt><dd><p>An Include Descriptor specifies a file that contains additional descriptors, and permits different organizations of descriptors, such as by type or target environment. </p><p>The syntax of an Include Descriptor is:</p><pre class="programlisting">Inc:Include:FilePathSpecification</pre></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>Subscriber Descriptor</strong></span>
            </code>
          </span></dt><dd><p>The InfoHub alerts a Subscriber when a configured condition occurs. A Subscriber can monitor multiple Subscriptions. <span>In the InfoDict illustration, an example for a Subscriber is Monitoring Management which gets alerted when a configured condition such as <code class="code">msg["Fail"</code> occurs.</span> Subscribers provide reactive and passive monitoring where there is a need to react when a Subscription condition occurs. </p><p>The syntax of a Subscriber Descriptor is:</p><pre class="programlisting">Subscriber:{InfoDictID | InfoDictName}:[SubscriberName]:[SubscriberID]</pre><p>For more information, see "Reporting Adaptor".</p></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>Subscription Descriptor</strong></span>
            </code>
          </span></dt><dd><p>A Subscription watches for a condition in an InfoDict Item to send alerts to its Subscribers. The condition is specified using a GT.M binary operator (excluding concatenation and non-relational arithmetic operators) or the (case-insensitive) text "NoInfo". The GT.M binary operator condition can be used to establish several monitoring conditions including setting thresholds, detecting changes in the value of the InfoDict item, and so on. A Subscription can have multiple Subscribers and also apply to multiple Publishers.</p><p>"Noinfo" detects a period during which the specified InfoDict Item receives no new data. It is used for monitoring the lack of activity on an InfoDict Item.  <span>The InfoDict illustrations associate PatchMe, DontbeLazy, GTMError, and AuthFail with a Subscription because they watch a specified condition (for example, <code class="code">Load15&lt;1</code>).</span> </p><p>The syntax of a Subscription Descriptor is:</p><pre class="programlisting">Subscription:{InfoDictID | InfoDictName}:SubscriptionName:[SubscriptionID]:{InfoDictID | InfoDictName}:{InfoDictItemID | InfoDictItemName}:Condition:[Value]:[Period]:[entryref]:[SubscriberID,...]:[PublisherID,...]</pre></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>Reporting Adaptor</strong></span>
            </code>
          </span></dt><dd><p>A Reporting Adaptor generates reports from the data gathered in InfoHub. A Reporting Adaptor is not a part of the InfoHub core product. The relationship between an InfoHub and an Adaptor is of two types &#8211; Subscriber and Query. A Reporting Adaptor has a Subscriber relationship when it registers with an InfoHub to receive alerts from Subscriptions. A Reporting Adaptor has a Query relationship with InfoHub when it looks at data at its own initiative. A Reporting Adaptor may have a Subscriber, Query, or Subscriber and Query relationship with an InfoHub. These relationships are described in the Overview section. The InfoHub Reference Implementation includes a ready-to-use SNMP Reporting Adaptor for sending aggregated data using an SNMP sub-agent via the Internet standard AgentX protocol (RFC 2741) for report presentation. <span>The InfoDict illustration, Monitoring Management, uses a Reporting Adaptor.</span> You can use a Reporting Adaptor for both proactive monitoring, to access data from InfoHub, as well as for reactive monitoring, in response to an alert to a Subscriber from InfoHub.  Although a Subscribers must be registered with InfoHub, proactive monitoring can be transparent to InfoHub. </p><p>The syntax of a Subscriber Descriptor is:</p><pre class="programlisting">Subscriber:{InfoDictID | InfoDictName}:[SubscriberName]:[SubscriberID]</pre></dd><dt><span class="term">
            <code class="filename">
              <span class="bold"><strong>Configuration Processing</strong></span>
            </code>
          </span></dt><dd><p>An InfoHub Configuration File must cover all existing configuration to be retained or modified as well as any new configuration. Configuration processing disables any preexisting item(s) omitted by a new file, but does not purge its configuration (or its related data). You can purge information in the InfoHub that is older than a specified time. </p><p>The following aspects are common to all InfoHub Configuration Files:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>InfoHub configuration files are descriptive, line-oriented, ASCII or UTF-8 text files. If you use UTF-8 characters outside the ASCII subset in the configuration files, InfoHub itself must run in UTF-8 mode.</p></li><li class="listitem"><p>Leading and trailing whitespace (tab or space) is ignored.</p></li><li class="listitem"><p>Lines starting with two forward slashes ("//"), as well as blank lines, are comment lines. </p></li><li class="listitem"><p>Names (such as a PublisherName) start with an alphabetic character, followed by zero to 31 ASCII alphanumeric characters. Except where otherwise explicitly stated, InfoHub uses case-sensitive Names. Attempting to use a Name that does not meet these parameters produces an IHBADNAME error.</p></li><li class="listitem"><p>IDs (such as a PublisherID) are positive (non-zero) canonical GT.M integers; attempting to use zero (0) for an ID produces an IHZEROIDINVALID error; attempting to use a non-integer or out-of-range ID produces an IHIDINVALID error. Configuration processing supplies IDs for items specified by Name, but without an ID. Allowing the configuration processing to generate random IDs for items such as Publishers makes it easier to move existing information between InfoHub databases with almost no likelihood of conflict. You should make an explicit choice of ID under the following circumstances:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>The gleaner needs to coordinate with the configuration - for example the GT.M monitoring reference implementation use gather_instance_info.sh and gtmConfGenerator.m to generate unique InfoDictItems for the databases and instance names in a GT.M instance.</p></li><li class="listitem"><p>You have multiple Subscribers subscribing to different Subscriptions - Subscriptions associate with Subscribers by ID. </p></li><li class="listitem"><p>You have multiple Publishers producing Subscriptions in overlapping, but non-identical sets - Subscriptions associate with Publishers by ID.</p></li></ul></div></li><li class="listitem"><p>Attempting to configure a descriptor with an unrecognized type produces an IHBADDESCTYPE error.</p></li><li class="listitem"><p>Reading the same Configuration File repeatedly is a no-op.</p></li><li class="listitem"><p>While the first colon (:) is frequently required, other trailing colon delimiters are optional, although for simplicity the descriptor syntax definitions technically appear to require them. Attempting to configure a descriptor with too many colon (:) delimiters produces an IHEXTRADELIM error - this attempts to guard against inadvertent use of embedded delimiters.</p></li><li class="listitem"><p>Fields shown as optional may not be optional under all conditions - for example: while both Name and ID may be optional, typically you must supply at least one of them, and, for a  pattern match (?) or NoInfo condition, Value is not required (actually not accepted), for other conditions, it is required.</p></li></ul></div><p>The InfoHub process parses and applies the Configuration File. The presence of even one error in the Configuration File or any associated Include files prevents the configuration process from loading its specifications at all and from recording their contents. In order to facilitate rapid debugging of Configuration files, the configuration process attempts to continue processing after it detects most errors, which can produce ancillary or duplicate errors. The configuration process records the fact that it read and either accepted or rejected the Configuration File.</p></dd></dl></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">InfoHub Overview </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 3. InfoHub Tasks</td></tr></table></div></body></html>
