<html><HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1"><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Operating an InfoHub</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="FIS InfoHub"><link rel="up" href="ch03.html" title="Chapter 3. InfoHub Tasks"><link rel="prev" href="ch03s01s05.html" title="InfoHub Product Routines and Reference Implementations"><link rel="next" href="ch03s03.html" title="Loading a Configuration File"><link rel="copyright" href="ln-idp160629056.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Operating an InfoHub</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s01s05.html">Prev</a> </td><th width="60%" align="center">Chapter 3. InfoHub Tasks</th><td width="20%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr></table><hr></div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="titlepage.html">FIS InfoHub</a></span> &gt; <span class="breadcrumb-link"><a href="ch03.html">InfoHub Tasks</a></span> &gt; <span class="breadcrumb-node">Operating an InfoHub</span></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="infohub_operate"></a>Operating an InfoHub</h2></div></div></div><p>You can interact with InfoHub from the shell and from within GT.M. To interact with an InfoHub from the shell, the general command is:</p><pre class="programlisting">$gtm_dist/mumps -run InfoHub --action=&lt;Action&gt; [--&lt;Action_parameters&gt;[=values]...] [--infohub=InfoHubID|InfoHubName] [--gbldir=/path/to/globaldirectory]</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>&lt;Action&gt; is one of the following: configure, extract, jobexam, purge, restart, rundown, start, status, shutdown, usage, version, or list. The default action is status.</p></li><li class="listitem"><p>[--&lt;Action_parameters&gt;[=values]...] depends on the selected &lt;Action&gt;.</p></li><li class="listitem"><p>An InfoHub database can store multiple InfoHubs and there can be multiple databases each holding multiple InfoHubs. You can perform administration operations on only one InfoHub with any given command. The InfoHub command line interface provides the optional --infohub and --gbldir arguments to select an InfoHub. You can provide either or both these arguments to select an InfoHub. Even if these two arguments are not specified, the InfoHub logic tries using the current $zgbldir (initialized from the gtmgbldir environment variable) to select the InfoHub that was last configured for the global directory. </p></li><li class="listitem"><p>--gbldir is an optional argument that specifies the path of the global directory for the InfoHub database. If the argument specifies a relative path, the InfoHub API automatically converts it to an absolute path. An absolute path is necessary for two reasons. First, InfoHub uses the global directory as a possible means to unambiguously identify an InfoHub when a command does not specifically identify one. Second, because they run in a temporary directory, InfoHub JOB'd processes typically need an absolute path to the global directory.</p><p>Use the --gbldir argument when your shell environment has a different setting for the environment variable gtmglbdir or when you want to select between different InfoHub database views. </p></li><li class="listitem"><p>--infohub is an optional argument that specifies the InfoHub ID or InfoHub Name of an InfoHub. Use this argument when you need to perform administration operations for a specific InfoHub when a database holds more than one InfoHub. </p></li><li class="listitem"><p>Configuration processing stores the last global directory used to configure each InfoHub. If --infohub is not specified but $ZGBLDIR points to an InfoHub database, the InfoHub CLI automatically tries to determine an InfoHub by matching the absolute path in $ZGBLDIR, which could be set from either the gtmgbldir environment variable or the --gbldir argument, with one last used for an existing InfoHub. </p></li><li class="listitem"><p>If neither --infohub nor --gbldir is specified and there is no default InfoHub for the current $ZGBLDIR, configuration processing tries to select an InfoHub ID using the InfoHub Descriptor entry. If it does not find an InfoHub in the Descriptor entry, it automatically generates a random InfoHub Name and InfoHub ID for a new InfoHub. </p></li><li class="listitem"><p>To select an InfoHub, in most cases you would use --infohub to specify the InfoHub Name or InfoHubID or let the InfoHub API determine it automatically from the InfoHub Descriptor. </p></li></ul></div><p>To interact with an InfoHub from within GT.M, invoke an entryref like:</p><pre class="programlisting">&lt;Action&gt;^InfoHub(InfoHubID[,values])</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>While the shell command line interface automatically assigns suitable default options/values,the InfoHub API entry points require specified values. </p></li><li class="listitem"><p>InfoHubID specifies the numeric ID of an InfoHub. API users must convert InfoHub Names to numeric IDs.</p></li><li class="listitem"><p>All &lt;Action&gt; entry points in InfoHub API produce output to $IO. Future enhancement may remove this functionality.</p></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip: InfoHub Internals"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Tip]" src="images/tip.jpg"></td><th align="left">InfoHub Internals</th></tr><tr><td align="left" valign="top"><p>^InfoHubConf("GlobalsDirs",$zgbldir) contains the ID of the most recently configured InfoHub. </p><p>With a few exceptions, e.g the Actions is "status", "list", or "configure", the underlying mechanism for taking action on an existing InfoHub is to place information in the ^InfoHubActivity global and signal the InfoHubMain service process to invoke its $ZINTERRUPT, which in turn causes it to look in ^InfoHubActivity for instructions on which to act. The action initiating process returns to the operator once it sees an acknowledgement that the InfoHubMain service has taken over the action. Although FIS plans to maintain stability of the published CLI in future releases of InfoHub, without prior notice, FIS may change the underlying mechanism within any InfoHub release.</p><p>When starting an InfoHub from the shell command line or from GT.M using the appropriate entryref, the InfoHubMain launches with a JOB command, and control returns to the invoking process once the InfoHub has successfully launched.</p></td></tr></table></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip: InfoHub API"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Tip]" src="images/tip.jpg"></td><th align="left">InfoHub API</th></tr><tr><td align="left" valign="top"><p>More details about the InfoHub API are also documented in the file InfoHub/InfoHub.m. Comments before each entryref describe the input parameters and their types.</p></td></tr></table></div><p><span class="bold"><strong>Related Information:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="xref" href="ch03s01.html" title="Installing InfoHub">&#8220;Installing InfoHub&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s03.html" title="Loading a Configuration File">&#8220;Loading a Configuration File&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s04.html" title="Listing all InfoHubs">&#8220;Listing all InfoHubs&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s05.html" title="Extracting a Configuration File">&#8220;Extracting a Configuration File&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s06.html" title="Starting an InfoHub">&#8220;Starting an InfoHub&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s07.html" title="Monitoring (Checking) an InfoHub">&#8220;Monitoring (Checking) an InfoHub&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s08.html" title="Restarting an InfoHub">&#8220;Restarting an InfoHub&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s09.html" title="Shutting down an InfoHub">&#8220;Shutting down an InfoHub&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s10.html" title="Rundown an InfoHub">&#8220;Rundown an InfoHub&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s11.html" title="Troubleshooting (Debugging) an InfoHub">&#8220;Troubleshooting (Debugging) an InfoHub&#8221;</a></li><li class="listitem"><a class="xref" href="ch03s12.html" title="Purging an InfoHub">&#8220;Purging an InfoHub&#8221;</a></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s01s05.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">InfoHub Product Routines and Reference Implementations  </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> Loading a Configuration File</td></tr></table></div></body></html>
