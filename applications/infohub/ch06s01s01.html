<html>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/applications/infohub/ch06s01s01.html]] -->
<HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1"><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title></title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="FIS InfoHub"><link rel="up" href="ch06s01.html" title="GT.M Monitoring"><link rel="prev" href="ch06s01.html" title="GT.M Monitoring"><link rel="next" href="ch06s02.html" title="FileLineSyslogGleaner Operation"><link rel="copyright" href="ln-idp160629056.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch06s01.html">Prev</a> </td><th width="60%" align="center">GT.M Monitoring</th><td width="20%" align="right"> <a accesskey="n" href="ch06s02.html">Next</a></td></tr></table><hr></div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="titlepage.html">FIS InfoHub</a></span> &gt; <span class="breadcrumb-link"><a href="ch06.html">Appendix B: Reference Implementations</a></span> &gt; <span class="breadcrumb-link"><a href="ch06s01.html">GT.M Monitoring</a></span> &gt; <span class="breadcrumb-node"></span></div><div class="sect2"><div class="titlepage"></div><p>
        <span class="bold"><strong>To install the GT.M Monitoring Reference Implementation, perform the following steps:</strong></span>
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Install InfoHub and create an InfoHub database. For more information, refer to <a class="link" href="ch03s01.html" title="Installing InfoHub">Installing InfoHub</a>.</p></li><li class="listitem"><p>Install the FIS GT.M SNMP Plugin. For installation instructions and prerequisites, refer to <a class="link" href="ch05s03.html" title="Installing the SNMP Plugin">Installing the SNMP Plugin</a>.</p></li><li class="listitem"><p>Change to the InfoHub configs directory.</p></li><li class="listitem"><p>Open a new terminal session and execute gather_instance_info.sh passing it as a parameter the environment configuration of the GT.M database you want to monitor.</p><pre class="programlisting">/path/to/inofhub/samples/gather_instance_info.sh /path/to/gtm/instance/env_file &gt; someinstance1.out</pre><p>Please ensure that you generate only one file per instance. Do not concatentate these files into one.</p></li><li class="listitem"><p>Open a new terminal session and source environment of the InfoHub and configure the new instance using the output file from above</p><pre class="programlisting">$gtm_dist/mumps -run gtmConfGenerator someinstance1.out</pre><p>Follow the prompts to create a new configuration, modify an existing configuration or create a new configuration as a copy of another configuration. Copies will acquire the Publisher configuration of the original configuration will all of the InfoDict IDs changed for the new configuration.</p></li><li class="listitem"><p>Copy all desired files from samples/IHRegionReplInfoDict.conf into configs/gtmfields.conf</p><p>Copy all desired files from samples/IHGtmSyslogMessages.conf into configs/gtmmessages.conf or remove the "Include" directive from dbinstances.conf</p></li><li class="listitem"><p>Copy all desired files from samples/IHRegionReplInfoDict.conf into configs gtmfields.conf</p><p>Review the new configuration files as there may be some editing needed (use your favorite editor). If the global directory uses environment variables, add Env: directives for them. In the gather_instance_info.sh output file, e.g. someinstance1.out, look under the "GlobalDirectory" section for environment variables. If all of the environment variables share a common prefix, for example, "SCAU_DB_", then running env|grep SCAU_DB_*|sort may be helpful in gathering the environment variables and their corresponding values. If the global directory uses relative paths when referencing the database file(s), add an Env:IHCD directive containing the path to the start of the relative paths. Make sure that the gtmroutines entry includes InfoHub's PipeCmd directory.</p><p>After each execution og gtmConfGenerator, load dbinstances.conf. This loads all newly generated IDs into the InfoHub so that subsequent executions of gtmConfGenerator can avoid re-using them.</p><pre class="programlisting">$gtm_dist/mumps -run InfoHub --action=configure --file=dbinstances.conf</pre><p>The next several steps are based upon using dbinstances.conf with the generated configuration files and port 161 for the port where the SNMP daemon listens (see the agentAddress line in snmpd.conf). Please adjust accordingly.</p></li><li class="listitem"><p>Execute the following command to and start InfoHub.</p><pre class="programlisting">$gtm_dist/mumps -run InfoHub --action=start</pre><p>For more information, refer to <a class="link" href="ch03s03.html" title="Loading a Configuration File">Loading a Configuration File</a> and <a class="link" href="ch03s06.html" title="Starting an InfoHub">Starting an InfoHub</a>.</p></li><li class="listitem"><p>Execute the following command to generate the MIB.</p><pre class="programlisting">$gtm_dist/mumps -run generatemib &gt;INFOHUB-1-MIB</pre></li><li class="listitem"><p>Execute the following command to start the M SNMP Plugin using Subscriber Id 9. Note that the SNMP Subscriber Descriptor (entry starting with <code class="code">Subscriber:</code>) in server1.conf specifies 9 as the Subscriber Id.</p><pre class="programlisting">$gtm_dist/mumps -run IHsnmp --action=start --plugin=9</pre><p>For more information, refer to <a class="link" href="ch05s05.html" title="Starting the SNMP Plugin">Starting the SNMP Plugin</a>.</p></li><li class="listitem"><p> Execute the following command to see the most recent GT.M SysLog message.</p><pre class="programlisting">
snmpget -v2c -c $communitystring -M +$PWD -m INFOHUB-1-MIB -Oaq 127.0.0.1:161 infohubtestserver1syslogSyslogGTMcurr.0
</pre><p> Execute the following command to see the next ten most recent GT.M SysLog messages in reverse chronological order.</p><pre class="programlisting">
snmpbulkget -v2c -c $communitystring -M +$PWD -m INFOHUB-1-MIB -Oaq 127.0.0.1:161 infohubtestserver1syslogSyslogGTMhist.0
</pre><p> Execute the following command to see the most recent values for the first ten items from database "db1"'s "UBG" region.</p><pre class="programlisting">
snmpbulkget -v2c -c $communitystring -M +$PWD -m INFOHUB-1-MIB -Oaq 127.0.0.1:161 infohubtestdb1RegReplFetchUBGGdregRnamecurr.0
</pre></li><li class="listitem"><p>Execute the following commands to check the status of InfoHub and the SNMP Plugin:</p><pre class="programlisting">$gtm_dist/mumps -run InfoHub --action=status </pre><pre class="programlisting">$gtm_dist/mumps -run IHsnmp --action=status --plugin=9</pre><p>For more information, refer to <a class="link" href="ch03s07.html" title="Monitoring (Checking) an InfoHub">Monitoring an InfoHub</a> and <a class="link" href="ch05s06.html" title="Monitoring (Checking) an SNMP Plugin">Monitoring the SNMP Plugin</a>.</p></li><li class="listitem"><p>Congratulations! Your GT.M Monitoring Reference Implementation is now installed .</p></li></ol></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch06s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch06s01.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch06s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">GT.M Monitoring </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> FileLineSyslogGleaner Operation</td></tr></table></div></body>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/applications/infohub/ch06s01s01.html]] -->
</html>
