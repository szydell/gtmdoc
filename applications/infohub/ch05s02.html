<html>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/applications/infohub/ch05s02.html]] -->
<HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1"><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>SNMP Plugin Overview</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="FIS InfoHub"><link rel="up" href="ch05.html" title="Chapter 5. Appendix A: FIS GT.M SNMP Plugin"><link rel="prev" href="ch05s01.html" title="Prerequisites"><link rel="next" href="ch05s03.html" title="Installing the SNMP Plugin"><link rel="copyright" href="ln-idp160629056.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">SNMP Plugin Overview</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05s01.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Appendix A: FIS GT.M SNMP Plugin </th><td width="20%" align="right"> <a accesskey="n" href="ch05s03.html">Next</a></td></tr></table><hr></div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="titlepage.html">FIS InfoHub</a></span> &gt; <span class="breadcrumb-link"><a href="ch05.html">Appendix A: FIS GT.M SNMP Plugin </a></span> &gt; <span class="breadcrumb-node">SNMP Plugin Overview</span></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="snmpoverview"></a>SNMP Plugin Overview</h2></div></div></div><p>The FIS GT.M SNMP Plugin is a ready-to-use subagent that makes information from InfoHub available for monitoring via SNMP. It uses the Internet standard (RFC-2741) AgentX protocol to communicate with an SNMP Master Agent. Because FIS tests the SNMP Plugin with Net-SNMP (<a class="ulink" href="http://www.net-snmp.org/" target="_top"> http://www.net-snmp.org</a>) as the SNMP Master Agent, Net-SNMP is <span class="emphasis"><em>Supported</em></span> and other SNMP Master Agents are <span class="emphasis"><em>Supportable</em></span> but not <span class="emphasis"><em>Supported</em></span>.</p><p>The SNMP Plugin is a Reporting Adaptor that has both Query and Subscriber relationships with InfoHub. <span>The following diagram illustrates how the SNMP Plugin interacts with InfoHub to handle requests for data retrieval and notifications from an SNMP environment. </span></p><p>
        <span class="inlinemediaobject"><img src="images/snmpoverview.html" alt="SNMP Plugin in SNMP environment"></span>
      </p><p>A data retrieval request initiated from CLI applications such as snmpget/snmpgetnext goes to the Master SNMP Agent using the SNMP protocol. The Master SNMP Agent uses the AgentX protocol to communicate the request to the SNMP Plugin which uses its Query relationship with InfoHub to retrieve the requested data and sends it to back to the Master SNMP Agent. CLI applications such as snmptrapd set up a listener for receiving notifications. When a configured condition occurs on InfoHub, the SNMP Plugin uses its Subscriber relationship to obtain notification details and sends them to the SNMP Master Agent which then sends it to the listener waiting for notifications. </p><p>In an SNMP environment, data values are organized in a tree structure called an MIB (Management Information Base). The MIB hierarchy starts with a nameless root and extends to specific areas of information. Typically, an organization has several MIB modules connected hierarchically with each other. Each object is addressed using a fully qualified OID starting from the nameless root.  An OID can be represented in numeric or mnemonic form. A fully qualified OID in numeric form looks like:</p><pre class="programlisting">.1.3.6.1.4.1.16830.6.2.1.2.1.1482247793.1.314.0</pre><p>The same OID in mnemonic form might looks like:</p><pre class="programlisting">.iso.org.dod.internet.private.enterprises.fis.profile.gtm.infohub.profile1curr.uatenv1curr.syslogcurr.SyslogAllcurr.0</pre><p>The following diagram illustrates the fully qualified OID .1.3.6.1.4.1.16830.6.2.1.2.1.1482247793.1.314.0  in an MIB that contains an InfoHub MIB module sub-tree. The numeric forms are enclosed in brackets ().  </p><p>
        <span class="inlinemediaobject"><img src="images/oiddiagram.html" alt="InfoDict GT.M monitoring example"></span>
      </p><p>The non-white boxes represent the OID sub-subtree in the InfoHub MIB module. In the illustration, the InfoHub MIB module hierarchy starts from 16830.6.2 where:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>fis (16830) identifies the enterprise FIS. </p></li><li class="listitem"><p>profile (6) identifies the FIS Profile product. Within FIS, all OIDs below .16830.6. are reserved for use by the FIS Profile family of products. </p></li><li class="listitem"><p>gtm (2) identifies GT.M. OIDs below 16830.6.2 are for sub-trees of InfoHubs. The depth of each InfoHub OID sub-tree can vary depending on its InfoHub Configuration File. </p></li><li class="listitem"><p>infohub (1) represents the level for InfoHubs. </p></li><li class="listitem"><p>profile1curr (2) represents the current View of an instance of one InfoHub. </p></li><li class="listitem"><p>uatenv1curr(1482247793) represents the current View of the Publisher. </p></li><li class="listitem"><p>syslogcurr (1) represents the current View of the FileLine Gleaner for the system log. </p></li><li class="listitem"><p>SyslogAllcurr (15037) is a grouping that represents all messages filed in the system log. </p></li></ul></div><p>InfoHub maintains the current and historic data values of monitored elements in the form of Views. InfoHub provides four Views &#8211; curr, hist, time, and snum. Views are different ways of looking at the current and historic data values of an object. A View is like a filter applied on an object to narrow down to only those data values that you want to see from an InfoHub. Every object under an InfoHub has four stems each representing a View. All objects under a stem have the same View Name as the suffix. The last (leaf) node of each stem is the monitored object for which you need to specify a parameter called an Object Index. </p><p>The objective of stemming of the same object into four Views is to comply with the namespace restriction that all individual pieces of an OID in an MIB to be unique. The non-white boxes in the OID illustrate a fully qualified mnemonic OID of the most recent (curr) object stored on the system log and the curved connectors denote stemming into Views. Notice how each object under .profilecurr has the curr suffix and the leaf node requires specifying an Object Index<sup>[<a name="idp161377776" href="#ftn.idp161377776" class="footnote">2</a>]</sup>. </p><p>To obtain the current or historic data of any monitored element, you need to perform a GET request (refer to "Performing a GET Request") for either the fully qualified OID as illustrated in the OID diagram or just the leaf node (for example, .infohubprofile1uatenv1SyslogAllcurr.0). </p><p>The four Views are as follows:</p><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
                <p>View Name (mnemonic suffix)</p>
              </th><th>
                <p>Object Index</p>
              </th><th>
                <p>Description </p>
              </th></tr></thead><tbody><tr><td>
                <p>curr</p>
              </td><td>
                <p>0</p>
              </td><td>
                <p>The curr View provides the latest recorded data value of an object. The curr View can take only 0 as the Object Index. 0 indicates the current value. For example, a GET request for the infohubprofile1uatenv1SyslogGTMcurr.0 object retrieves its current. </p>
              </td></tr><tr><td>
                <p>hist</p>
              </td><td>
                <p>0..n</p>
              </td><td>
                <p>The hist View provides a succession of data values that were stored for an object. It can take 0 to n as the Object Index where 0 is the latest recorded value and n is a prior ancestor. n is always in reverse chronological order. hist.0 is the latest and hist.1 is the value that was stored immediate before hist.0. The hist View always returns data values relative to the latest recorded information, that is, hist.0 value becomes hist.1 as soon as it gets replaced with a new value. </p>
                <p>Assuming no new items arrive between the two GETs, hist.0 and curr.0 for the same OID return the same information - that is: the latest recorded data value.</p>
              </td></tr><tr><td>
                <p>snum</p>
              </td><td>
                <p>1..s</p>
              </td><td>
                <p>The snum View provides the data value of an object based on the sequence number that InfoHub used for storing in the database. The data value returned with the snum View can be used as a starting point to identify values stored after a sequence number. For example, a GETNEXT request for infohubprofile1uatenv1SyslogGTMsnum.358153 retrieves the data value that InfoHub stored using the sequence number 358154. </p>
                <p>The time View relies on the snum View. </p>
                <p>Note that once the sequence number of the data value of a monitored element is set, it does not change even when that element gets purged or gets succeeded with a new data value. On the other hand, the curr and hist Views change whenever a new data value is set for an element. Always bear in mind the distinction between curr/hist and snum/time Views when you retrieve a data value based on the OID returned with a notification. </p>
              </td></tr><tr><td>
                <p>time</p>
              </td><td>
                <p>t</p>
              </td><td>
                <p>The time View returns the mnemonic OID and its sequence number stored on Infohub at the time specified with t. t is the time is seconds since the last UNIX epoch. For example, if an administrator is investigating an incident that occurred around 11/01/2013 14:26:00, the value of t in infohubprofile1uatenv1SyslogGTMtime.t should be specified as: `date --date "11/01/2013 14:26:00" +%s` </p>
                <p>It is important to note that t is not the actual time of the incident but of the time when the information was stored on InfoHub.</p>
                <p>This time View example returns mnemonic OID and sequence number like infohubprofile1uatenv1SyslogGTMsnum.358153 which can be used with a series of GET and GETNEXT requests to retrieve data values stored around the time t. </p>
                <p>While the time View provides granularity up to one second, the snum View provides in-depth granularity by retrieving data values based the sequence in which they were stored on the InfoHub. </p>
              </td></tr></tbody></table></div><p><span class="bold"><strong>Related Information:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="xref" href="ch05s03.html" title="Installing the SNMP Plugin">&#8220;Installing the SNMP Plugin&#8221;</a></li></ul></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.idp161377776" href="#idp161377776" class="para">2</a>] </sup>Only for the last leaf node.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Prerequisites </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> Installing the SNMP Plugin</td></tr></table></div></body>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/applications/infohub/ch05s02.html]] -->
</html>
