<html><HEAD><META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1"><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Defining a Subscriber Descriptor</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="titlepage.html" title="FIS InfoHub"><link rel="up" href="ch04.html" title="Chapter 4. Configuring an InfoHub"><link rel="prev" href="ch04s08.html" title="Defining a PipeLine Descriptor"><link rel="next" href="ch04s10.html" title="Defining a Subscription Descriptor"><link rel="copyright" href="ln-idp160629056.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Defining a Subscriber Descriptor</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s08.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Configuring an InfoHub</th><td width="20%" align="right"> <a accesskey="n" href="ch04s10.html">Next</a></td></tr></table><hr></div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="titlepage.html">FIS InfoHub</a></span> &gt; <span class="breadcrumb-link"><a href="ch04.html">Configuring an InfoHub</a></span> &gt; <span class="breadcrumb-node">Defining a Subscriber Descriptor</span></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configure_subscriber"></a>Defining a Subscriber Descriptor</h2></div></div></div><p>While the InfoHub database is available to any reader for asynchronous access without a need to be identified in the Configuration File, an InfoHub can also notify a reader when InfoHub data has a characteristic specified in a Subscription (see "Defining a Subscription"). For example, the Reference Implementation SNMP sub-agent uses this technique to generate SNMP traps without an asynchronous external request or polling. While most of the InfoHub works independently of any adapters, in order to perform asynchronous alerts or notifications, it requires some context for the Subscriber adapters. The syntax of the Subscriber Descriptor is:</p><pre class="programlisting">Subscriber:{InfoDictID | InfoDictName}:[SubscriberName]:[SubscriberID]</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="italic">InfoDictID or InfoDictName:</span> The InfoDict ID or Name of the InfoDict holding the Subscriber definition.</p></li><li class="listitem"><p><span class="italic">SubscriberName</span>: The name of the Subscriber.  </p></li><li class="listitem"><p><span class="italic">SubscriberID:</span> A unique 31-bit positive integer that uniquely identifies a subscriber.   </p><p>The descriptor may specify neither, one, or both, of SubscriberName and SubscriberID. When the descriptor specifies both the Name and ID and there is no corresponding InfoDict entry, configuration processing implicitly creates an InfoDict entry. If the Configuration File specifies the same ID for more than one Subscriber associated with a Publisher, the configuration processing produces an IHDUPSUBSCRBR error. If configuration processing finds the Name missing, it generates an eight-character Name using random alphanumeric ASCII characters.</p><p>If SubscriberName is specified, the configuration gets SubscriberID from the specified InfoDict domain. If the specified domain has no definition for the Name, the InfoHub configuration process generates a new unique random 31-bit positive integer to use (that is, SubscriberID is unique for each InfoHubID), and stores it in the InfoDict domain in association with the SubscriberName. To use the default notification mechanism, an adapter process capable of reporting alerts must register its PID in ^InfoHubActivity using its SubscriberID.</p></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip: InfoHub Internals"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Tip]" src="http://tinco.pair.com/bhaskar/gtm/doc/applications/infohub/images/tip.jpg"></td><th align="left">InfoHub Internals</th></tr><tr><td align="left" valign="top"><p>When a Subscription detects an alert condition it queues the item (with a timestamp) under ^InfoHubInfo(InfoHubId,"Alerts") and INTRPTs all Subscribers attached to that Subscription. The Subscriber adapter process handles the queued alert item and KILLs its descendant node at its Subscriber ID; if there are no more Subscriber descendant nodes, it KILLs the queued item.</p><p>Configuration stores Subscriber specifications in the following node:</p><p>^InfoHubConf(InfoHubID,"Subscribers",SubscriberID,BeginningSequenceNumber)=&#8203;[EndingSequenceNumber]:&#8203;InfoDictID:SubscriberName</p></td></tr></table></div><p>Example:</p><pre class="programlisting">Subscriber:Reporters:SNMP:404
Subscriber:Reporters:NAGIOS:503</pre><p>This example configures two subscribers&#8211;SNMP and NAGIOS. This example is a part of SimpleMonitor.conf in the ULFM Reference Implementation.</p><p><span class="bold"><strong>Related Information:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="xref" href="ch04s10.html" title="Defining a Subscription Descriptor">&#8220;Defining a Subscription Descriptor&#8221;</a></li><li class="listitem"><a class="xref" href="ch04s04.html" title="Defining an InfoDict Domain Descriptor">&#8220;Defining an InfoDict Domain Descriptor&#8221;</a></li><li class="listitem"><a class="xref" href="ch04s05.html" title="Defining an InfoDictItem Descriptor">&#8220;Defining an InfoDictItem Descriptor&#8221;</a></li><li class="listitem"><a class="xref" href="http://tinco.pair.com/bhaskar/gtm/doc/applications/infohub/ch05s11.html" title="Listening for Alerts (snmptrapd)">&#8220;Listening for Alerts (snmptrapd)&#8221;</a></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s08.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s10.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Defining a PipeLine Descriptor </td><td width="20%" align="center"><a accesskey="h" href="titlepage.html">Home</a></td><td width="40%" align="right" valign="top"> Defining a Subscription Descriptor</td></tr></table></div></body></html>
