<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/articles/GTM_V5.0-000D_Supplementary_Information.html]] -->
<head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>
      GT.M Supplementary Information</title><link rel="stylesheet" href="e-novative_article.html" type="text/css"></link><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"></meta><meta name="description" content="     
                
                    
                    
                        
                        GT.M Group
                        Fidelity National Information Services, Inc.
                        2 West Liberty Boulevard, Suite 300
                        Malvern, PA  19355, 
                        United States of America
                     
                        
                        
                        
                        
                        
                        GT.M Support: +1 (610) 578-4226 
                        Switchboard: +1 (610) 296-8877 
                        Fax: +1 (484) 595-5101
                        http://www.fis-gtm.com
                        gtmsupport@fnf.com
                    
                    
                    
                "></meta></head><body><div class="article" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="id878146"></a>
      <a id="return_to_top"></a>GT.M Supplementary Information</h1></div><div><h3 class="subtitle"><i>Supplementary Information - GT.M Version 5.0-000D</i></h3></div><div><p class="copyright">Copyright (C) 2006 Fidelity National Information Services, Inc.</p></div><div><div xmlns="" align="center"><a href="legalnotice.html" target="_blank">Legal Notice</a></div></div><div><p class="pubdate">May 12, 2006</p></div><div><div xmlns="" class="revhistory"><table border="1" align="center" width="70%" summary="Revision history"><tr><th align="left" valign="top" colspan="2"><b>Revision History</b></th></tr><tr><td align="left">Revision 1.1</td><td align="left">03 May 2006</td></tr><tr><td align="left">Revision 1.0</td><td align="left">6 September 2005</td></tr></table></div></div><div><div class="abstract"><p class="title"><b></b></p><p>     
                <div class="informaltable"><table border="0" width="100%"><colgroup><col></col><col></col></colgroup><tbody><tr><td align="left" valign="top">
                    <p>
                    <div class="address"><p><br></br>
                        <p></p><br></br>
                        GT.M Group<br></br>
                        Fidelity National Information Services, Inc.<br></br>
                        <span class="street">2 West Liberty Boulevard, Suite 300</span><br></br>
                        <span class="city">Malvern, </span><span class="state">PA </span><span class="postcode"> 19355, </span><br></br>
                        <span class="country">United States of America</span><br></br>
                     </p></div>
                        </p>
                        </td><td align="left" valign="top">
                        <p>
                        <div class="address"><p><br></br>
                        <p></p><br></br>
                        <span class="phone">GT.M Support: +1 (610) 578-4226</span> <br></br>
                        <span class="phone">Switchboard: +1 (610) 296-8877 </span><br></br>
                        <span class="fax">Fax: +1 (484) 595-5101</span><br></br>
                        <a href="http://www.fis-gtm.com/" target="_top">http://www.fis-gtm.com</a><br></br>
                        <a href="mailto:gtmsupport@fnf.com" target="_top">gtmsupport@fnf.com</a><br></br>
                    </p></div>
                    </p>
                    </td></tr></tbody></table></div>
                </p></div></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#id878806">Miscellaneous Information</a></span></dt><dd><dl><dt><span class="sect2"><a href="#id878483">M-Database Access</a></span></dt><dt><span class="sect2"><a href="#id879219">M-Other Than Database Access</a></span></dt><dt><span class="sect2"><a href="#id880372">Utilities-MUPIP</a></span></dt><dt><span class="sect2"><a href="#id880696">Utilities-Other Than MUPIP</a></span></dt></dl></dd><dt><span class="sect1"><a href="#id880122">Typographical Conventions</a></span></dt></dl></div><div class="sect1" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id878146">Return to top</a></p><div><h2 class="title"><a id="id878806"></a>Miscellaneous Information</h2></div></div></div><p></p><p>This section details the salient information pertaining to database access, non-database access and utilities in GT.M V5.0-000. You should go through this comprehensive list before you read the information pertaining to other specific areas (listed in the subsequent sections).</p><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id878146">Return to top</a></p><div><h3 class="title"><a id="id878483"></a>M-Database Access</h3></div></div></div><p></p><div class="blockquote"><blockquote class="blockquote"><table class="simplelist" border="0" summary="Simple list"><tr><td><a href="#ch.hi.id.2">C9B03-001658</a></td></tr><tr><td><a href="#ch.hi.id.3">C9B10-001744</a></td></tr><tr><td><a href="#ch.hi.id.4">C9B10-001765</a></td></tr><tr><td><a href="#ch.hi.id.5">C9B10-001766</a></td></tr><tr><td><a href="#ch.hi.id.6">C9B11-001817</a></td></tr><tr><td><a href="#ch.hi.id.7">C9C08-002109</a></td></tr><tr><td><a href="#ch.hi.id.8">C9E11-002656</a></td></tr><tr><td><a href="#ch.hi.id.9">C9E11-002663</a></td></tr><tr><td><a href="#ch.hi.id.10">S9C04-002087</a></td></tr><tr><td><a href="#ch.hi.id.11">S9E11-002507</a></td></tr></table></blockquote></div><div class="itemizedlist"><ul><li><p><a id="ch.hi.id.2"></a>The use of the 
            <span class="emphasis"><em>^%gbldef</em></span> function is not supported while journaling (or replication) is enabled as it corrupts the journal file; this will be addressed in a future release. The workaround is to perform 
            <span class="emphasis"><em>^%gbldef</em></span> actions with journaling off. (C9B03-001658) </p></li><li><p><a id="ch.hi.id.3"></a>Unexpected results may be encountered on using a two argument 
            <span class="emphasis"><em>$ORDER()</em></span>, where both the arguments contain global references. The workaround is to avoid global references in the second argument of any 
            <span class="emphasis"><em>$ORDER()</em></span> that has a global variable in the first argument, possibly by placing the second value in a local variable. This will be addressed in a future release. (C9B10-001744) </p></li><li><p><a id="ch.hi.id.4"></a>A two argument 
            <span class="emphasis"><em>$ORDER()</em></span> where the second argument contains an extrinsic function that creates or deletes a node that is proximate to the first argument may return a result that reflects the state before the change performed by the extrinsic. The workaround is to avoid extrinsic functions that operate on local or global arrays in the second argument of any 
            <span class="emphasis"><em>$ORDER()</em></span>, possibly by placing the second value in a local variable. This will be addressed in a future release. (C9B10-001765) </p></li><li><p><a id="ch.hi.id.5"></a>An intrinsic function that contains extrinsic functions in its arguments that pass a local variable name by reference, and the local variable or its descendents are used in other arguments (of the intrinsic function), may not evaluate according to the standard. The workaround is avoid extrinsic functions that pass by reference arguments embedded in intrinsic functions. (C9B10-001766) </p></li><li><p><a id="ch.hi.id.6"></a>GT.M Journaling currently does not behave gracefully in the case when there is no room in the disk containing the journal file and might result in closing journaling for that database file. This will be addressed in a future release. (C9B11-001817) </p></li><li><p><a id="ch.hi.id.7"></a>GT.M currently treats all segments whose file specification is of the form 
            <span class="emphasis"><em>VOLUMESET::UCI</em></span> (access method USER) as remote DDP segments, even if the VOLUMESET is served by the GT.CM DDP server running on the local node. A GT.M client access to a global residing in such a 
            <span class="emphasis"><em>VOLUMESET</em></span> generates 
            <span class="emphasis"><em>GTM-E-NOCONNECT</em></span> error. The work around is to map locally residing globals to local files, and not to a 
            <span class="emphasis"><em>VOLUMESET::UCI</em></span> pair. [OpenVMS] (C9C08-002109) </p></li><li><p><a id="ch.hi.id.8"></a>
            <span class="emphasis"><em>TSTART</em></span> may abnormally terminate the process if there are more than 4 variables specified in the list of preserved locals [OpenVMS] (C9E11-002656). </p></li><li><p><a id="ch.hi.id.9"></a>If 
            <span class="emphasis"><em>^gvn1</em></span> and 
            <span class="emphasis"><em>^gvn2</em></span> have two different alternative collation (act) settings, 
            <span class="emphasis"><em>MERGE ^gvn2=^gvn1</em></span> does not work correctly. The subscripts of the source global may not be transformed according to the destination collation setting before placing them in the destination global (C9E11-002663). </p></li><li><p><a id="ch.hi.id.10"></a>Fenced transactions using 
            <span class="emphasis"><em>ZTSTART/ZTCOMMIT</em></span> are not supported in a replicated environment. Though the primary system will successfully process the fenced transaction, the secondary system (specifically, the update process) will not recognize and process such transactions received from the primary. There are no plans to support 
            <span class="emphasis"><em>ZTStart/ZTCommit</em></span> with replication. (S9C04-002087) </p></li><li><p><a id="ch.hi.id.11"></a>GT.M does not compile a routine containing more than 4096 [AIX, HPUX, Tru64 Unix, OpenVMS] or 16384 [Linux, Solaris] unique local variable names. If a routine contains more local names than this limit, GT.M will terminate with a GTMASSERT error. Note that this restriction does not apply for local variable names used in indirection code. The workaround is to break the large routine into the several smaller routines containing fewer local names or use indirection. (S9E11-002507) </p></li></ul></div></div><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id878146">Return to top</a></p><div><h3 class="title"><a id="id879219"></a>M-Other Than Database Access</h3></div></div></div><p></p><div class="blockquote"><blockquote class="blockquote"><table class="simplelist" border="0" summary="Simple list"><tr><td><a href="#ch.hi.id.12">C9B03-001662</a></td></tr><tr><td><a href="#ch.hi.id.13">C9B04-001673</a></td></tr><tr><td><a href="#ch.hi.id.14">C9B10-001767</a></td></tr><tr><td><a href="#ch.hi.id.15">C9C04-001965</a></td></tr><tr><td><a href="#ch.hi.id.16">C9C04-001974</a></td></tr><tr><td><a href="#ch.hi.id.17">C9C05-001988</a></td></tr><tr><td><a href="#ch.hi.id.18">C9C05-001992</a></td></tr><tr><td><a href="#ch.hi.id.19">C9C11-002180</a></td></tr><tr><td><a href="#ch.hi.id.20">C9C11-002181</a></td></tr><tr><td><a href="#ch.hi.id.21">C9C11-002183</a></td></tr><tr><td><a href="#ch.hi.id.22">C9E02-002513</a></td></tr><tr><td><a href="#ch.hi.id.23">C9E02-002521</a></td></tr><tr><td><a href="#ch.hi.id.24">C9E02-002526</a></td></tr><tr><td><a href="#ch.hi.id.25">C9E11-002667</a></td></tr><tr><td><a href="#ch.hi.id.26">C9E11-002669</a></td></tr><tr><td><a href="#ch.hi.id.27">C9E12-002678</a></td></tr><tr><td><a href="#ch.hi.id.28">C9F02-002701</a></td></tr><tr><td><a href="#ch.hi.id.29">C9F03-002711</a></td></tr><tr><td><a href="#ch.hi.id.30">S9F03-002537</a></td></tr><tr><td><a href="#ch.hi.id.31">S9606-000216</a></td></tr><tr><td><a href="#ch.hi.id.32">S9911-001425</a></td></tr><tr><td><a href="#ch.hi.id.33">S9C09-002229</a></td></tr><tr><td><a href="#ch.hi.id.34">S9F01-002524</a></td></tr><tr><td><a href="#ch.hi.id.35">S9F01-002526</a></td></tr><tr><td><a href="#ch.hi.id.36">S9F03-002532</a></td></tr><tr><td><a href="#ch.hi.id.37">S9F04-002544</a></td></tr></table></blockquote></div><div class="itemizedlist"><ul><li><p><a id="ch.hi.id.12"></a>The 
            <span class="emphasis"><em>TSTART</em></span> command arguments and post-conditionals are not reevaluated during a 
            <span class="emphasis"><em>TRESTART</em></span>, as specified by the standard. (C9B03-001662) </p></li><li><p><a id="ch.hi.id.13"></a>As a performance optimization, GT.M "short-circuits" boolean evaluations, bypassing strict left-to-right evaluation, once a result is determined. This behavior is invisible to the application except in the case of extrinsic functions, where execution of an extrinsic used in a boolean expression may be bypassed. To avoid short-circuit evaluation, place extrinsic functions that should always be evaluated first in the expression (where possible), or evaluate them and store the result into local variables which are then used in the boolean evaluation. (C9B04-001673) </p></li><li><p><a id="ch.hi.id.14"></a>A two argument 
            <span class="emphasis"><em>$GET()</em></span> where the first argument is defined and the second argument is a global reference, does not update the naked indicator to reflect the reference in the second argument. The workaround is to avoid the use of the naked reference after a 
            <span class="emphasis"><em>$GET()</em></span> with a global reference in the second argument. This will be addressed in a future release. (C9B10-001767) </p></li><li><p><a id="ch.hi.id.15"></a>Versions starting with V4.2-000 are unable to read responses to the 
            <span class="emphasis"><em>"What file: "</em></span> prompt on the initiating terminal when a 
            <span class="emphasis"><em>mumps -run</em></span> does not include a routine name on the command line. This will be addressed in a future release. [UNIX] (C9C04-001965) </p></li><li><p><a id="ch.hi.id.16"></a>In OpenVMS, error messages longer than 255 characters are truncated. This is most likely to happen with long file specifications - a possible workaround is to shorten file names and paths. This will be addressed in a future release. [OpenVMS] (C9C04-001974) </p></li><li><p><a id="ch.hi.id.17"></a>For 
            <span class="emphasis"><em>SOCKET</em></span> devices, certain attributes (
            <span class="emphasis"><em>WIDTH, LENGTH, [NO]WRAP, EXCEPTION, FILTER, IPCHSET, OPCHSET</em></span>) and certain status information (
            <span class="emphasis"><em>$KEY, $DEVICE, $X, $Y, $ZEOF, $ZA, $ZB</em></span>) apply to the device and are inappropriately shared if there are multiple sockets associated with the device. This will be addressed in a future release. (C9C05-001988) </p></li><li><p><a id="ch.hi.id.18"></a>Combining a string of indirection operators with nested indirection in certain combinations does not operate in conformance with the standard; this will be addressed in a future release. The workaround is to avoid such complex constructs. (C9C05-001992) </p></li><li><p>In UNIX, the 
            <span class="emphasis"><em>STARTUP</em></span> jobparameter cannot currently be used as documented to define environment variables for the M process. This will be fixed in a future release. [UNIX] (C9C07-002091) </p></li><li><p><a id="ch.hi.id.19"></a>Attempts to remove the stack level immediately above a Direct Mode frame with a 
            <span class="emphasis"><em>QUIT</em></span> may not work. The workaround is to use 
            <span class="emphasis"><em>ZGOTO</em></span> in these cases. (C9C11-002180) </p></li><li><p><a id="ch.hi.id.20"></a>Some errors that should cause GT.M to terminate with a fatal error may result in the process entering Direct Mode. For example, a 
            <span class="emphasis"><em>GTM-E-STACKCRIT</em></span> error while executing 
            <span class="emphasis"><em>$ZTRAP</em></span> leaves GT.M in direct mode. In general, such errors in 
            <span class="emphasis"><em>$ZTRAP</em></span> should cause GT.M to terminate instead of entering direct mode. (C9C11-002181) </p></li><li><p><a id="ch.hi.id.21"></a>If a second error occurs after an error that occurred while 
            <span class="emphasis"><em>$ETRAP</em></span> was in effect and before resetting $ECODE, GT.M always removes a stack level, as described by the standard. In a future release, if 
            <span class="emphasis"><em>$ZTRAP</em></span> is in effect at the level, GT.M will use 
            <span class="emphasis"><em>$ZTRAP</em></span> behavior, which does not implicitly remove a stack level. This will create more choices for designers, and make integration and conversion between 
            <span class="emphasis"><em>$ZTRAP</em></span> and 
            <span class="emphasis"><em>$ETRAP</em></span> easier to manage. (C9C11-002183) </p></li><li><p><a id="ch.hi.id.22"></a>
            <span class="emphasis"><em>TRUNCATE</em></span> deviceparameter with 
            <span class="emphasis"><em>USE</em></span> command does not work correctly. It prints spurious 
            <span class="emphasis"><em>NULL (\000)</em></span> characters before the first line it prints. [Linux] (C9E02-002513). </p></li><li><p><a id="ch.hi.id.23"></a>If there is an error while closing a file once, a subsequent 
            <span class="emphasis"><em>OPEN</em></span> of the same file by the same GT.M process fails with an error 
            <span class="emphasis"><em>GTM-E-VARRECBLKSZ</em></span>. (C9E02-002521) </p></li><li><p><a id="ch.hi.id.24"></a>If a Terminal I/O device has 
            <span class="emphasis"><em>WRAP</em></span> enabled, the 
            <span class="emphasis"><em>WRITE</em></span> may not reset 
            <span class="emphasis"><em>$Y</em></span> to 
            <span class="emphasis"><em>0</em></span> for a single line that wraps even if 
            <span class="emphasis"><em>$Y</em></span> reaches the virtual page size (i.e. 
            <span class="emphasis"><em>LENGTH</em></span> deviceparameter) of the terminal. [UNIX] (C9E02-002526) </p></li><li><p>
            <span class="emphasis"><em><a id="ch.hi.id.25"></a>$QUERY()</em></span> on global variables using the default GT.M null subscript collation does not work if the last subscript specified in the global variable is a null subscript. This problem exists only when the default GT.M collation is used for the null subscript which collates between numeric and string subscripts. The workaround is to use the standard collation for the null subscript which collates before all other subscripts. See the 
            <a href="GTM_Null_Subscripts.html" class="olink">GT.M Null Subscripts Technical Bulletin</a> for details on enabling standard collation for null subscripts. (C9E11-002667)</p></li><li><p><a id="ch.hi.id.26"></a>
            <span class="emphasis"><em>ZGOTO</em></span> with an indirect entry reference argument (i.e. 
            <span class="emphasis"><em>ZGOTO level:@entryref</em></span> where entryref is of the form 
            <span class="emphasis"><em>"lab^rtn"</em></span>) fails with an 
            <span class="emphasis"><em>LABELMISSING</em></span> error even if the label is available in the specified routine (C9E11-002669).</p></li><li><p><a id="ch.hi.id.27"></a>If a routine of more than 31 characters long is auto-compiled by 
            <span class="emphasis"><em>auto-ZLINK</em></span> or 
            <span class="emphasis"><em>ZLINK</em></span>, GT.M doesn't truncate the object file to the maximum routine length (31 characters). This would cause any subsequent 
            <span class="emphasis"><em>auto-ZLINK</em></span> to fail locating the object file. The workaround is to precompile the long routine names explicitly by the mumps compiler before 
            <span class="emphasis"><em>auto-ZLINK</em></span> attempts to compile. (C9E12-002678)</p></li><li><p><a id="ch.hi.id.28"></a>The 64-bit descriptors passed to the user-defined alternate collation routines 
            <span class="emphasis"><em>gtm_ac_xform_1()/gtm_ac_xback_1()</em></span> may contain incorrect values for 
            <span class="emphasis"><em>dsc64$w_mbo</em></span> and 
            <span class="emphasis"><em>dsc64$l_mbmo</em></span> fields. Usage of these fields either in the collation routines or when passed to the system routines may result in unpredictable behavior. [OpenVMS] (C9F02-002701)</p></li><li><p><a id="ch.hi.id.29"></a>For a 
            <span class="emphasis"><em>SOCKET</em></span> device, if 
            <span class="emphasis"><em>DELIMITER</em></span> device parameter is specified (say in the 
            <span class="emphasis"><em>OPEN</em></span> command, or a 
            <span class="emphasis"><em>USE</em></span> command) and later in a 
            <span class="emphasis"><em>USE</em></span> command if 
            <span class="emphasis"><em>NODELIMITER</em></span> is specified, and 
            <span class="emphasis"><em>WRAP</em></span> is enabled for the device (default), GT.M may write invalid characters on the output socket pipe when exactly 
            <span class="emphasis"><em>WIDTH</em></span> (or an exact multiple of 
            <span class="emphasis"><em>WIDTH</em></span>) number of characters have been written already, and the next character is output. (C9F03-002711)</p><p>For example:</p><pre class="programlisting">
O NIO:(CONNECT=IP_":"_SOCK_":TCP":ATTACH="client",DELIMITER=$C(13,10)):TO:"SOCKET" 
U NIO:(WIDTH=80:NODELIMITER)    ; WIDTH set to 80 and delimiter turned off 
WRITE $J("A",80)        ; exactly WIDTH characters written 
WRITE "A"               ; this WRITE might output invalid characters on the socket pipe NIO 
                                            </pre><p>The workaround is to 
            <span class="emphasis"><em>WRITE #</em></span> every 
            <span class="emphasis"><em>WIDTH</em></span> characters</p><p>On OpenVMS, for a 
            <span class="emphasis"><em>SOCKET</em></span> device, if 
            <span class="emphasis"><em>WRAP</em></span> is enabled for the device (default), and 
            <span class="emphasis"><em>NODELIMITER</em></span> is specified, or 
            <span class="emphasis"><em>DELIMITER</em></span> is not specified in the 
            <span class="emphasis"><em>OPEN</em></span> or 
            <span class="emphasis"><em>USE</em></span> command, GT.M incorrectly issues an error when exactly 
            <span class="emphasis"><em>WIDTH</em></span> (or an exact multiple of 
            <span class="emphasis"><em>WIDTH</em></span>) number of characters have been written already, and the next character is output.</p><p>For example:</p><pre class="programlisting">
O NIO:(CONNECT=IP_":"_SOCK_":TCP":ATTACH="client"):TO:"SOCKET" 
U NIO:(WIDTH=80:IOERROR="TRAP") 
WRITE $J("A",80)        ; exactly WIDTH characters written 
WRITE "A"               ; this WRITE will fail with an error 
                        ; %GTM-E-SOCKWRITE, Write to a TCP/IP socket failed 
                        ; -GTM-I-TEXT, invalid argument 
                                            </pre><p>After this error is issued, every 
            <span class="emphasis"><em>WRITE</em></span> will cause the same error, and so, nothing is sent to the process waiting at the other end of the socket pipe.</p><p>The workaround is to 
            <span class="emphasis"><em>WRITE #</em></span> every 
            <span class="emphasis"><em>WIDTH</em></span> characters.[OpenVMS] </p></li><li><p><a id="ch.hi.id.30"></a>GT.M implements numerics to 18 significant digits. A non-canonical number of more than 18 significant digits is treated as a string.  A canonical number is truncated at 18 significant digits. The following example illustrates where GT.M does not adhere to these rules. (S9F03-002537)</p><pre class="programlisting">
D9F03002537     ; program that demonstrates issues with long integer subscripts
        NEW LCLARRAY,NUMSUBS,LNGSUBS,STRSUBS,GBLSUBS,LCLSUBS,LCLMERGE,$ZTRAP
        SET $ZTRAP="GOTO ERROR"
        KILL ^GBLARRAY,^GBLMERGE
        SET NUMSUBS=1
        SET LNGSUBS="98765432109876543210"
        SET STRSUBS="string"
        SET (^GBLARRAY(NUMSUBS),LCLARRAY(NUMSUBS))=1
        SET (^GBLARRAY(LNGSUBS),LCLARRAY(LNGSUBS))=2
        SET (^GBLARRAY(STRSUBS),LCLARRAY(STRSUBS))=3
        ;
        MERGE ^GBLMERGE=^GBLARRAY
        WRITE !,"ZWRITE ^GBLMERGE",!
        ZWRITE ^GBLMERGE
        ;
        MERGE LCLMERGE=^GBLARRAY
        WRITE !,"ZWRITE LCLMERGE",!
        ZWRITE LCLMERGE
        ;
        WRITE !,"GBLOAL ORDER LOOP",!
        SET GBLSUBS=""
        FOR  SET GBLSUBS=$O(^GBLARRAY(GBLSUBS)) Q:GBLSUBS=""  DO
        . WRITE "^GBLARRAY(",GBLSUBS,")=",^GBLARRAY(GBLSUBS),!
        ;
        WRITE !,"LOCAL ORDER LOOP",!
        SET LCLSUBS=""
        FOR  SET LCLSUBS=$O(LCLARRAY(LCLSUBS)) Q:LCLSUBS=""  DO
        . WRITE "LCLARRAY(",LCLSUBS,")=",LCLARRAY(LCLSUBS),!
        ;
        WRITE !,"LOCAL ORDER LOOP WITH WORKAROUND $GET()",!
        SET LCLSUBS=""
        FOR  SET LCLSUBS=$O(LCLARRAY(LCLSUBS)) Q:LCLSUBS=""  DO
        . WRITE "LCLARRAY(",LCLSUBS,")=",$GET(LCLARRAY(LCLSUBS)),!
        QUIT
        ;
ERROR
        WRITE !,"ERROR: ",$ZSTATUS,!
        QUIT
                                                </pre><p>The output of the code snippet is as follows:</p><pre class="programlisting">
ZWRITE ^GBLMERGE
^GBLMERGE(1)=1
^GBLMERGE("98765432109876543210")=2
^GBLMERGE("string")=3

ZWRITE LCLMERGE
LCLMERGE(1)=1
LCLMERGE(98765432109876543200)=2
LCLMERGE("string")=3

GBLOAL ORDER LOOP
^GBLARRAY(1)=1
^GBLARRAY(98765432109876543210)=2
^GBLARRAY(string)=3

LOCAL ORDER LOOP
LCLARRAY(1)=1
LCLARRAY(98765432109876543210)=

ERROR: 150373850,D9F03002537+27^D9F03002537,%GTM-E-UNDEF, Undefined local variable: LCLARRAY(98765432109876543210)
LCLARRAY(string)=3

LOCAL ORDER LOOP WITH WORKAROUND $GET()
LCLARRAY(1)=1
LCLARRAY(98765432109876543210)=2
LCLARRAY(string)=3
                                             </pre><p>Notice that the 
            <span class="emphasis"><em>MERGE</em></span> operation into 
            <span class="emphasis"><em>LCLMERGE</em></span> incorrectly yielded  
            <span class="emphasis"><em>LCLMERGE(98765432109876543200)</em></span> whereas the expected is  
            <span class="emphasis"><em>LCLMERGE("98765432109876543210")</em></span>.  The workaround is to use a  
            <span class="emphasis"><em>GLOBAL</em></span> for target of 
            <span class="emphasis"><em>MERGE</em></span> operation when long non-canonical numbers subscripts exist.</p><p>Also notice the error in the 
            <span class="emphasis"><em>LOCAL ORDER LOOP</em></span> where 
            <span class="emphasis"><em>LCLARRAY(98765432109876543210)</em></span> is incorrectly declared undefined although it defined. The workaround is to use 
            <span class="emphasis"><em>$GET</em></span> to access the value, i.e., 
            <span class="emphasis"><em>$GET(LCLARRAY(98765432109876543210)</em></span>. This will be fixed in a future release.</p></li><li><a id="ch.hi.id.31"></a><p>
            <span class="emphasis"><em>ZLINK</em></span> or 
            <span class="emphasis"><em>ZPRINT</em></span> of a routine with a 
            <span class="emphasis"><em>ZGOTO</em></span> explicitly referring to the same routine fails. The workaround is to use only the label in the 
            <span class="emphasis"><em>ZGOTO</em></span> argument, and leave the routine implicit. (S9606-000216) </p></li><li><p><a id="ch.hi.id.32"></a>Direct Mode is currently very restricted in its ability to operate with M transactions. Commands entered from the prompt are not stored, and are therefore inherently not restartable. At the same time, the typical speed differential between terminal interaction and normal program flow means, if there is any possibility of concurrency conflict with a Direct Mode action, it is highly likely that an actual conflict will occur, forcing a restart attempt. In order to prevent Direct Mode activity from affecting other work, a process always releases any critical sections when entering Direct Mode. This means an M transaction that includes Direct Mode action, may be subject to unbounded restarts. Because of this current limitation of Direct Mode with respect to transaction processing, fixes to other known problems in this area have been deferred. (S9911-001425) </p></li><li><p><a id="ch.hi.id.33"></a>Suspending a running GT.M process (on UNIX) with 
            <span class="emphasis"><em>^Z</em></span> is not recommended. While GT.M will try to not go to sleep while certain resources are held, GT.M cannot always easily determine these resources as there are many possible types that can cause other GT.M processes to hang while waiting for them. Future versions of GT.M will contain better resource management (tracking) to alleviate this limitation and not allow the suspension while potential hang inducing resources are being held. [UNIX] (S9C09-002229) </p></li><li><p><a id="ch.hi.id.34"></a>Usage of GT.M call-ins may retain the terminal characteristics that are changed within call-ins instead of restoring the settings to the values before invocation. This may cause annoying terminal behavior by the invoking shell following GT.M call-ins. A workaround is to reset the settings to some reasonable values with the shell command 
            <span class="emphasis"><em>"stty sane"</em></span> after each call-in invocation. [UNIX] ((S9F01-002524)</p></li><li><p><a id="ch.hi.id.35"></a>The pattern match operator may cause a process to hang if the pattern following the question-mark (?) is a string literal with more than 6 characters long and the repitition count consists of a period (.) with no leading and trailing integer literals. An example of such a case is 
            <span class="emphasis"><em>'write var?."ABCDEFG"'.</em></span> Until this issue is resolved, either restrict the pattern upto 6 characters long or use a large value for the trailing integer in the repitition count range (S9F01-002526).</p></li><li><p><a id="ch.hi.id.36"></a>
            <span class="emphasis"><em>JOB</em></span> command fails to compile if the actual list contains a null expression (for example, 
            <span class="emphasis"><em>JOB ^rtn(1,,3))</em></span>. Until this issue is fixed, either avoid passing null expressions to the 
            <span class="emphasis"><em>JOB</em></span> command or provide a dummy argument. Since GT.M allows less number of actuals than the formals provided all missing actuals correspond to the end of the formal list, a workaround is to rearrange the formal slist such that the optional parameters are at the end. (S9F03-002532)</p></li><li><p><a id="ch.hi.id.37"></a>
            <span class="emphasis"><em>READ</em></span> from a 
            <span class="emphasis"><em>FIFO</em></span> device with 0 timeout may fail with an unexpected system error reporting 
            <span class="emphasis"><em>"Resource temporarily unavailable"</em></span>. This error leaves the internal state of the device in such a state that would in turn cause any following 
            <span class="emphasis"><em>READs</em></span> (timed or not) to fail with the same error. [UNIX] (S9F04-002544).</p></li><li><p>With GT.M null collation a process cannot sequence from nodes with numeric subscripts through a node with null subscripts to nodes with string subscripts using 
            <span class="emphasis"><em>$order(), $zprevious()</em></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></img></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>With standard null collation there is no such limitation. Except for existing applications,  Fidelity strongly recommends the use of standard null collation if there is data with null subscripts.</p></td></tr></table></div></li><li><p>Since GT.M is a compiler, and since M requires code to be dynamically compiled and executed, GT.M needs to be able to execute code in a process' heap/stack space.  Since this is not a requirement of normal C/C++ programs, and since one of the precepts of good security is to grant no privileges save those that are required, it is increasingly common for default security settings to disable the ability of a process to execute code from heap/stack space.</p><p>Different operating systems have different ways to configure this security setting, and there can be multiple ways to configure this functionality on any given operating system.  If you experience unexpected Signal 11 (segmentation violation) errors such as: </p><p><span class="emphasis"><em>%GTM-F-KILLBYSIGSINFO1, GT.M process 23914 has been killed by a signal 11 at address 0x092C57D0 (vaddr 0x092C57D0)</em></span></p><p>You should look for a security configuration setting that prevents a GT.M process from executing code in heap/stack space.  One example of an implementation of such a feature is exec-shield on some distributions of GNU/Linux.</p><p>You can determine whether exec-shield is operating by examining the files <span class="emphasis"><em>/proc/sys/kernel/exec-shield and /proc/sys/kernel/exec-shield-randomize</em></span></p><p><span class="emphasis"><em>cat /proc/sys/kernel/exec-shield</em></span></p><p><span class="emphasis"><em>cat /proc/sys/kernel/exec-shield-randomize</em></span></p><p>If either value is non-zero, you may need to set it to 0:</p><p><span class="emphasis"><em>echo 0 &gt;/proc/sys/kernel/exec-shield </em></span></p><p><span class="emphasis"><em>echo 0 &gt;/proc/sys/kernel/exec-shield-randomize</em></span></p></li></ul></div></div><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id878146">Return to top</a></p><div><h3 class="title"><a id="id880372"></a>Utilities-MUPIP</h3></div></div></div><p></p><div class="blockquote"><blockquote class="blockquote"><table class="simplelist" border="0" summary="Simple list"><tr><td><a href="#ch.hi.id.1">C9902-000863</a></td></tr><tr><td><a href="#ch.hi.id.39">C9B04-001674</a></td></tr><tr><td><a href="#ch.hi.id.40">C9B04-001681</a></td></tr><tr><td><a href="#ch.hi.id.41">C9B09-001758</a></td></tr><tr><td><a href="#ch.hi.id.42">C9B11-001785</a></td></tr><tr><td><a href="#ch.hi.id.43">C9B11-001834</a></td></tr><tr><td><a href="#ch.hi.id.44">C9C01-001892</a></td></tr><tr><td><a href="#ch.hi.id.45">C9C04-001970</a></td></tr><tr><td><a href="#ch.hi.id.46">C9C05-001984</a></td></tr><tr><td><a href="#ch.hi.id.47">C9C06-002025</a></td></tr><tr><td><a href="#ch.hi.id.48">C9D06-002282</a></td></tr><tr><td><a href="#ch.hi.id.49">C9D06-002295</a></td></tr><tr><td><a href="#ch.hi.id.50">C9E03-002536</a></td></tr><tr><td><a href="#ch.hi.id.51">C9E03-002549</a></td></tr><tr><td><a href="#ch.hi.id.53">S9C07-002161</a></td></tr></table></blockquote></div><div class="itemizedlist"><ul><li><p> <a id="ch.hi.id.1"></a>
            <span class="emphasis"><em>MUPIP JOURNAL RECOVER/ROLLBACK -BACKWARD</em></span> may leave a database with 
            <span class="emphasis"><em>KILL_IN_PROG</em></span> and 
            <span class="emphasis"><em>"GTM-E-DBMRKBUSY, Block incorrectly marked busy"</em></span> errors; this will be addressed in a future release. These errors should be corrected as soon as reasonably possible, but, as discussed in the documentation, are benign as long as they are the only integ errors in the database. (C9902-000863)</p></li><li><p><a id="ch.hi.id.39"></a>Replication filters are not yet supported; this will be addressed in a future release. [OpenVMS] (C9B04-001674) </p></li><li><p><a id="ch.hi.id.40"></a>Certain 
            <span class="emphasis"><em>MUPIP</em></span> commands cannot handle arguments containing a dash (-); this will be addressed in a future release. The workaround is to avoid choosing names that include a dash for GT.M objects. [UNIX] (C9B04-001681) </p></li><li><p><a id="ch.hi.id.41"></a>When the disk space is too low for 
            <span class="emphasis"><em>recover/rollback</em></span> to operate, 
            <span class="emphasis"><em>recover/rollback</em></span> may terminate abnormally. (C9B09-001758)</p></li><li><p><a id="ch.hi.id.42"></a>Replication instance definition currently requires a global directory, rather than a replication instance file. [OpenVMS] (C9B11-001785)</p></li><li><p><a id="ch.hi.id.43"></a>
            <span class="emphasis"><em>MUPIP EXTRACT</em></span> fails to extract globals residing on a local node if the next global in collation sequence resides on a remote node; this will be addressed in a future release. The workaround is, when doing an extract; use a global directory that omits remote globals. (C9B11-001834) </p></li><li><p><a id="ch.hi.id.44"></a>The first step in restoring a journaled database after a crash should be to perform a 
            <span class="emphasis"><em>MUPIP RECOVER</em></span> or 
            <span class="emphasis"><em>ROLLBACK</em></span>. Care should be taken not to start GT.M updates or use 
            <span class="emphasis"><em>MUPIP SET -JOURNAL</em></span> before the recovery, as this affects subsequent recover or rollbacks and prevents them from being successful. Currently this ordering is not strictly enforced by GT.M. This will be addressed in a future release. (C9C01-001892) </p></li><li><p><a id="ch.hi.id.45"></a>
            <span class="emphasis"><em>MUPIP INTRPT</em></span> commands initiated while the target process is already handling an interrupt can cause failure of the target process. This will be addressed in a future release. The workaround is to avoid using 
            <span class="emphasis"><em>MUPIP INTRPT</em></span> on any given process except at measured intervals - even a second should be adequate in most environments. [OpenVMS] (C9C04-001970) </p></li><li><a id="ch.hi.id.46"></a><p>If the logical names 
            <span class="emphasis"><em>SYS$OUTPUT</em></span> and/or 
            <span class="emphasis"><em>SYS$ERROR</em></span> are redefined to a file with a 
            <span class="emphasis"><em>DEFINE /USER</em></span> command, certain utility commands (e.g. 
            <span class="emphasis"><em>MUPIP JOURNAL /SHOW, MUPIP BACKUP, DSE</em></span>) on a journaled database terminate with a 
            <span class="emphasis"><em>RMS-E-FLK</em></span> error. The workaround is to use a script that runs only the utility command. The script then can perform, in the beginning, a 
            <span class="emphasis"><em>DEFINE SYS$OUTPUT</em></span> and 
            <span class="emphasis"><em>DEFINE SYS$ERROR</em></span> without the 
            <span class="emphasis"><em>/USER</em></span> qualifier. [OpenVMS] (C9C05-001984) </p></li><li><a id="ch.hi.id.47"></a><p>Currently 
            <span class="emphasis"><em>FENCE=ALWAYS</em></span> may work incorrectly when multiple regions are involved. This will be fixed in a future release. (C9C06-002025) </p></li><li><a id="ch.hi.id.48"></a><p>
            <span class="emphasis"><em>MUPIP RECOVER/ROLLBACK</em></span> relies on the continuity of time stored in the journal records in order to maintain application consistency across multi-region fenced transactions. It might work incorrectly if the system clock is adjusted by "stepping" while journaling is turned 
            <span class="emphasis"><em>ON</em></span>. The adjustment includes manual as well as automated adjustments done by a time synchronization utility running in the background (for example, gradual adjustments made to the clock by a Network Time Protocol client running on the GT.M machine). Fidelity strongly recommends the use of "slewing" rather than stepping to make adjustments to the system clock. If the clock must be adjusted backwards by stepping on a system that has a journaled database, it has to be done with caution using the following procedure. (C9D06-002282) </p><p>
            <div class="itemizedlist"><ul><li><p>Note down current system time </p></li><li><p>Switch to new journal files using 
                  <span class="emphasis"><em>MUPIP SET JOURNAL -REG "*"</em></span>
                </p></li><li><p>Adjust system time </p></li><li><p>Switch to new journal files using 
                  <span class="emphasis"><em>MUPIP SET JOURNAL -REG "*"</em></span>
                </p></li><li><p>If the new system time is prior to the noted down system time (that is, the time adjustment was negative), then all future 
                  <span class="emphasis"><em>MUPIP RECOVER</em></span> commands that use time qualifiers, which fall in the time range of adjustment need to use a time that is either less than the start time (for 
                  <span class="emphasis"><em>SINCE</em></span> and 
                  <span class="emphasis"><em>AFTER</em></span> qualifiers), or greater than the end time of the time range (for 
                  <span class="emphasis"><em>BEFORE</em></span> qualifiers).</p></li></ul></div>
          </p></li><li><a id="ch.hi.id.49"></a><p>MUPIP EXTRACT of a database in binary format fails when database block sizes are over 32,765. In addition, MUPIP JOURNAL EXTRACT or MUPIP EXTRACT in ZWR or GO format terminates if they produce a record larger than 32,767 bytes, including the record header and terminators. This is due to OpenVMS RMS' limitation of 32767 bytes for the maximum record size of a sequential file. [OpenVMS] (C9D06-002295) </p></li><li><a id="ch.hi.id.50"></a><p>If the duplicate set optimization (see Release Notes for GT.M V4.4-004 for C9D12-002472) is enabled and if the update pattern is such that the last update in a sequence of updates is a duplicate-set and there are no more updates for quite a while although the updating processes are still attached to the database, it is possible that the database file header does not get flushed in a timely manner and if before-image journaling is turned ON, it is also possible that 
            <span class="emphasis"><em>EPOCHs</em></span> are not written to disk in a timely manner. If the processes attached to the database are then killed abnormally due to a system crash or using a 
            <span class="emphasis"><em>kill -9</em></span> (Unix) or 
            <span class="emphasis"><em>STOP/ID</em></span> (OpenVMS), this might cause a 
            <span class="emphasis"><em>MUPIP JOURNAL ROLLBACK</em></span> and/or 
            <span class="emphasis"><em>RECOVER /BACKWARD</em></span> on this database to error out since they rely on 
            <span class="emphasis"><em>EPOCHs</em></span> being written in a timely manner. The workaround is to issue a backward recovery with a 
            <span class="emphasis"><em>/SINCE_TIME</em></span> that matches the time of last update to this database or a rollback with a 
            <span class="emphasis"><em>/RESYNC_SEQNO</em></span> that matches the last update to this database. This will be addressed in a future release. (C9E03-002536) </p></li><li><a id="ch.hi.id.51"></a><p>Files created by 
            <span class="emphasis"><em>MUPIP EXTRACT /FORMAT=ZWR</em></span> (or 
            <span class="emphasis"><em>/FORMAT=GO</em></span>) since V4.4-002 may have a maximum record size of 65,535 which may cause problems if used by some other programs and OpenVMS utilities. To work around this problem, issue the following DCL command: </p><p>set 
            <span class="emphasis"><em>file/attribute=mrs=&lt;longest record length&gt; file.glo</em></span>
          </p><p></p><p>where "&lt;longest record length&gt;" is replaced with the appropriate value from a 
            <span class="emphasis"><em>DIRECTORY/FULL</em></span> of the file (i.e. file.glo above.) [OpenVMS] (C9E03-002549) </p></li><li><a id="ch.hi.id.53"></a><p>A file specification for the 
            <span class="emphasis"><em>-LOG</em></span> qualifier containing semicolon (;), or a version number causes the replication server to issue an RMS file specification error. This will be addressed in a future release. [OpenVMS] (S9C07-002161) </p></li></ul></div></div><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id878146">Return to top</a></p><div><h3 class="title"><a id="id880696"></a>Utilities-Other Than MUPIP</h3></div></div></div><p></p><div class="blockquote"><blockquote class="blockquote"><table class="simplelist" border="0" summary="Simple list"><tr><td><a href="#ch.hi.id.54">C9C05-001990</a></td></tr><tr><td><a href="#ch.hi.id.55">C9C05-001991</a></td></tr></table></blockquote></div><div class="itemizedlist"><ul><li><p><a id="ch.hi.id.54"></a>The executable images for utility programs: 
            <span class="emphasis"><em>DSE, LKE</em></span> and 
            <span class="emphasis"><em>MUPIP</em></span> are large and will be reduced in a future release. (C9C05-001990) </p></li><li><p><a id="ch.hi.id.55"></a>
            <span class="emphasis"><em>LKE</em></span> operations on 
            <span class="emphasis"><em>LOCKs</em></span> mapped to regions served by GT.CM are not supported. 
            <span class="emphasis"><em>LKE</em></span> still operates on 
            <span class="emphasis"><em>LOCKs</em></span> that exist on the local node even if they are held by a remote process through a GT.CM server. (C9C05-001991) </p></li></ul></div></div></div><div class="sect1" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id878146">Return to top</a></p><div><h2 class="title"><a id="id880122"></a>Typographical Conventions</h2></div></div></div><p> <span class="italic">Command Syntax:</span> UNIX syntax (i.e., lowercase text and "-" for flags/qualifiers) is used throughout this document. VMS accepts both lowercase and uppercase text; flags/qualifiers should be preceded with "/".</p><p> <span class="italic">Reference Number:</span> The reference numbers used to track software enhancements and customer support requests appear in parentheses ( ).</p><p> <span class="italic">Platform Identifier:</span> If a new feature or software enhancement does not apply to all platforms, the relevant platform appears in brackets [ ].</p><p>
      <a href="#return_to_top">Return to top</a>
  </p></div></div><div xmlns="" id="customfooter" align="center">
For more information, see the <a href="http://www.sanchez-gtm.com/" target="_blank" style="color: #000; font-weight: bold;">GT.M</a> web site. 
</div></body>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/articles/GTM_V5.0-000D_Supplementary_Information.html]] -->
</html>
