<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<!-- Mirrored from tinco.pair.com/bhaskar/gtm/doc/articles/GTM_V5_4_000A_Release_Notes.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 13 Mar 2019 23:00:38 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><base target="_top"><style type="text/css">  /* default css */table {  font-size: 1em;  line-height: inherit;  border-collapse: collapse;}tr {    text-align: left;  }div, address, ol, ul, li, option, select {  margin-top: 0px;  margin-bottom: 0px;}p {  margin: 0px;}pre {  font-family: Courier New;  white-space: pre-wrap;  margin:0;}body {  margin: 6px;  padding: 0px;  font-family: Verdana, sans-serif;  font-size: 10pt;  background-color: #ffffff;  color: #000;}img {  -moz-force-broken-image-icon: 1;}@media screen {  html.pageview {    background-color: #f3f3f3 !important;    overflow-x: hidden;    overflow-y: scroll;  }    body {    min-height: 1100px;        counter-reset: __goog_page__;  }    * html body {    height: 1100px;  }  /* Prevent repaint errors when scrolling in Safari. This "Star-7" css hack     targets Safari 3.1, but not WebKit nightlies and presumably Safari 4.     That's OK because this bug is fixed in WebKit nightlies/Safari 4 :-). */  html*#wys_frame::before {    content: '\A0';    position: fixed;    overflow: hidden;    width: 0;    height: 0;    top: 0;    left: 0;  }    .pageview body {    border-top: 1px solid #ccc;    border-left: 1px solid #ccc;    border-right: 2px solid #bbb;    border-bottom: 2px solid #bbb;    width: 648px !important;    margin: 15px auto 25px;    padding: 40px 50px;  }  /* IE6 */  * html {    overflow-y: scroll;  }  * html.pageview body {    overflow-x: auto;  }            .writely-callout-data {      display: inline-block;      width: 0;      height: 0;      overflow: hidden;    }        .writely-footnote-marker {      background-image: url('MISSING.html');      background-color: transparent;      background-repeat: no-repeat;      width: 7px;      overflow: hidden;      height: 16px;      vertical-align: top;            -moz-user-select: none;    }    .editor .writely-footnote-marker {      cursor: move;    }    .writely-footnote-marker-highlight {      background-position: -15px 0;      -moz-user-select: text;    }    .writely-footnote-hide-selection ::-moz-selection, .writely-footnote-hide-selection::-moz-selection {      background: transparent;    }    .writely-footnote-hide-selection ::selection, .writely-footnote-hide-selection::selection {      background: transparent;    }    .writely-footnote-hide-selection {      cursor: move;    }    /* Comments */    .writely-comment-yellow {      background-color: #ffffd7;    }    .writely-comment-orange {      background-color: #ffe3c0;    }    .writely-comment-pink {      background-color: #ffd7ff;    }    .writely-comment-green {      background-color: #d7ffd7;    }    .writely-comment-blue {      background-color: #d7ffff;    }    .writely-comment-purple {      background-color: #eed7ff;    }      .br_fix span+br:not(:-moz-last-node) {        position:relative;        left: -1ex      }    #cb-p-tgt {    font-size: 8pt;    padding: .4em;    background-color: #ddd;    color: #333;  }  #cb-p-tgt-can {    text-decoration: underline;    color: #36c;    font-weight: bold;    margin-left: 2em;  }  #cb-p-tgt .spin {    width: 16px;    height: 16px;    background: url(http://ssl.gstatic.com/docs/clipboard/spin_16o.gif) no-repeat;  }}h6 { font-size: 8pt }h5 { font-size: 8pt }h4 { font-size: 10pt }h3 { font-size: 12pt }h2 { font-size: 14pt }h1 { font-size: 18pt }blockquote {padding: 10px; border: 1px #DDD dashed }.webkit-indent-blockquote { border: none; }a img {border: 0}.pb {  border-width: 0;  page-break-after: always;  /* We don't want this to be resizeable, so enforce a width and height     using !important */  height: 1px !important;  width: 100% !important;}.editor .pb {  border-top: 1px dashed #C0C0C0;  border-bottom: 1px dashed #C0C0C0;}div.google_header, div.google_footer {  position: relative;  margin-top: 1em;  margin-bottom: 1em;}/* Table of contents */.editor div.writely-toc {  background-color: #f3f3f3;  border: 1px solid #ccc;}.writely-toc > ol {  padding-left: 3em;  font-weight: bold;}ol.writely-toc-subheading {  padding-left: 1em;  font-weight: normal;}/* IE6 only */* html writely-toc ol {  list-style-position: inside;}.writely-toc-none {  list-style-type: none;}.writely-toc-decimal {  list-style-type: decimal;}.writely-toc-upper-alpha {  list-style-type: upper-alpha;}.writely-toc-lower-alpha {  list-style-type: lower-alpha;}.writely-toc-upper-roman {  list-style-type: upper-roman;}.writely-toc-lower-roman {  list-style-type: lower-roman;}.writely-toc-disc {  list-style-type: disc;}/* Ordered lists converted to numbered lists can preserve ordered types, and   vice versa. This is confusing, so disallow it */ul[type="i"], ul[type="I"], ul[type="1"], ul[type="a"], ul[type="A"] {  list-style-type: disc;}ol[type="disc"], ol[type="circle"], ol[type="square"] {  list-style-type: decimal;}/* end default css */  /* default print css */  @media print {    body {      padding: 0;      margin: 0;    }    div.google_header, div.google_footer {      display: block;      min-height: 0;      border: none;    }    div.google_header {      flow: static(header);    }    /* used to insert page numbers */    div.google_header::before, div.google_footer::before {      position: absolute;      top: 0;    }    div.google_footer {      flow: static(footer);    }    /* always consider this element at the start of the doc */    div#google_footer {      flow: static(footer, start);    }    span.google_pagenumber {      content: counter(page);    }    span.google_pagecount {      content: counter(pages);    }    .endnotes {      page: endnote;    }    /* MLA specifies that endnotes title should be 1" margin from the top of the page. */    @page endnote {      margin-top: 1in;    }    callout.google_footnote {            display: prince-footnote;      footnote-style-position: inside;      /* These styles keep the footnote from taking on the style of the text         surrounding the footnote marker. They can be overridden in the         document CSS. */      color: #000;      font-family: Verdana;      font-size: 10.0pt;      font-weight: normal;    }    /* Table of contents */    #WritelyTableOfContents a::after {      content: leader('.') target-counter(attr(href), page);    }    #WritelyTableOfContents a {      text-decoration: none;      color: black;    }    /* Comments */    .writely-comment-yellow {      background-color: #ffffd7;    }    .writely-comment-orange {      background-color: #ffe3c0;    }    .writely-comment-pink {      background-color: #ffd7ff;    }    .writely-comment-green {      background-color: #d7ffd7;    }    .writely-comment-blue {      background-color: #d7ffff;    }    .writely-comment-purple {      background-color: #eed7ff;    }  }  @page {    @top {      content: flow(header);    }    @bottom {      content: flow(footer);    }    @footnotes {      border-top: solid black thin;      padding-top: 8pt;    }  }  /* end default print css *//* custom css *//* end custom css *//* ui edited css */body {  font-family: Verdana;    font-size: 10.0pt;  line-height: normal;  background-color: #ffffff;}/* end ui edited css *//* editor CSS */.editor a:visited {color: #551A8B}.editor table.zeroBorder {border: 1px dotted gray}.editor table.zeroBorder td {border: 1px dotted gray}.editor table.zeroBorder th {border: 1px dotted gray}.editor div.google_header, .editor div.google_footer {  border: 2px #DDDDDD dashed;  position: static;  width: 100%;  min-height: 2em;}.editor .misspell {background-color: yellow}.editor .writely-comment {  font-size: 9pt;  line-height: 1.4;  padding: 1px;  border: 1px dashed #C0C0C0}/* end editor CSS */</style>    <title>Technical Bulletin - GT.M V5.4-000/V5.4-000A Release Notes</title></head><body         >            <h1>  Technical Bulletin - GT.M V5.4-000A Release Notes</h1><div class=titlepage>  <div class=titlepage>    <div class=legalnotice>      Copyright © 2010 Fidelity Information Services, Inc.&nbsp; All Rights Reserved.&nbsp;    </div>    <div class=legalnotice>      <div>        &nbsp;      </div>      <p>        Permission is granted to copy, distribute and/or modify this document under the terms of the <a href=http://www.gnu.org/licenses/fdl.txt id=lpr- target=_blank title="Click here to read the GNU Free Documentation License"><font color=#810081>GNU Free Documentation License</font></a>, Version 1.3 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts and no Back-Cover Texts.      </p>      <div>        &nbsp;      </div>      <p>        <span class=trademark>GT.M</span>™ is a trademark of Fidelity Information Services, Inc.&nbsp; Other trademarks are the property of their respective owners.&nbsp;&nbsp;      </p>      <div>        &nbsp;      </div>      <p>        This document contains a description of GT.M and the operating instructions pertaining to the various functions that comprise the system. This document does not contain any commitment of FIS.&nbsp; FIS believes the information in this publication is accurate as of its publication date; such information is subject to change without notice.&nbsp; FIS is not responsible for any errors or defects.&nbsp;      </p>    </div>    <h2 class=pubdate>      <a id=Revision_History_5170783765732 name=Revision_History_5170783765732></a>Revision History    </h2>    <p class=pubdate>    </p>    <table border=1 bordercolor=#000000 cellpadding=3 cellspacing=0 id=vt_h>      <tbody>      <tr>        <td align=middle valign=top>          <b>Version</b>        </td>        <td align=left valign=top>          <b>Date</b>        </td>        <td align=left valign=top>          <b>Summary</b>        </td>      </tr><tr>        <td align=middle valign=top>          1.6        </td>        <td align=left valign=top>          June 15, 2011        </td>        <td align=left valign=top>		Added more information on <a href=#NS9I08-002695 target=_self>S9I08-002695</a>.         </td>      </tr> <tr>        <td align=middle valign=top>          1.5        </td>        <td align=left valign=top>          July 14, 2010        </td>        <td align=left valign=top>		Improved the description of <a href=#C9K01-003225 target=_self>C9K01-003225</a>.         </td>      </tr>      <tr>        <td align=middle valign=top>          1.4        </td>        <td align=left valign=top>          April 5, 2010        </td>        <td align=left valign=top>		Added more information about using <a href=#_Additional_Information_for_AI target=_self>GT.M on IBM pSeries AIX</a>.         </td>      </tr>      <tr>        <td align=middle valign=top>          1.3        </td>        <td align=left valign=top>          March 25, 2010        </td>        <td align=left valign=top>		Added an entry for <a href=#S9K03-002761 id=nbhu target=_self title=S9K03-002761>S9K03-002761</a>.        </td>      </tr>      <tr>        <td align=middle valign=top>          1.2        </td>        <td align=left valign=top>          March 19, 2010        </td>        <td align=left valign=top>          <ul>            <li>              Updated to reflect V5.4-000A.            </li>            <li>              Improved the documentation of <a href=#socketread id=lcba target=_self title="SOCKET READ Operations">SOCKET READ Operation</a>&nbsp;and <a href=#mrtime id=rknd target=_self title=MOREREADTIME>MOREREADTIME</a> deviceparameter.            </li>            <li>              Improved the description of <a href=#C9D08-002390 id=x6sq target=_self title=C9D08-002390>C9D08-002390</a>.            </li>          </ul>        </td>      </tr>      <tr>        <td align=middle valign=top>          1.1        </td>        <td align=left valign=top>          February 19, 2010        </td>        <td align=left valign=top>          <ul>            <li>              Corrected the maximum wait period for Source Server shutdown in <a href=#C9J09-003195 id=x6s3 target=_self title=C9J09-003195>C9J09-003195</a>.            </li>            <li>              Changed "..V5.3 series releases" to "..V5.3-000 or later" in the first line of the <a href=#to_up id=ml5j target=_self title="To upgrade from GT.M V5.0*/V5.1*/V5.2*/V5.3*">To upgrade from GT.M V5.0*/V5.1*/V5.2*/V5.3*</a> section.            </li>          </ul>        </td>      </tr>      <tr>        <td align=middle valign=top>          1.0        </td>        <td align=left valign=top>          February 2, 2010        </td>        <td align=left valign=top>          First published version.        </td>      </tr>      </tbody>    </table>    <p class=pubdate>    </p>    <div>      &nbsp;    </div>    <div class=abstract>      <p class=title>      </p>      <p>      </p>      <div class=informaltable>        <table border=0 cellpadding=1 cellspacing=2 class=zeroBorder width=100%>          <tbody>          <tr>            <td align=left valign=top width=50%>              <p>              </p>              <div class=address>                <p>                </p>                <p>                  GT.M Group                </p>                <p>                  Fidelity Information Services, Inc.                </p>                <p>                  2 West Liberty Boulevard, Suite 300                </p>                <p>                  Malvern, Pennsylvania 19355                </p>                <p>                  United States of America                </p>                <p>                  &nbsp;                </p>              </div>            </td>            <td align=left valign=top width=50%>              <p>              </p>              <div class=address>                <p>                </p>                <p>                  GT.M Support for customers: +1 (610) 578-4226 / <a href=mailto:gtmsupport@fnis.com title="If you have GT.M support, click here to send e-mail and request support">gtmsupport@fnis.com</a>                </p>                <p>                </p>                <div>                  &nbsp;                </div>                <p>                  Switchboard: +1 (610) 296-8877                </p>                Website: <a href=http://fis-gtm.com/ id=j47- target=_blank title="Click here to visit the GT.M home page"><font color=#810081>http://fis-gtm.com</font></a>                <p>                  &nbsp;                </p>              </div>            </td>          </tr>          </tbody>        </table>      </div>      <a id=q:81></a>    </div>  </div>  <div class=toc>    <p>    </p>    <h2>      <a id=Table_of_Contents_510593612128 name=Table_of_Contents_510593612128></a><b>T<a id=z_bk name=toc></a>able of Contents</b>    </h2>    <a href=#changes id=ap4d target=_self title="Change History">Click here to go directly to the Changes section</a>.    <div>      &nbsp;    </div>    <div>      &nbsp;    </div>    <div class=writely-toc id=WritelyTableOfContents toctype=none+none>      <ol class=writely-toc-none>        <li>          <a href=#_Technical_Bulletin_GT_M_V5_3_ target=_self>Technical Bulletin - GT.M V5.4-000A Release Notes</a>        </li>        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>          <li>            <a href=#Revision_History_5170783765732 target=_self>Revision History</a>          </li>          <li>            <a href=#Table_of_Contents_510593612128 target=_self>Table of Contents</a>          </li>          <li>            <a href=#Typographical_Conventions_8537 target=_self>Conventions</a>          </li>          <li>            <a href=#_Bulletin_Overview_62528978250 target=_self>Bulletin Overview</a>          </li>          <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>            <li>              <a href=#_Platforms_2151380940233626_61 target=_self>Platforms</a>            </li>            <li>              <a href=#_Migrating_to_64_bit_platforms target=_self>Migrating to 64-bit platforms</a>            </li>            <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>              <li>                <a href=#_Call_ins_and_External_Calls_0 target=_self>Call-ins and External Calls</a>              </li>              <li>                <a href=#_Internationalization_Collatio target=_self>Internationalization (Collation)</a>              </li>              <li>                <a href=#_Environment_Translation_61573 target=_self>Environment Translation</a>              </li>            </ol>            <li>              <a href=#_Recompile_7524501020454256_50 target=_self>Recompile</a>            </li>            <li>              <a href=#_Rebuild_Shared_Libraries_or_I target=_self>Rebuild Shared Libraries or Images</a>            </li>            <li>              <a href=#_Additional_Installation_Instr target=_self>Additional Installation Instructions</a>            </li>            <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>              <li>                <a href=#_UNIX_2470193629452917_4777089 target=_self>UNIX</a>              </li>              <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>                <li>                  <a href=#_Additional_Information_for_AI target=_self>Additional Information for AIX</a>                </li>              </ol>              <li>                <a href=#_OpenVMS_6976338280179322_1641 target=_self>OpenVMS</a>              </li>            </ol>            <li>              <a href=#_Database_Compatibility_for_GT_00968863995098651 target=_self>Upgrading to GT.M V5.4-000A</a>            </li>            <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>              <li>                <a href=#_Database_Compatibility_for_GT_30278964739668745 target=_self>Stage 1: Upgrading your Global Directory</a>              </li>              <li>                <a href=#Stage_2_5293352739190076_47865_13858318616692045 target=_self>Stage 2: Upgrading your Database Files</a>              </li>              <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>                <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>                  <li>                    <a href=#Upgrade_notes_Database_Files_0_27053328166204926 target=_self>Database Compatibility Notes</a>                  </li>                </ol>              </ol>              <li>                <a href=#Stage_3_20156017953353456_4337_7418383842141051 target=_self>Stage 3: Upgrading your Replication Instance File</a>              </li>              <li>                <a href=#Stage_4_5038444195635015_20776_8646409196183289 target=_self>Stage 4: Upgrading your Journal Files</a>              </li>            </ol>            <li>              <a href=#_Managing_M_mode_and_UTF_8_mod target=_self>Managing M mode and UTF-8 mode</a>            </li>            <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>              <li>                <a href=#Compiling_ICU_on_HP_PA_RISC_HP target=_self>Compiling ICU on HP PA-RISC HP-UX</a>              </li>              <li>                <a href=#Compiling_ICU_on_HP_Integrity_ target=_self>Compiling ICU on HP Integrity IA64 HP-UX</a>              </li>            </ol>            <li>              <a href=#_Setting_the_environment_varia target=_self>Setting the environment variable TERM</a>            </li>            <li>              <a href=#_Installing_Compression_Librar target=_self>Installing Compression Libraries</a>            </li>          </ol>        </ol>        <li>          <a href=#Change_History_905621674941811 target=_self>Change History</a>        </li>        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>          <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>            <li>              <a href=#V5_4_000_3320129335714417_6306 target=_self>V5.4-000A</a>            </li>            <li>              <a href=#V5_4_000_3320129335714417_6306_43321844439019075 target=_self>V5.4-000</a>            </li>          </ol>          <li>            <a href=#M_Database_Access_509502580530 target=_self>M-Database Access</a>          </li>          <li>            <a href=#M_Other_Than_Database_Access_9 target=_self>M-Other Than Database Access</a>          </li>          <li>            <a href=#Utilities_MUPIP_88043024385500 target=_self>Utilities-MUPIP</a>          </li>          <li>            <a href=#Utilities_Other_Than_MUPIP_455 target=_self>Utilities-Other Than MUPIP</a>          </li>          <li>            <a href=#Error_Messages_780887249505602 target=_self>Error Messages</a>          </li>          <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>            <li>              <a href=#GVDATAGETFAIL_9756979821419147_13024556184861874 target=_self>GVDATAGETFAIL</a>            </li>            <li>              <a href=#JNLENDIANBIG_5041405487517149__8796240912917975 target=_self>JNLENDIANBIG</a>            </li>            <li>              <a href=#JNLENDIANLITTLE_30924758982134 target=_self>JNLENDIANLITTLE</a>            </li>            <li>              <a href=#MAXSSREACHED_9169992814013005__5610970075973751 target=_self>MAXSSREACHED</a>            </li>            <li>              <a href=#MAXTRIGRNEST_8276031224893461__956050313024112 target=_self>MAXTRIGRNEST</a>            </li>            <li>              <a href=#MUJNLDBMISSING_820366237064228 target=_self>MUJNLDBMISSING</a>            </li>            <li>              <a href=#NOZTRAPINTRIG_4072827170533621 target=_self>NOZTRAPINTRIG</a>            </li>            <li>              <a href=#PROCTERM_4737100483103042_1780_2182490442866588 target=_self>PROCTERM</a>            </li>            <li>              <a href=#QUITALSINV_4119638088006492_36_21934846170522143 target=_self>QUITALSINV</a>            </li>            <li>              <a href=#REGSSFAIL_8673270063663832_842 target=_self>REGSSFAIL</a>            </li>            <li>              <a href=#SETINTRIGONLY_5486986223021192 target=_self>SETINTRIGONLY</a>            </li>            <li>              <a href=#SNAPSHOTNOV4_706570529991932_8 target=_self>SNAPSHOTNOV4</a>            </li>            <li>              <a href=#SSFILCLNUPFAIL_100743431948485 target=_self>SSFILCLNUPFAIL</a>            </li>            <li>              <a href=#SSFILOPERR_9137289233941997_38 target=_self>SSFILOPERR</a>            </li>            <li>              <a href=#SSPREMATEOF_926775845307865_34 target=_self>SSPREMATEOF</a>            </li>            <li>              <a href=#SSSHMCLNUPFAIL_074902285555303 target=_self>SSSHMCLNUPFAIL</a>            </li>            <li>              <a href=#SSTMPCREATE_4842588403246761_2 target=_self>SSTMPCREATE</a>            </li>            <li>              <a href=#SSTMPDIRSTAT_6636825864649545__11166320157129161 target=_self>SSTMPDIRSTAT</a>            </li>            <li>              <a href=#SSTMPFILOPEN_38251707383133443_4422977245596507 target=_self>SSTMPFILOPEN</a>            </li>            <li>              <a href=#SSV4NOALLOW_3710948504972429_5_08792825908283369 target=_self>SSV4NOALLOW</a>            </li>            <li>              <a href=#TRIG2NOTRIG_2403206561780593_7_5057802894403172 target=_self>TRIG2NOTRIG</a>            </li>            <li>              <a href=#TRIGCOMPFAIL_9396512246546017__12392797940141314 target=_self>TRIGCOMPFAIL</a>            </li>            <li>              <a href=#TRIGINVCHSET_7894015369276853__6238204797799919 target=_self>TRIGINVCHSET</a>            </li>            <li>              <a href=#TRIGJNLSTATE_8754171214616374__17421022388724722 target=_self>TRIGJNLSTATE</a>            </li>            <li>              <a href=#TRIGNAMEUNIQ_589708841764223_0_3947345387075734 target=_self>TRIGNAMEUNIQ</a>            </li>            <li>              <a href=#TRIGTCOMMIT_7419790341378994_1_6714920701053504 target=_self>TRIGTCOMMIT</a>            </li>            <li>              <a href=#TRIGTLVLCHNG_4990687108398781__8816178648904906 target=_self>TRIGTLVLCHNG</a>            </li>            <li>              <a href=#ZGOTOINVLVL_22980094116497646__2760619499221503 target=_self>ZGOTOINVLVL</a>            </li>            <li>              <a href=#ZTRIGINVACT_24835328261863304__3323370449065335 target=_self>ZTRIGINVACT</a>            </li>            <li>              <a href=#ZTRIGNOTP_2586996506078717_808_8159587261124002 target=_self>ZTRIGNOTP</a>            </li>            <li>              <a href=#ZTWORMHOLE2BIG_426758177884309 target=_self>ZTWORMHOLE2BIG</a>            </li>          </ol>        </ol>        <li>          <a href=#GTM_Documentation_Addendum_815_28344703902678136 target=_self>GT.M Documentation Addendum</a>        </li>        <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>          <li>            <a href=#Socket_READ_operation_03403186 target=_self>SOCKET READ operation</a>          </li>          <ol class="writely-toc-none writely-toc-subheading" style=MARGIN-LEFT:0px>            <li>              <a href=#NTC_031302128595249334_7733921_1954775941272 target=_self>SOCKET READ Termination Conditions</a>            </li>          </ol>          <li>            <a href=#MRT_349460610176377_2980807178_006879051971242611 target=_self>MOREREADTIME=intexpr</a>          </li>        </ol>      </ol>    </div>    <p>    </p>  </div>  <div class=sect1>    <div class=titlepage>      <h2 class=title>        <a id=Typographical_Conventions_8537 name=Typographical_Conventions_8537></a>Conventions      </h2>    </div>    <p>      <span class=italic><u>UNIX</u>: The term UNIX is used here in the general sense of all platforms for which GT.M uses a POSIX API.&nbsp; As of this date, this includes: AIX; HP-UX on IA64 and PA-RISC; GNU/Linux on IA64, x86 and x86_64; Solaris on SPARC; z/OS.</span>    </p>    <div>      &nbsp;    </div>    <p>      <span class=italic><u>Command Syntax</u>: </span>UNIX syntax (that is, lowercase text and "-" for flags/qualifiers) is used throughout this document.&nbsp; OpenVMS accepts both lowercase and uppercase text; flags/qualifiers on OpenVMS should be preceded with "/".    </p>    <p>    </p>    <br>    <span class=italic><u>Program Names</u>: When referring to a GT.M program or function, the reference is in upper case, e.g, MUPIP BACKUP.&nbsp; When a specific example is provided, the lower case UNIX command names are used, e.g., <font face="courier new">mupip backup -database ACN,HIST /backup</font></span>  </div>  <p>  </p>  <br>  <p>    <span class=italic><u>Reference Number</u>:</span> Reference numbers used to track software enhancements and customer support requests appear in parentheses ().  </p>  <br>  <p>    <span class=italic><u>Platform Identifier</u>:</span> If a new feature or software enhancement does not apply to all platforms, the relevant platform or platforms appear in brackets [].  </p>  <p>    <br>  </p>  <p>    Henceforth, the term "originating instance" is used where previously "primary instance" or "originating primary instance" were used, and the term "replicating instance" is used where previously "secondary instance" and "originating secondary instance" were used. &nbsp;Since it is easier to change documentation than it is to change software, and given our tradition of maintaining compatibility especially for existing programs and scripts, the former terms will remain in the software for a long time to come, even as they are supplemented with the new terms in the code, and replaced in the documentation.  </p>  <p>    <br>  </p>  <div class=titlepage>    <p class=returntotop>      <a href=#toc id=k-oz target=_self title="Return to Table of Contents">Return to Table of Contents</a>    </p>    <h2 class=title>      <a id=_Bulletin_Overview_62528978250 name=_Bulletin_Overview_62528978250></a><a id=id1031015></a>Bulletin Overview    </h2>  </div>  <p class=sect1>    <a id=ch.hi.id.0Z></a>  </p>  <p class=sect1>    GT.M V5.4-000A provides timely remediation of a small number of issues with V5.4-000 (highlighted as <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>).  </p>  <p class=sect1>    &nbsp;  </p>  In V5.4-000A, there is no change in the adaptive (auto-tuning) behavior of the MOREREADTIME deviceparameter introduced in V5.4-000. &nbsp;However, in this bulletin, we have added an improved description of the "MOREREADTIME" deviceparameter. For more information, see "<a href=#GTM_Doc_Addendum id=p:ym target=_self title="GT.M Documentation Addendum">GT.M Documentation Addendum</a>".&nbsp;&nbsp;  <p class=sect1>    &nbsp;&nbsp;  </p>  <p class=sect1>    GT.M V5.4-000 adds a major new feature to GT.M, as well as a significant enhancement to operational capability for 24x365 database operation.  </p>  <p class=sect1>    <br>  </p>  <p class=sect1>  </p>  <ul>    <li>      <p>        GT.M triggers are code fragments stored in databases files. &nbsp;When a process updates a global variable, any triggers in that database file whose signatures match the update are automatically executed along with the update. &nbsp;The signature of a trigger consists of the command (e.g., Set, Kill), the global variable, and a subscript pattern, as well as, for Set, optionally a piece separator and pieces of interest. &nbsp;Triggers have many uses, only one of which is to maintain the consistency of application schema by automatically computing cross-reference indexes and maintaining referential integrity. &nbsp;Refer to the GT.M Triggers Technical Bulletin for details.      </p>      <p>        <br>      </p>      <p>        Please note: FIS considers the implementation of triggers in V5.4-000/V5.4-000A to be robust, and entirely appropriate for development and testing short of production deployment. &nbsp;With the next release of GT.M, they will have had gone through many more cycles of automated regression testing under a broader range of conditions, and will be considered production grade at that time. &nbsp;If you are an FIS customer and are ready to deploy in production an application that uses GT.M triggers, please contact your FIS account manager about the timing and availability of a GT.M release in which triggers will be considered production grade. &nbsp;Depending on circumstances, we may even decide then that the implementation of triggers in V5.4-000/V5.4-000AA is robust enough for production. &nbsp;Except for the triggers functionality, everything else in V5.4-000/V5.4-000A is considered production grade.      </p>      <p>        <br>      </p>    </li>    <li>      MUPIP INTEG can now check a database for structural integrity while applications continue to operate. &nbsp;In prior releases of GT.M, MUPIP INTEG would freeze updates. &nbsp;Online operation is now the default for databases that contain no version 4 format database blocks.    </li>  </ul>  <br>  <p>    <font style=BACKGROUND-COLOR:#f3f3f3><font style=BACKGROUND-COLOR:#ffffff>There are of course bug fixes, remedied mis-features and smaller enhancements.&nbsp; For a comprehensive list, see </font><font style=BACKGROUND-COLOR:#ffffff>Change History</font><font style=BACKGROUND-COLOR:#ffffff>.</font></font>  </p>  <p>    <br>  </p>  <p>    Please note: The deprecated "Z" pseudo-transactions (bracketed by ZTSTART / ZTCOMMIT) are not supported in this release. &nbsp;FIS strongly urges you to remove their use from your code - since they have been deprecated for many years, they are no longer tested and may be removed from GT.M at any time.  </p>  <p>    &nbsp;  </p>  <p class=article>  </p>  <div>    &nbsp;  </div>  <div class=sect2>    <div class=titlepage>      <p class=returntotop>        <a href=#toc id=ey8v target=_self title="Return to Table of Contents">Return to Table of Contents</a><a href=#Table_of_Contents id=ojsr target=_self title="Return to Table of Contents"></a>      </p>      <h3 class=title>        <a id=_Platforms_2151380940233626_61 name=_Platforms_2151380940233626_61></a><a id=id1030186></a>Platforms      </h3>    </div>    <p>      As of the publication date, FIS supports this release on the following hardware and operating system versions.&nbsp; Contact FIS for a current list of supported platforms.    </p>    <div>      &nbsp;    </div>    <p>    </p>    <div>      &nbsp;    </div>    <p>    </p>    <div class=informaltable>      <table border=1 width=95%>        <tbody>        <tr>          <td align=middle valign=top>            <p>              <span class=bold><b>Platform</b></span>            </p>          </td>          <td align=middle valign=top>            <p>              <span class=bold><b>Supported Versions</b></span>            </p>          </td>          <td align=middle valign=top>            <p>              <span class=bold><b>Notes</b></span>            </p>          </td>        </tr>        <tr>          <td align=middle valign=top>            <p>              Hewlett-Packard Integrity IA64 HP-UX            </p>          </td>          <td align=middle valign=top>            <p>              11V3 (11.31)            </p>          </td>          <td align=left valign=top>            <div>              <font style=BACKGROUND-COLOR:#f3f3f3>&nbsp;</font>            </div>          </td>        </tr>        <tr>          <td align=middle valign=top>            <p>              IA64 GNU/Linux - Red Hat Enterprise Linux            </p>          </td>          <td align=middle valign=top>            <p>              Red Hat Enterprise Linux 5.3            </p>          </td>          <td align=left valign=top>            <p>              GT.M should also run on recent releases of other major Linux distributions with a contemporary 2.6 Linux kernel, glibc (version 2.5-24 or later) and ncurses (version 5.5-24 or later).&nbsp; We have verified that GT.M passes comprehensive testing on RHEL 5.x on machines that have single cells (no more than 8 CPUs).&nbsp; Multi-cell machines are not considered suitable for production use until they are certified.            </p>            <p>            </p>          </td>        </tr>        <tr>          <td align=middle valign=top>            <p>              Hewlett-Packard PA-RISC HP-UX            </p>          </td>          <td align=middle valign=top>            <p>              11.11            </p>          </td>          <td align=left valign=top>            <p>              GT.M supports UTF-8 mode and M mode on this platform subject to the following:            </p>            <p>            </p>            <div>              &nbsp;            </div>            <ul>              <li>                Problems with HP-UX 11.11 prevent FIS from testing 4 byte UTF-8 characters.&nbsp; FIS understands that the issue is resolved in HP-UX 11.31.&nbsp; At this time, HP-UX 11.31 is still untested and not formally supported for GT.M; however, we are aware of nothing that would prevent this GT.M release from working correctly on that newer version.              </li>            </ul>            <p>            </p>            <br>            <p>              Running GT.M on HP-UX 11i requires that patch PHKL_28475 be applied to the system.&nbsp; This patch fixes a problem with the <font face="courier new">lseek64()</font> C library call that GT.M uses.&nbsp; A system without this patch gives fairly consistent database errors of varying types, structural damage, and in general does not work correctly for any but the most simplistic usage.&nbsp; The <span class=emphasis><font face="courier new">swlist -p</font></span> command (executed as root) can be used to determine if this patch has been applied.&nbsp; Since recent "BATCH" and "GOLDEN" patches may contain this patch, your system may already have this patch applied but may not list it separately. Contact your HP support channel for more information.            </p>            <p>            </p>            <br>            <p>              GT.M does not support database encryption on this platform.            </p>            <p>              &nbsp;            </p>            <p>              <font style=BACKGROUND-COLOR:#ffffff>GT.M does not support the Memory Mapped (MM) Access Method on this platform.</font>            </p>            <p>              <br>            </p>            <p>              Although this platform remains at present fully supported with respect to bug fixes, owing to its looming sunset by the vendor, new functionality is supported on this platform only for FIS' convenience. &nbsp;Please contact your FIS account manager regarding future support.            </p>            <p>            </p>          </td>        </tr>        <tr>          <td align=middle valign=top>            <p>              Hewlett-Packard Alpha/AXP Tru64 UNIX            </p>          </td>          <td align=middle valign=top>            <p>              5.1B            </p>          </td>          <td align=left valign=top>            <p>              GT.M supports M mode but not UTF-8 mode on this platform.&nbsp; GT.M does not support database encryption on this platform.            </p>            <p>              <br>            </p>            <p>              <font style=BACKGROUND-COLOR:#ffffff>Although this platform remains at present fully supported with respect to bug fixes, owing to its looming sunset by the vendor, new functionality is supported on this platform only for FIS' convenience. &nbsp;Please contact your FIS account manager regarding future support.</font>            </p>          </td>        </tr>        <tr>          <td align=middle valign=top>            <p>              Hewlett-Packard Alpha/AXP OpenVMS            </p>          </td>          <td align=middle valign=top>            <p>              7.3-1/7.3-2/8.2/8.3            </p>          </td>          <td align=left valign=top>            <p>              GT.M supports M mode but not UTF-8 mode on this platform.&nbsp; GT.M does not support several recent enhancements on this platform, including but not limited to database encryption, on-line backup, multi-site replication, PIPE devices and triggers.            </p>            <p>            </p>            <br>            <p>              If you need to work with external calls written in C with Version 6.x of the Compaq C compiler on Alpha OpenVMS, then you must carefully review all the provided kits for that product and apply them appropriately.            </p>            <p>              <br>            </p>            <p>              <font style=BACKGROUND-COLOR:#ffffff>Although this platform remains at present fully supported with respect to bug fixes, owing to its looming sunset by the vendor, new functionality is supported on this platform only for FIS' convenience. &nbsp;Please contact your FIS account manager regarding future support.</font>            </p>            <p>            </p>          </td>        </tr>        <tr>          <td align=middle valign=top>            <p>              IBM System p AIX            </p>          </td>          <td align=middle valign=top>            <p>              5.3, 6.1            </p>          </td>          <td align=left valign=top>            <p>              Since GT.M processes are 64-bit, FIS expects 64-bit AIX configurations to be preferable.            </p>            <p>            </p>            <br>            <ul>              <li>                While GT.M supports both UTF-8 mode and M mode on this platform, there are problems with the AIX ICU utilities that prevent FIS from testing 4-byte UTF-8 characters as comprehensively on this platform as we do on others.              </li>            </ul>          </td>        </tr>        <tr>          <td style=TEXT-ALIGN:center>            IBM System z z/OS          </td>          <td align=middle valign=top>            V1R10          </td>          <td align=left valign=top>            At this time, FIS is not providing a distribution of GT.M for this platform. &nbsp;Contact your FIS account executive if you need such a distribution.          </td>        </tr>        <tr>          <td align=middle valign=top>            <p>              Sun SPARC Solaris            </p>          </td>          <td align=middle valign=top>            <p>              9 (Update 3 and above) and 10 (Update 6 and above)<br>            </p>          </td>          <td align=left valign=top>            <p>              GT.M supports the deprecated DAL calls in M mode but not in UTF-8 mode.&nbsp; Please refer to the Integrating External Routines chapter in the Programmer’s Guide for appropriate alternative solutions.            </p>            <p>            </p>          </td>        </tr>        <tr>          <td align=middle valign=top>            <p>              x86_64 GNU/Linux            </p>          </td>          <td align=middle valign=top>            <p>              Red Hat Enterprise Linux 5.4; Ubuntu 8.04 LTS through 9.10            </p>          </td>          <td align=left valign=top>            <p>              To run 64-bit GT.M processes requires both a 64-bit kernel as well as 64-bit hardware.            </p>            <p>            </p>            <div>              &nbsp;            </div>            <p>              GT.M should also run on recent releases of other major Linux distributions with a contemporary 2.6 Linux kernel, glibc (version 2.5-24 or later) and ncurses (version 5.5 or later).            </p>            <p>            </p>            <div>              &nbsp;            </div>            <p>              To install GT.M with Unicode (UTF-8) support on RHEL 5.4, in response to the installation question <font face="courier new">Should an ICU version other than the default be used? (y or n)</font> please respond <font face="courier new">y</font> and then specify the ICU version (e.g., respond <font face="courier new">3.6</font>) to the subsequent prompt <font face="courier new">Enter ICU version (at least ICU version 3.6 is required. Enter as &lt;minor-ver&gt;.&lt;major-ver&gt;):</font>            </p>            <p>            </p>          </td>        </tr>        <tr>          <td align=middle valign=top>            <p>              x86 GNU/Linux            </p>          </td>          <td align=middle valign=top>            <p>              Red Hat Enterprise Linux 4            </p>          </td>          <td align=left valign=top>            <p>              This 32-bit version of GT.M runs on either 32- or 64-bit x86 platforms; we expect the X86_64 GNU/Linux version of GT.M to be preferable on 64-bit hardware.            </p>            <p>            </p>            <div>              &nbsp;            </div>            <p>              GT.M should also run on recent releases of other major Linux distributions with a contemporary 2.6 Linux kernel, glibc (version 2.3.4-2 or later) and ncurses (version 5.4-1 or later).&nbsp; The minimum CPU must have the instruction set of a 686 (Pentium Pro) or equivalent. Contact FIS for support of older CPUs.            </p>            <p>            </p>            <div>              &nbsp;            </div>            <p>              Although RHEL 5.x is officially not supported for the 32-bit x86 GNU/Linux GT.M, we are aware of no reason why GT.M will not run on it.            </p>            <p>            </p>            <div>              &nbsp;            </div>            <p>              This is the last GT.M release for RHEL 4.x.&nbsp; Future GT.M releases will require RHEL V5.x.            </p>          </td>        </tr>        </tbody>      </table>    </div>  </div>  <div class=sect2>    <div class=titlepage>      <p class=returntotop>      </p>      <div>        &nbsp;      </div>      <p class=returntotop>        <a href=#toc id=b9kr target=_self title="Return to Table of Contents">Return to Table of Contents</a>      </p>      <h3 class=title>        <a id=_Migrating_to_64_bit_platforms name=_Migrating_to_64_bit_platforms></a><a id=manage64></a>Migrating to 64-bit platforms      </h3>    </div>    <p>      The same application code runs on both 32-bit and 64-bit platforms. Please note that:    </p>    <p>    </p>    <div>      &nbsp;    </div>    <div class=itemizedlist>      <ul>        <li>          <p>            You must compile the application code separately for each platform.&nbsp; Even though the M source code is exactly the same, the generated object modules are different even on the same hardware architecture - the object code for x86 and x86_64 is different.          </p>        </li>        <li>          <p>            Parameter-types that interface GT.M with non-M code using C calling conventions must match the data-types on their target platforms.&nbsp; Mostly, these parameters are for call-ins, external calls, internationalization (collation), and environment translation and are listed in the tables below.&nbsp; Note that most addresses on 64-bit platforms are 8 bytes long and require 8 byte alignment in structures whereas all addresses on 32-bit platforms are 4 bytes long and require 4-byte alignment in structures.          </p>        </li>      </ul>    </div>    <div class=sect3>      <div class=titlepage>        <h4 class=title>          <a id=_Call_ins_and_External_Calls_0 name=_Call_ins_and_External_Calls_0></a>Call-ins and External Calls        </h4>      </div>      <div class=informaltable>        <table border=1>          <tbody>          <tr>            <td>              <p>                <span class=bold><b>Parameter type</b></span>              </p>            </td>            <td>              <p>                <span class=bold><b>32-Bit</b></span>              </p>            </td>            <td>              <p>                <span class=bold><b>64-bit</b></span>              </p>            </td>            <td>              <p>                <span class=bold><b>Remarks</b></span>              </p>            </td>          </tr>          <tr>            <td>              <p>                gtm_long_t              </p>            </td>            <td>              <p>                4-byte (32-bit)              </p>            </td>            <td>              <p>                8-byte (64-bit)              </p>            </td>            <td>              <p>                gtm_long_t is much the same as the C language long type, except on Tru64 UNIX, where GT.M remains a 32-bit application.              </p>            </td>          </tr>          <tr>            <td>              <p>                gtm_ulong_t              </p>            </td>            <td>              <p>                4-byte              </p>            </td>            <td>              <p>                8-byte              </p>            </td>            <td>              <p>                gtm_ulong_t is much the same as the C language unsigned long type.              </p>            </td>          </tr>          <tr>            <td>              <p>                gtm_int_t              </p>            </td>            <td>              <p>                4-byte              </p>            </td>            <td>              <p>                4-byte              </p>            </td>            <td>              <p>                gtm_int_t has 32-bit length on all platforms.              </p>            </td>          </tr>          <tr>            <td>              <p>                gtm_uint_t              </p>            </td>            <td>              <p>                4-byte              </p>            </td>            <td>              <p>                4-byte              </p>            </td>            <td>              <p>                gtm_uint_t has 32-bit length on all platforms              </p>            </td>          </tr>          </tbody>        </table>      </div>    </div>    <div class=sect3>      <div class=titlepage>        <p class=title>        </p>        <div>          &nbsp;        </div>        <ul>          <li>            If your interface uses gtm_long_t or gtm_ulong_t types but your interface code uses int or signed int types, failure to revise the types so they match on a 64-bit platform will cause the code to fail in unpleasant, potentially dangerous and hard to diagnose ways.          </li>        </ul>        <h4 class=title>          <a id=_Internationalization_Collatio name=_Internationalization_Collatio></a>Internationalization (Collation)        </h4>      </div>      <div class=informaltable>        <table border=1>          <tbody>          <tr>            <td>              <p>                <span class=bold><b>Parameter type</b></span>              </p>            </td>            <td>              <p>                <span class=bold><b>32-Bit </b></span>              </p>            </td>            <td>              <p>                <span class=bold><b>64-bit</b></span>              </p>            </td>            <td>              <p>                <span class=bold><b>Remarks</b></span>              </p>            </td>          </tr>          <tr>            <td>              <p>                gtm_descriptor in gtm_descript.h              </p>            </td>            <td>              <p>                4-byte              </p>            </td>            <td>              <p>                8-byte              </p>            </td>            <td>              <p>                Although it is only the address within these types that changes, the structures may grow by up to 8 bytes as a result of compiler padding to meet platform alignment requirements.              </p>            </td>          </tr>          </tbody>        </table>      </div>    </div>    <div class=sect3>      <div class=titlepage>        <p class=title>        </p>        <div>          &nbsp;        </div>        <ul>          <li>            Assuming other aspects of their code are 64-bit capable, collation routines should require only recompilation. &nbsp;          </li>        </ul>        <h4 class=title>          <a id=_Environment_Translation_61573 name=_Environment_Translation_61573></a>Environment Translation&nbsp;        </h4>      </div>      <div class=informaltable>        <table border=1>          <tbody>          <tr>            <td>              <p>                <span class=bold><b>Parameter type</b></span>              </p>            </td>            <td>              <p>                <span class=bold><b>32-Bit</b></span>              </p>            </td>            <td>              <p>                <span class=bold><b>64-bit</b></span>              </p>            </td>            <td>              <p>                <span class=bold><b>Remarks</b></span>              </p>            </td>          </tr>          <tr>            <td>              <p>                gtm_string_t type in gtmxc_types.h              </p>            </td>            <td>              <p>                4-byte              </p>            </td>            <td>              <p>                8-byte              </p>            </td>            <td>              <p>                Although it is only the address within these types that changes, the structures may grow by up to 8 bytes as a result of compiler padding to meet platform alignment requirements.              </p>            </td>          </tr>          </tbody>        </table>      </div>    </div>  </div>  <div class=sect2>    <div class=titlepage>      <p class=returntotop>      </p>      <div>        &nbsp;      </div>      <ul>        <li>          Any environment translation routines require only a recompile, assuming other aspects of their code are 64-bit capable.        </li>      </ul>      <p class=returntotop>      </p>      <div>        &nbsp;      </div>      <p class=returntotop>        <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#Table_of_Contents_510593612128_7471010945331905 target=_blank title="Click here to move to the Table of Contents"></a><a href=#toc id=p:lc target=_self title="Return to Table of Contents">Return to Table of Contents</a><a href=http://docs.google.com/Doc?docid=0AcenITK__xu5ZHBxcTZoNl80NWdkejg3YmRi&amp;hl=en#TOC id=m.nh target=_self title="Return to Table of Contents"></a>      </p>      <h3 class=title>        <a id=_Recompile_7524501020454256_50 name=_Recompile_7524501020454256_50></a><a id=id1030600></a>Recompile      </h3>    </div>    <div class=itemizedlist>      <ul>        <li>          <p>            Recompile all M and C source files.          </p>        </li>      </ul>    </div>  </div>  <div class=sect2>    <div class=titlepage>      <p class=returntotop>        <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#id1030164></a>      </p>      <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#id1030164></a><br>      <div>        &nbsp;      </div>      <p class=returntotop>        <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#Table_of_Contents_510593612128_7471010945331905 target=_blank title="Click here to move to the Table of Contents"></a><a href=#toc id=r03q target=_self title="Return to Table of Contents">Return to Table of Contents</a><a href=http://docs.google.com/Doc?docid=0AcenITK__xu5ZHBxcTZoNl80NWdkejg3YmRi&amp;hl=en#TOC id=l64g target=_self title="Return to Table of Contents"></a>      </p>      <h3 class=title>        <a id=_Rebuild_Shared_Libraries_or_I name=_Rebuild_Shared_Libraries_or_I></a><a id=id1031496></a>Rebuild Shared Libraries or Images      </h3>    </div>    <div class=itemizedlist>      <ul>        <li>          <p>            Rebuild all Shared Libraries (UNIX) or Shareable Executable Images (OpenVMS) after recompiling all M and C source files.          </p>        </li>      </ul>    </div>  </div>  <div class=sect2>    <div class=titlepage>      <p class=returntotop>        <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#id1030164></a>      </p>      <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#id1030164></a><br>      <div>        &nbsp;      </div>      <p class=returntotop>        <a href=#toc id=y8nu target=_self title="Return to Table of Contents">Return to Table of Contents</a>      </p>      <h3 class=title>        <a id=_Additional_Installation_Instr name=_Additional_Installation_Instr></a>Additional Installation Instructions&nbsp;      </h3>    </div>    <p>      To install GT.M, see the "Installing GT.M" section in the GT.M Administration and Operations Guide.    </p>    <div class=sect3>      <div class=titlepage>        <h4 class=title>          <a id=_UNIX_2470193629452917_4777089 name=_UNIX_2470193629452917_4777089></a><a id=id1033081></a>UNIX        </h4>      </div>      <div class=orderedlist>        <ol type=1>          <li>            Fidelity strongly recommends installing each version of GT.M in a separate (new) directory, rather than overwriting a previously installed version.&nbsp; If you must overwrite an existing GT.M installation with a new version you <i>must</i> first shut down all processes using the old version.&nbsp; FIS suggests installing GT.M V5.4-000A in a <a href=http://www.pathname.com/fhs/ id=fsyy title="Click here to visit the Filesystem Hierarchy Standard home page">Filesystem Hierarchy Standard</a> compliant location such as&nbsp;<font face="courier new">/usr/lib/fis-gtm/V5.4-000A_</font><font face="arial narrow">arch</font> (for example, <font face="courier new">/usr/lib/fis-gtm/V5.4-000A_x86</font>) on 32-bit Linux systems.&nbsp; A location such as <font face="courier new">/opt/fis-gtm/V5.4-000A</font>_<font face="'Arial Narrow'">arch</font> would also be appropriate. &nbsp;Note that the <font face="'Arial Narrow'">arch</font> suffix is especially important if you plan to install 32- and 64-bit versions of the same release of GT.M on the same system.          </li>          <li>            <p>              Use the MUPIP RUNDOWN command of the old GT.M version to ensure all database files are cleanly closed.            </p>          </li>          <li>            <p>              In UNIX editions, make sure gtmsecshr is not running. If gtmsecshr is running, first stop all GT.M processes including the DSE, LKE and MUPIP utilities and then perform <font face="courier new">kill </font><font face="arial narrow">&lt;pid_of_gtmsecshr&gt;</font>.            </p>          </li>        </ol>        <br>        <ul style=MARGIN-LEFT:40px>          <li>            <u><i>Never</i></u> replace the binary image on disk of any executable file while it is in use by an active process.&nbsp; It may lead to unpredictable results. Depending on the operating system, these results include but are not limited to the denial of service (that is, system lockup) and damage to files that these processes open (that is, database structural damage).          </li>        </ul>        <ol type=1>        </ol>      </div>      <div class=sect4>        <div class=titlepage>          <h5 class=title>            <a id=_Additional_Information_for_AI name=_Additional_Information_for_AI></a><a id=id1033125></a>Additional Information for AIX          </h5>        </div>        <p>          GT.M for IBM pSeries AIX requires the Asynchronous IO facility to be available and configured. Before installing GT.M on IBM pSeries AIX, run the following command to check the filesets of this facility: <span class=emphasis><font face="courier new">lslpp -l bos.rte.aio</font></span>        </p>        <p>        </p>        <br>        <p>          If there are no filesets, then install them from AIX installation media.&nbsp; Then, use SMIT to configure the Asynchronous IO facility.&nbsp; Use SMIT as follows:        </p>        <br>        <div class=itemizedlist>          <ul>            <li>              <p>                <span class=emphasis><font face="courier new">smit aio</font> (for gui mode) or</span>              </p>            </li>            <li>              <p>                <span class=emphasis><font face="courier new">smitty aio</font> (for text mode)</span>              </p>            </li>          </ul>        </div>        <p>        </p>        <div>          &nbsp;        </div>        <p>          For a system that has the <span class=emphasis>"posixaio"</span> option instead of <span class=emphasis>"aio"</span> (also called "legacy aio"), use SMIT as follows:        </p>        <br>        <div class=itemizedlist>          <ul>            <li>              <p>                <span class=emphasis><font face="courier new">smit posixaio</font> (for gui mode) or</span>              </p>            </li>            <li>              <p>                <span class=emphasis><font face="courier new">smitty posixaio</font> (for text mode)</span>              </p>            </li>          </ul>          <div>            Select <span class=emphasis>"Configure AIO now"</span><i><span class=emphasis>.</span>&nbsp; </i>If you see a message such as <span class=emphasis>"aio0 has been created"</span>, it means that there is no further need of setup at this time.          </div>          <br>        </div>        <p>          In addition to configuring the aio0 device, select <span class=emphasis>"Change/Show characteristics of Asynchronous I/O"</span> change the value of <span class=emphasis>"State to be configured at system restart" </span>from <span class=emphasis>"defined" </span>to <span class=emphasis>"available"</span>.&nbsp; This ensures that the aio0 device will be available when you next reboot the system.        </p><br>        <p>Since GT.M is not a thread safe application, starting multiple threads in a process, or sometimes even loading libpthreads can cause process failure with symptoms such as SIG-11.  On AIX, sometimes seemingly innocuous actions can pull libpthreads into a process and cause it to fail.  Two known cases are (a) use of non-POSIX (Olson) names such as America/Chicago for the TZ environment variable - please use POSIX names such as CST6CDT instead - and (b) using LDAP to authenticate userids.  Other cases probably exist.        </p>        <br>        <p>          If you expect a database file or journal file to exceed 2GB, then you <i>must</i> configure its file system to permit files larger than 2GB.&nbsp; Furthermore, should you choose to place journal files on file systems with a 2GB limit, since GT.M journal files can grow to a maximum size of 4GB, you <i>must</i> then set the journal auto switch limit to less than 2 GB.        </p>      </div>    </div>    <div class=sect3>      <div class=titlepage>        <h4 class=title>          <a id=_OpenVMS_6976338280179322_1641 name=_OpenVMS_6976338280179322_1641></a><a id=id1032899></a>OpenVMS        </h4>      </div>      <p>        To upgrade from a GT.M version prior to V4.3-001, you must update any customized copy of <span class=emphasis><i><font face="courier new">GTM$DEFAULTS</font> </i></span>to include a definition for <span class=emphasis><font face="courier new">GTM$ZDATE_FORM</font></span><font face="courier new">.</font>      </p>      <p>      </p>      <br>      <p>        You can ignore the following section if you choose the standard GT.M configuration or answer <span class=emphasis><i>yes </i></span>to the following question:      </p>      <p style="FONT-FAMILY:Courier New">        <span class=emphasis>Do you want to define GT.M commands to the system</span>      </p>    </div>    <p>    </p>    <br>    <p>      If you define GT.M commands locally with <span class=emphasis><font face="courier new">SET COMMAND GTM$DIST:GTMCOMMANDS.CLD</font></span> in <font face="courier new">GTMLOGIN.COM</font> or other command file for each process which uses GT.M, you must execute the same command after installing the new version of GT.M before using it.&nbsp; If you define the GT.M commands to the system other than during the installation of GT.M, you must update the system <font face="courier new">DCLTABLES</font> with the new <span class=emphasis><font face="courier new">GTMCOMMANDS.CLD</font> </span>provided with this version of GT.M.&nbsp; See the OpenVMS "Command Definition, Librarian, and Message Utilities Manual" section on "Adding a system command."&nbsp; In both cases, it is important for each process to match the proper <font face="courier new">GTMCOMMANDS.CLD</font> with the version of GT.M it runs.    </p>    <p>      <br>    </p>  </div>  <p class=returntotop>    <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#Table_of_Contents_510593612128_7471010945331905 target=_blank title="Click here to move to the Table of Contents"></a><a href=#toc id=nc_t target=_self title="Return to Table of Contents">Return to Table of Contents</a><a href=http://docs.google.com/Doc?docid=0AcenITK__xu5ZHBxcTZoNl80NWdkejg3YmRi&amp;hl=en#TOC id=g9xk target=_self title="Return to Table of Contents"></a>  </p>  <a id=xj_5 name=_Database_Compatibility_for_GT></a>  <h3 class=title>    <a id=_Database_Compatibility_for_GT_00968863995098651 name=_Database_Compatibility_for_GT_00968863995098651></a>Upgrading to GT.M V5.4-000A  </h3>  <p class=title>    <a id=x4_7 name=_Database_Compatibility_for_GT></a>The GT.M database consists of four types of components— database files, journal files, global directories, and replication instance files. The format of each database component may differ for each GT.M version and even for 32-bit/64-bit GT.M platforms on the same hardware architecture.  </p>  <p class=titlepage>    <br>  </p>  <div class=titlepage>    <a id=rcue name=_Database_Compatibility_for_GT></a>GT.M upgrade procedure for V5.4-000A consists of 4 stages:&nbsp;&nbsp;  </div>  <div class=titlepage>    <a id=g2ze name=_Database_Compatibility_for_GT></a>&nbsp;  </div>  <ul>    <li>      <font size=2><a href=#Stage1 id=h0lz target=_self title="Stage 1">Stage 1: Upgrading your Global Directory</a></font>    </li>    <li>      <font size=2><a href=#Stage2 id=t.0a target=_self title="Stage 2">Stage 2: Upgrading your Database Files</a></font>    </li>    <li>      <a id=ltuh name=_Database_Compatibility_for_GT></a><font size=2><a href=#Stage3 id=r.8. target=_self title="Stage 3">Stage 3: Upgrading your Replication Instance File</a></font>    </li>    <li>      <font size=2><a href=#Stage4 id=p3ri target=_self title="Stage 4">Stage 4: Upgrading your Journal Files</a></font><a id=qaw: name=_Database_Compatibility_for_GT></a>    </li>  </ul>  <a id=a:rf name=_Database_Compatibility_for_GT></a><a id=k7fs name=_Database_Compatibility_for_GT></a><a id=l_es name=_Database_Compatibility_for_GT></a>  <p class=titlepage>    <a id=mf9. name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <p class=titlepage>    <a id=e1:3 name=_Database_Compatibility_for_GT></a>Read the upgrade instructions of each stage carefully. Your upgrade procedure for GT.M V5.4-000A depends on your GT.M upgrade history and your current version.&nbsp;  </p>  <h4 class=titlepage>   S<a id=#Stage1 name=_Database_Compatibility_for_GT_30278964739668745></a>tage 1: Upgrading your Global Directory  </h4>  <a id=q5vm name=_Database_Compatibility_for_GT></a>  <div class=titlepage>    <a id=orqa name=_Database_Compatibility_for_GT></a>FIS strongly recommends you make a copy of your Global Directory before upgrading it. There is no way to downgrade a Global Directory to an earlier format.&nbsp;&nbsp;<br>    <div>      &nbsp;    </div>  </div>  <p class=titlepage>    <a id=_Database_Compatibility_for_GT_7473127083642803 name=_Database_Compatibility_for_GT_7473127083642803></a><b>To upgrade from any prior GT.M version: </b>  </p>  <div>    &nbsp;  </div>  <p class=titlepage>  </p>  <div>    &nbsp;  </div>  <div class=titlepage>    <ol>      <li>        <a id=o0ue name=_Database_Compatibility_for_GT></a>Open your Global Directory with the GDE utility program from GT.M V5.4-000A.      </li>      <li>        <a id=f.7. name=_Database_Compatibility_for_GT></a>Run the <font face="Courier New">EXIT</font> command. This command automatically, even with no other intervening commands, upgrades the global directory.      </li>    </ol>  </div>  <p class=sect2>    <a id=oul1 name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <p class=sect2>    <a id=c.bd name=_Database_Compatibility_for_GT></a>If you inadvertently open a global directory in an earlier format, with no intention of upgrading it, execute the <font face="Courier New">QUIT</font> command rather than the <font face="Courier New">EXIT</font> command.  </p>  <p class=sect2>    <a id=jtnp name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <div class=sect2>    <a id=n_ix name=_Database_Compatibility_for_GT></a>If you inadvertently upgrade a global directory, perform the following steps:  </div>  <div class=sect2>    <a id=kuba name=_Database_Compatibility_for_GT></a>&nbsp;  </div>  <div class=sect2>    <ol>      <li>        <a id=dykd name=_Database_Compatibility_for_GT></a>Open the global directory with GDE from V5.4-000A.      </li>      <li>        <a id=wf6i name=_Database_Compatibility_for_GT></a>Execute the <font face="Courier New">SHOW ALL</font> command.      </li>    </ol>  </div>  <div class=article>    <a id=lbvj name=_Database_Compatibility_for_GT></a>&nbsp;  </div>  <div class=article>    <a id=a89l name=_Database_Compatibility_for_GT></a>Note: Create a GDE command script, or manually enter the GDE commands corresponding to the output, into GDE from the prior GT.M version.  </div>  <p class=article>    <a id=x94- name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <div class=article>    <a id=n:x6 name=_Database_Compatibility_for_GT></a>Note: As global directories are binary files, analogous to object files, FIS recommends that you use a GDE command script to create your global directories.  </div>  <h4 class=article>    <a id=#Stage2 name=Stage_2_5293352739190076_47865_13858318616692045></a>Stage 2: Upgrading your Database Files&nbsp;&nbsp;  </h4>  <a id=rk72 name=_Database_Compatibility_for_GT></a>  <p class=article>    <a id=nf0v name=_Database_Compatibility_for_GT></a>You need to upgrade your database files only when there is a block format upgrade (such as V4-&gt;V5). However, some versions, for example, the ones which have been initially been created with V4 (and subsequently upgraded to a V5 format) may additionally need a <font face="Courier New">MUPIP REORG –UPGRADE</font> operation to upgrade previously used but free blocks that may have been missed by earlier upgrade tools.&nbsp;  </p>  <a id=cvys name=_Database_Compatibility_for_GT></a>  <div>    &nbsp;  </div>  <p class=article>    <a id=wxfo name=_Database_Compatibility_for_GT></a>  </p>  <a id=hd68 name=_Database_Compatibility_for_GT></a>  <div>    &nbsp;  </div>  <p class=article>    <a id=_Database_Compatibility_for_GT_5392545428059027 name=_Database_Compatibility_for_GT_5392545428059027></a><b>To upgrade from a GT.M version prior to V5.000: </b>  </p>  <div>    &nbsp;  </div>  <p class=article>  </p>  <div>    &nbsp;  </div>  <p class=article>  </p>  <ol>    <li>      <div>        <a id=mhjo name=_Database_Compatibility_for_GT></a>Upgrade your database files using in-place or traditional database upgrade procedure depending on your situation. For more information on in-place/traditional database upgrade, see <a href="GTM_Database_Migration.html" id=h8db title="Database Migration Technical Bulletin"><font color=#810081>Database Migration Technical Bulletin</font></a><a id=dabk name=_Database_Compatibility_for_GT></a>.      </div>    </li>  </ol>  <ol start=2>    <li>      <div>        <a id=bqud name=_Database_Compatibility_for_GT></a>Run the <font face="Courier New">MUPIP REORG –UPGRADE</font> command. This command upgrades all V4 block to V5 format.      </div>      <a id=ojuc name=_Database_Compatibility_for_GT></a>    </li>  </ol>  <p>  </p>  <a id=l5do name=_Database_Compatibility_for_GT></a><a id=qlfj name=_Database_Compatibility_for_GT></a>  <p>    <a id=wd5y name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <div>    <a id=y5au name=_Database_Compatibility_for_GT></a>Note: Databases created with GT.M releases prior to V5.0-000 and upgraded to a V5 format retain a maximum size limit of 64M (67,108,864) blocks.    <div>      <a id=cpk4 name=_Database_Compatibility_for_GT></a>&nbsp;    </div>    <a id=or:q name=_Database_Compatibility_for_GT></a>    <div>      &nbsp;    </div>  </div>  <p>    <a id=_Database_Compatibility_for_GT_9275914313641255 name=_Database_Compatibility_for_GT_9275914313641255></a><b><a id=to_up name=to_up></a>To upgrade from GT.M V5.0*/V5.1*/V5.2*/V5.3*: </b>  </p>  <div>    &nbsp;  </div>  <p>  </p>  <div>    &nbsp;  </div>  <div>    <a id=sg7o name=_Database_Compatibility_for_GT></a><a id=bmnc name=_Database_Compatibility_for_GT></a>No database file upgrade procedure is necessary if you upgrade from GT.M V5.0-000 or later to V5.3-000 or later. However, you may need to run the <font face="Courier New">MUPIP REORG –UPGRADE</font> command to upgrade any previously used but free block that may have been missed during earlier upgrade cycles.&nbsp; You do not need to run <font face="Courier New">MUPIP REORG –UPGRADE</font> in either of the following situations:  </div>  <div>    <a id=mg7- name=_Database_Compatibility_for_GT></a>&nbsp;  </div>  <ul>    <li>      <a id=u5eo name=_Database_Compatibility_for_GT></a>A database was created by a V5 <font face="Courier New">MUPIP CREATE</font>    </li>    <li>      <div>        <a id=g:lu name=_Database_Compatibility_for_GT></a>A database has previously been completely processed by a <font face="Courier New">MUPIP REORG –UPGRADE</font> from V5.3-003 or later      </div>    </li>  </ul>  <div>    <a id=a0p: name=_Database_Compatibility_for_GT></a>&nbsp;  </div>  <div>    <a id=u577 name=_Database_Compatibility_for_GT></a>If you have already run the <font face="Courier New">MUPIP REORG –UPGRADE</font> command in a version prior to V5.3-003, subsequent versions cannot determine whether or not it was done correctly and record warnings in the operator log for running <font face="Courier New">MUPIP REORG -UPGRADE</font>. Therefore, you must either:  </div>  <div>    <a id=f7vm name=_Database_Compatibility_for_GT></a>&nbsp;  </div>  <ul>    <li>      <div>        <a id=svqm name=_Database_Compatibility_for_GT></a>Run the <font face="Courier New">MUPIP REORG –UPGRADE</font> command again      </div>    </li>    <li>      <div>        <a id=f-6t name=_Database_Compatibility_for_GT></a>Run the <font face="Courier New">DSE CHANGE –FULLY_UPGRADED=1 </font>command to stop the warnings        <div>          <a id=tghn name=_Database_Compatibility_for_GT></a>&nbsp;        </div>        <div>          <a id=xe0t name=_Database_Compatibility_for_GT></a>Caution: Do not run the <font face="Courier New">DSE CHANGE -FILEHEADER –FULLY_UPGRADED=1</font> command unless you are absolutely certain you have previously successfully run to completion <a id=nr_v name=_Database_Compatibility_for_GT></a><font face="Courier New">MUPIP REORG –UPGRADE</font> from V5.3-003 or later. Using this command when inappropriately may lead to database integrity issues.        </div>      </div>    </li>  </ul>  <p>    <a id=yps5 name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <div>    <a id=pz90 name=_Database_Compatibility_for_GT></a>For additional upgrade considerations, see "<a href=#dcn id=u8:q target=_self title="Database Compatibility Notes">Database Compatibility Notes</a>".&nbsp;&nbsp;    <div>      &nbsp;    </div>  </div>  <h6>    <a id=#dcn name=Upgrade_notes_Database_Files_0_27053328166204926></a>Database Compatibility Notes  </h6>  <a id=g5qa name=_Database_Compatibility_for_GT></a>  <ul>    <li>      <div>        <a id=qdzk name=_Database_Compatibility_for_GT></a>Changes to the database file header may occur in any release.&nbsp; GT.M automatically upgrades database file headers as needed.&nbsp; Any changes to database file headers are upward and downward compatible within a major database release number, that is, although processes from only one GT.M release can access a database file at any given time, processes running different GT.M releases with the same major release number can access a database file at different times.      </div>    </li>    <li>      <div>        <a id=lx_3 name=_Database_Compatibility_for_GT></a>Databases created with V5.3-004 and later can grow to a maximum size of 224M (234,881,024) blocks.&nbsp; This means, for example, that with an 8KB block size, the maximum database file size is 1,792GB (this is the size of a single global variable; a database consists of any number of global variables).&nbsp; A database created with GT.M versions V5.0-000 through V5.3-003 can be upgraded with MUPIP UPGRADE to increase the limit on database file size from 128M to 224M blocks.      </div>    </li>    <li>      <div>        <a id=zu5i name=_Database_Compatibility_for_GT></a>Databases created with V5.0-000 through V5.3-003 have a maximum size of 128M (134,217,728) blocks.&nbsp; Until and unless a database created with V5.3-004 (or later), or created in V5.0-000 through V5.3-003, exceeds the 128M block limit of earlier V5 GT.M releases, it can be accessed by releases V5.0-000 through V5.3-003.&nbsp;      </div>    </li>  </ul>  <h4>    <a id=#Stage3 name=Stage_3_20156017953353456_4337_7418383842141051></a>Stage 3: Upgrading your Replication Instance File  </h4>  <a id=j9nh name=_Database_Compatibility_for_GT></a>  <div>    <a id=hkt4 name=_Database_Compatibility_for_GT></a>If you are running a logical multi-site (LMS) application configuration on a UNIX platform, then you need to recreate the replication instance file using the <font face="Courier New">MUPIP REPLICATE -INSTANCE_CREATE</font> command whenever your upgrade changes GT.M from a 32-bit implementation to a 64-bit implementation (or potentially vice versa on the x86 platform).&nbsp; If your upgrade does not include a change between a 32- and 64-bit implementation then you do not need to recreate the replication instance file.&nbsp; For example, on Linux systems, you do not have to recreate the replication instance file if you upgrade from 32-bit pre V5.3-001 to 32-bit V5.3-001/V5.3-001A/V5.3-002/V5.3-003. You have to recreate the replication instance file only for the upgrade scenarios below.  </div>  <p>    <a id=fqvj name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <p>    <a id=lcdk name=_Database_Compatibility_for_GT></a>Note: When upgrading from a 32-bit GT.M version to a 64-bit GT.M version you always need to recreate the replication instance files.&nbsp; This includes upgrades from V5.3-000 or prior versions to GT.M V5.3-001 or later on AIX or 64-bit Linux and upgrades from V5.3-001 or prior versions to GT.M V5.3-002 or later on Solaris.&nbsp; After creating new replication instance files, always start it with the <font face="Courier New">-UPDATERESYNC</font> qualifier.&nbsp; Using pre-existing instance files (as opposed to creating new instance files) could cause any process that reads the instance file (which includes the source server, receiver server, update process and GT.M processes on an originating instance) to abnormally terminate with errors ranging from REPLINSTSECMTCH to a SIG-11 (which would create a corefile).<br>  </p>  <p>    <a id=fqte name=_Database_Compatibility_for_GT></a>  </p>  <p>    <a id=dzeu name=_Database_Compatibility_for_GT></a>  </p>  <p>    <a id=ttmi name=_Database_Compatibility_for_GT></a><br>  </p>  <p>    <a id=pihi name=_Database_Compatibility_for_GT></a>In the following three scenarios, your source server process terminates abnormally if you do not recreate the replication instance file:  </p>  <p>    <a id=p8uq name=_Database_Compatibility_for_GT></a><a id=q4n- name=_Database_Compatibility_for_GT></a><br>  </p>  <ul>    <li>      <a id=aoes name=_Database_Compatibility_for_GT></a>On AIX systems, if you upgrade from 32-bit pre-V5.3-001 to 64-bit V5.3-001 or later    </li>    <li>      <a id=d7nk name=_Database_Compatibility_for_GT></a>On Linux systems, if you upgrade from a 32-bit pre-V5.3-001 to 64-bit V5.3-001 or later or from a 64-bit release to a newer 32-bit release    </li>    <li>      <a id=f3_e name=_Database_Compatibility_for_GT></a>On Sun SPARC Solaris, if you upgrade from 32-bit pre-V5.3-003 to 64-bit V5.3-003    </li>  </ul>  <p>    <a id=i:95 name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <p>    <a id=uvha name=_Database_Compatibility_for_GT></a>In these cases, shut down all receiver servers on other instances looking for updates from this instance, shut down this instance, recreate the instance file and then restart the receiver server on this instance with the <font face="Courier New">-UPDATERESYNC</font> qualifier.&nbsp;  </p>  <p>    <a id=hkyb name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <p>    <a id=b-_i name=_Database_Compatibility_for_GT></a>Note: Without the UPDATERESYNC qualifier, the replicating instance synchronizes with the originating instance using state information from both instances and potentially rolling back information on the replicating instance. The <font face="Courier New">UPDATERESYNC</font> qualifier declares the replicating instance to be in a wholesome state matching some prior (or current) state of the originating instance; it causes MUPIP to update the information in the replication instance file of the originating instance and not modify information currently in the database on the replicating instance.&nbsp; After this command, the replicating instance catches up to the originating instance starting from its own current state. Use <a id=lb.l name=_Database_Compatibility_for_GT></a><font face="Courier New">UPDATERESYNC</font> only when you are absolutely certain that the replicating instance database was shut down normally<a id=wmqs name=_Database_Compatibility_for_GT></a>&nbsp;with no errors<a id=zp0n name=_Database_Compatibility_for_GT></a>, or <a id=ht4u name=_Database_Compatibility_for_GT></a>appropriately<a id=o78: name=_Database_Compatibility_for_GT></a> copied from another instance with no errors<a id=sbza name=_Database_Compatibility_for_GT></a>.<br>  </p>  <p>    <a id=noxx name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <div>    <a id=aogb name=_Database_Compatibility_for_GT></a>You must always follow the steps in the Multi-Site Replication technical bulletin when migrating from a logical dual site (LDS) configuration to an LMS configuration, even if you are not changing GT.M releases.  </div>  <h4>    <a id=#Stage4 name=Stage_4_5038444195635015_20776_8646409196183289></a>Stage 4: Upgrading your Journal Files  </h4>  <a id=kac4 name=_Database_Compatibility_for_GT></a>  <p>    <a id=_Database_Compatibility_for_GT_6645986153670779 name=_Database_Compatibility_for_GT_6645986153670779></a><b>To upgrade from any prior GT.M version:</b>&nbsp;  </p>  <p>  </p>  <div>    &nbsp;  </div>  <ul>    <li>      <a id=xg:e name=_Database_Compatibility_for_GT></a>Create a fresh backup of your database.    </li>    <li>      <a id=rcph name=_Database_Compatibility_for_GT></a>Generate new journal files (without back-links).    </li>  </ul>  <p>    <a id=n:.a name=_Database_Compatibility_for_GT></a>&nbsp;  </p>  <div>    <a id=ok.e name=_Database_Compatibility_for_GT></a>Important: This is necessary because MUPIP can't use journal files from a release other than its own for RECOVER or ROLLBACK.&nbsp;  </div>  <div>    &nbsp;  </div>  <div class=sect2>    <div class=titlepage>      <p class=returntotop>        <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#Table_of_Contents_510593612128_7471010945331905 target=_blank title="Click here to move to the Table of Contents"></a><a href=#toc id=awj8 target=_self title="Return to Table of Contents">Return to Table of Contents</a>      </p>      <h3 class=title>        <a id=_Managing_M_mode_and_UTF_8_mod name=_Managing_M_mode_and_UTF_8_mod></a><a id=id1033517></a>Managing M mode and UTF-8 mode      </h3>    </div>    <p>      With <a href=http://icu-project.org/ id=cg4w target=_blank title="Click here to visit the International Components for Unicode home page">International Components for Unicode</a> (ICU) version 3.6 or later installed, GT.M's UTF-8 mode provides support for <a href=http://unicode.org/ id=oqah target=_blank title="Click here to visit the home page of the Unicode Consortium">Unicode</a> (ISO/IEC-10646) character strings on selected platforms.&nbsp; On a system that does not have ICU 3.6 or later installed, or on other platforms, GT.M only supports M mode.    </p>    <p>    </p>    <div>      &nbsp;    </div>    <p>      On a system that has ICU installed, GT.M installs support for both M mode and UTF-8 mode, including a <font face="courier new">utf8</font> subdirectory of the directory where GT.M is installed.&nbsp; From the same source file, depending upon the value of the environment variable <font face="courier new">$gtm_chset</font>, the GT.M compiler generates an object file either for M mode or UTF-8 mode.&nbsp; GT.M generates a new object file when an object file is older than the source file and was generated with the same setting of <font face="courier new">$gtm_chset</font>/<font face="courier new">$ZCHset</font>.&nbsp; A GT.M process triggers an error if it encounters an object file generated with a different setting of <font face="courier new">$gtm_chset</font>/<font face="courier new">$ZCHset</font> than that processes' current value.&nbsp;&nbsp;    </p>    <p>    </p>    <div>      &nbsp;    </div>    <p>      Always generate an M object module with a value of <font face="courier new">$gtm_chset</font>/<font face="courier new">$ZCHset</font> matching the value processes executing that module will have.&nbsp; As the GT.M installation itself contains utility programs written in M, their object files also conform to this rule.&nbsp; In order to use utility programs in both M mode and UTF-8 mode, the GT.M installation ensures that both M and UTF-8 versions of object modules exist, the latter in the <font face="courier new">utf8</font> subdirectory.&nbsp; This technique of segregating the object modules by their compilation mode prevents both frequent recompiles and errors in installations where both modes are in use.&nbsp; If your installation uses both modes, consider a similar pattern for structuring application object code repositories.    </p>    <p>      &nbsp;    </p>    <p>      GT.M is installed in a parent directory and a <font face="courier new">utf8</font> subdirectory as follows:&nbsp;&nbsp;    </p>    <div>      &nbsp;    </div>    <div class=itemizedlist>      <ul>        <li>          <p>            Actual files for GT.M executable programs (<font face="courier new">mumps</font>, <font face="courier new">mupip</font>, <font face="courier new">dse</font>, <font face="courier new">lke</font>, and so on) are in the parent directory, that is, the location specified for installation.          </p>        </li>        <li>          <p>            Object files for programs written in M (GDE, utilities) have two versions - one compiled with support for <span class=trademark>Unicode</span> in the <font face="courier new">utf8</font> subdirectory, and one compiled without support for <span class=trademark>Unicode</span> in the parent directory.&nbsp; Installing GT.M generates both the versions of object files, as long as ICU 3.6 or greater is installed and visible to GT.M when GT.M is installed.          </p>        </li>        <li>          <p>            The <font face="courier new">utf8</font> subdirectory has files called <font face="courier new">mumps</font>, <font face="courier new">mupip</font>, <font face="courier new">dse</font>, <font face="courier new">lke</font>, and so on, which are relative symbolic links to the executables in the parent directory (for example, <font face="courier new">mumps</font> is the symbolic link <font face="courier new">../mumps</font>).          </p>        </li>        <li>          <p>            When a shell process sources the shell scripts <span class=emphasis><i>gtmprofile</i></span> or <span class=emphasis><i>gtmcshrc</i></span>, the behavior is as follows:          </p>        </li>        <div class=itemizedlist>          <ul>            <li>              <p>                If <font face="courier new">$gtm_chset</font> is <font face="courier new">"m"</font>, <font face="courier new">"M"</font> or undefined, there is no change from the previous GT.M versions to the value of the environment variable <font face="courier new">$gtmroutines</font>.              </p>            </li>            <li>              <p>                If <font face="courier new">$gtm_chset</font> is <font face="courier new">"UTF-8"</font> (the check is case-insensitive),              </p>              <div>                &nbsp;              </div>            </li>            <div class=itemizedlist>              <ul>                <li>                  <p>                    <font face="courier new">$gtm_dist</font> is set to the <font face="courier new">utf8</font> subdirectory (that is, if GT.M is installed in <font face="courier new">/usr/lib/fis-gtm/gtm_V5.4-000A_i686</font>, then <font face="courier new">gtmprofile</font> and <font face="courier new">gtmcshrc</font> set <font face="courier new">$gtm_dist</font> to <font face="courier new">/usr/lib/fis-gtm/gtm_V5.4-000A_i686/utf8</font>).                  </p>                </li>                <li>                  <p>                    The last element of <font face="courier new">$gtmroutines</font> is <font face="courier new">$gtm_dist($gtm_dist/..)</font> so that the source files in the parent directory for utility programs are matched with object files in the <font face="courier new">utf8</font> subdirectory.&nbsp;                  </p>                  <div>                    &nbsp;                  </div>                </li>              </ul>            </div>          </ul>        </div>      </ul>    </div>    <h4>      <a id=Compiling_ICU_on_HP_PA_RISC_HP name=Compiling_ICU_on_HP_PA_RISC_HP></a>Compiling ICU on HP PA-RISC HP-UX    </h4>    Note: All GT.M versions prior to V5.3-004 require exactly ICU 3.6, however, V5.3-004 (or later) accept ICU 3.6 or later.    <div>      &nbsp;    </div>    <div>      As of this writing (November, 2009), ICU version 3.6 can be compiled on HP PA-RISC HP-UX with the following configuration:    </div>    <div>      &nbsp;    </div>    <p>    </p>    <p>    </p>    <p>    </p>    <div>      &nbsp;    </div>    <p>      <i>Version:</i> 11.31 (11iv3)    </p>    <p>      <i>Compiler:</i> cc HP C/aC++ B3910B A.06.12, aCC HP C/aC++ B3910B A.06.15, GNU Make 3.81    </p>    <div>      &nbsp;    </div>    <p>    </p>    <p>      <i>Instructions: </i>    </p>    <div>      &nbsp;    </div>    <div class=orderedlist>      <ol type=1>        <li>          <p>            Ensure that system environment variable <font face="courier new">$PATH</font> includes the location of all the compilers mentioned above.          </p>        </li>        <li>          <p>            Download the source code of ICU (in this example, version 3.6 for C from <a href=http://icu.sourceforge.net/download/3.6.html#ICU4C target=_top>http://icu.sourceforge.net/download/3.6.html#ICU4C</a>)          </p>        </li>        <li>          <p>            At the shell prompt, execute the following commands:          </p>          <div>            &nbsp;          </div>          <div>            &nbsp;          </div>          <div style="FONT-FAMILY:Courier New;MARGIN-LEFT:40px">            gunzip -d &lt; icu4c-3_6-src.tgz | tar -xf -            <div>              cd icu/source/            </div>          </div>          <div style="FONT-FAMILY:Courier New;MARGIN-LEFT:40px">            <div>              chmod +x runConfigureICU configure install-sh<br>            </div>          </div>          <div style="FONT-FAMILY:Courier New;MARGIN-LEFT:40px">            <div>              runConfigureICU --enable-debug HP-UX/ACC --enable-64bit-libs? --enable-rpath –disable-threads            </div>          </div>          <div style="FONT-FAMILY:Courier New;MARGIN-LEFT:40px">            <div>              &nbsp;            </div>          </div>          <div style="FONT-FAMILY:Courier New;MARGIN-LEFT:40px">            gmake            <div>              &nbsp;            </div>          </div>          <div style="FONT-FAMILY:Courier New;MARGIN-LEFT:40px">            gmake check            <div>              &nbsp;            </div>          </div>          <div style=MARGIN-LEFT:40px>            <font face="courier new">gmake install</font>            <div>              &nbsp;            </div>          </div>        </li>        <li>          <p>            Set the environment variable <font face="courier new">$LD_LIBRARY_PATH</font> to point to the location of ICU.&nbsp; HP-UX uses the environment variable <font face="courier new">$LD_LIBRARY_PATH</font> to search for dynamically linked libraries to be loaded.          </p>        </li>        <li>          <p>            ICU is now installed in <font face="courier new">/usr/local</font>.          </p>        </li>      </ol>      <div>        &nbsp;      </div>      <div style=MARGIN-LEFT:40px>        <ul>          <li>            <p>              By default, ICU is installed in <font face="courier new">/usr/local</font>.&nbsp; If you install ICU in a different directory, type:            </p>          </li>          <div class=itemizedlist>            <ul>              <li>                <font face="Courier New">runConfigureICU HP-UX/ACC --prefix=&lt;install_path&gt; --enable-64bit-libs? --enable-rpath –disable-threads </font>              </li>              <li>                <p>                  Then execute the gmake commands, and set the environment variable <font face="courier new">$LD_LIBRARY_PATH</font> to point to the appropriate location.                </p>              </li>            </ul>          </div>        </ul>      </div>    </div>    <p class=returntotop>    </p>    <div>      &nbsp;    </div>    Note: Although GT.M uses ICU, ICU is not FIS software and FIS does not support ICU.&nbsp; Instructions for installing and configuring ICU are merely provided as a convenience to you.    <h4>      <a id=Compiling_ICU_on_HP_Integrity_ name=Compiling_ICU_on_HP_Integrity_></a>Compiling ICU on HP Integrity IA64 HP-UX    </h4>    <p>      Note: All GT.M versions prior to V5.3-004 require exactly ICU 3.6, however, V5.3-004 (or above) accept ICU 3.6 or later.    </p>    <p>    </p>    <div>      &nbsp;    </div>    <p>      As of this writing (November, 2009), ICU version 3.6 can be compiled on HP Integrity IA64 HP-UX with the following configuration:    </p>    <div>      &nbsp;    </div>    <div>      <i>Version</i>: HP-UX 11.31    </div>    <div>      <i>Compilers</i>: HP C/aC++ B3910B A.06.15, GNU make (3.81)    </div>    <div>      <i>Instructions</i>:    </div>    <div>      &nbsp;    </div>    <ol>      <li>        Ensure that system environment variable PATH includes the location of all the compilers mentioned above.      </li>      <li>        Download the source code of ICU (in this example version 3.6 for C from <a href=http://icu.sourceforge.net/download/3.6.html#ICU4C id=u9qj title=http://icu.sourceforge.net/download/3.6.html#ICU4C>http://icu.sourceforge.net/download/3.6.html#ICU4C</a>).      </li>      <li>        At the shell prompt, run the following commands:      </li>    </ol>    <p>      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font face="courier new">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gunzip -d&lt;&nbsp; icu4c-3_6-src.tgz | tar -xf -</font>    </p>    <div style="FONT-FAMILY:Courier New">      <font face="courier new">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;cd icu/source/</font>    </div>    <div style="FONT-FAMILY:Courier New">      <font face="courier new">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;chmod +x runConfigureICU configure install-sh</font>    </div>    <div style="FONT-FAMILY:Courier New">      <font face="courier new">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;runConfigureICU HP-UX/ACC --disable-threads</font>    </div>    <div style="FONT-FAMILY:Courier New">      <font face="courier new">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;gmake</font>    </div>    <div style="FONT-FAMILY:Courier New">      <font face="courier new">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;gmake check</font>    </div>    <div style="FONT-FAMILY:Courier New">      <font face="courier new">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;gmake install</font>    </div>    <div style="FONT-FAMILY:Courier New">      &nbsp;    </div>    <ol start=4>      <li>        Set the environment variable LD_LIBRARY_PATH to point to the location of ICU. HP-UX uses the environment variable LD_LIBRARY_PATH to search for dynamically linked libraries to be loaded.      </li>    </ol>    <p>    </p>    <div>      <br>      ICU is now installed in the /usr/local directory.    </div>    <p>    </p>    <div>      &nbsp;    </div>    <div class=orderedlist>      <p>        By default, ICU is installed in <font face="courier new">/usr/local</font>.&nbsp; If you install ICU in a different directory, type:      </p>      <ul>        <li>          <p class=MsoPlainText style="MARGIN:0pt 0pt 0pt">            <font face="Courier New">runConfigureICU HP-UX/ACC --prefix=&lt;install_path&gt; --disable-threads</font>          </p>        </li>        <li>          Then run the gmake commands, and set the environment variable <font face="courier new">$LD_LIBRARY_PATH</font> to point to the appropriate location.        </li>      </ul>    </div>  </div>  <div class=sect2>    <div class=titlepage>      <div>        &nbsp;&nbsp;      </div>      <p>        Note: Although GT.M uses ICU, ICU is not FIS software and FIS does not support ICU.&nbsp; The instructions for installing and configuring ICU are merely provided as a convenience to you.      </p>      <p class=returntotop>      </p>      <div>        &nbsp;      </div>      <p class=returntotop>        <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#Table_of_Contents_510593612128_7471010945331905 target=_blank title="Click here to move to the Table of Contents"></a><a href=#toc id=tfqy target=_self title="Return to Table of Contents">Return to Table of Contents</a>      </p>      <h3 class=title>        <a id=_Setting_the_environment_varia name=_Setting_the_environment_varia></a><a id=id1032999></a>Setting the environment variable TERM      </h3>    </div>    <p>      The environment variable <font face="courier new">$TERM</font> must specify a terminfo entry that accurately matches the terminal (or terminal emulator) settings. Refer to the terminfo man pages for more information on the terminal settings of the platform where GT.M needs to run.    </p>    <div>      &nbsp;    </div>    <p>    </p>    <div>      &nbsp;    </div>    <ul>      <li>        Some terminfo entries may seem to work properly but fail to recognize function key sequences or position the cursor properly in response to escape sequences from GT.M.&nbsp; GT.M itself does not have any knowledge of specific terminal control characteristics.&nbsp; Therefore, it is important to specify the right terminfo entry to let GT.M communicate correctly with the terminal.&nbsp; You may need to add new terminfo entries depending on their specific platform and implementation.&nbsp; The terminal (emulator) vendor may also be able to help.      </li>      <li>        GT.M uses the following terminfo capabilities.&nbsp; The full variable name is followed by the capname in parenthesis:        <div>          <span class=emphasis><i>auto_right_margin(am), clr_eos(ed), clr_eol(el), columns(cols), cursor_address(cup), cursor_down(cud1), cursor_left(cub1), cursor_right(cuf1), cursor_up(cuu1), eat_newline_glitch(xenl), key_backspace(kbs), key_dc(kdch1), key_down(kcud1), key_left(kcub1), key_right(kcuf1), key_up(kcuu1), key_insert(kich1), keypad_local(rmkx), keypad_xmit(smkx), lines(lines).</i></span>        </div>      </li>    </ul>    <p>    </p>    <div>      &nbsp;    </div>    <p>      GT.M sends <span class=emphasis><i>keypad_xmit </i></span>before terminal reads for direct mode and READs (other than READ *) if EDITING is enabled. GT.M sends <span class=emphasis><i>keypad_local </i></span>after these terminal reads.    </p>  </div>  <div class=sect2>    <div class=titlepage>      <p class=returntotop>      </p>      <div>        &nbsp;      </div>      <p class=returntotop>        <a href=http://docs.google.com/Doc?docid=0AbNlqcYfBNbiZGhwcjR6bXBfMjloczc2OHNjYw&amp;hl=en#Table_of_Contents_510593612128_7471010945331905 target=_blank title="Click here to move to the Table of Contents"></a><a href=#toc id=bgtx target=_self title="Return to Table of Contents">Return to Table of Contents</a>      </p>      <h3 class=title>        <a id=_Installing_Compression_Librar name=_Installing_Compression_Librar></a><a id=id1033781></a>Installing Compression Libraries      </h3>    </div>    <p>      If you plan to use the optional compression facility for replication, you must provide the compression library.&nbsp; The GT.M interface for compression libraries accepts the <a href=http://zlib.net/ target=_blank title="Click here to visit the zlib home page">zlib</a> compression libraries without any need for adaptation.&nbsp; These libraries are included in many UNIX distributions and are downloadable from the <a href=http://zlib.net/ target=_blank title="Click here to visit the zlib home page">zlib home page</a>.&nbsp; If you prefer to use other compression libraries, you need to configure or adapt them to provide the same API provided by zlib.&nbsp; Simple instructions for compiling zlib on a number of platforms follow.&nbsp; Although GT.M uses zlib, zlib is not FIS software and FIS does not support zlib.&nbsp; These instructions are merely provided as a convenience to you.    </p>    <br>    <p>    </p>    <div>      If a package for zlib is available with your operating system, FIS suggests that you use it rather than building your own.    </div>    <p style=MARGIN-LEFT:0px;MARGIN-RIGHT:0px>    </p>    <br>    <p>      <span class=emphasis><i>Solaris/cc compiler from Sun Studio:</i></span>    </p>    <div style=MARGIN-LEFT:40px>      <font face="courier new">./configure --shared </font>      <div style="FONT-FAMILY:Courier New">        <font face="courier new">make CFLAGS="-KPIC -m64"</font>      </div>      <div>        &nbsp;      </div>    </div>    <p>      <span class=emphasis><i>HP-UX(IA64)/HP C compiler:</i></span>    </p>    <div style="FONT-FAMILY:Courier New;MARGIN-LEFT:40px">      ./configure --shared      <div>        make CFLAGS="+DD64"      </div>      <div>        &nbsp;      </div>    </div>    <p>      <span class=emphasis><i>AIX/XL compiler: </i></span>    </p>    <div style="FONT-FAMILY:Courier New;MARGIN-LEFT:40px">      ./configure --shared      <div>        Add -q64 to the LDFLAGS line of the Makefile      </div>      <div>        make CFLAGS="-q64"      </div>      <div>        &nbsp;      </div>    </div>    <p>      <span class=emphasis><i>Linux/gcc: </i></span>    </p>    <div style="FONT-FAMILY:Courier New;MARGIN-LEFT:40px">      ./configure --shared      <div>        make CFLAGS="-m64"      </div>      <div>        &nbsp;      </div>    </div>    <div>      <span class=emphasis><font face=verdana><i>z/OS</i></font></span><font face=verdana>:</font>    </div>    <div>      &nbsp;    </div>    <div style=MARGIN-LEFT:40px>      Refer to the <a href=GTM_on_z_OS.html id=nn2b target=_blank title="Read the section on steps we used to install zlib on z/OS">steps we used to install zlib on z/OS in the GT.M for z/OS technical bulletin</a>.<br>      <br>    </div>    <p>      By default, GT.M searches for the <font face="courier new">libz.so</font> shared library (<font face="courier new">libz.sl</font> on HPUX PA-RISC) in the standard system library directories (for example, <font face="courier new">/usr/lib</font>, <font face="courier new">/usr/local/lib</font>, <font face="courier new">/usr/local/lib64</font>).&nbsp; If the shared library is installed in a non-standard location, before starting replication, you must ensure that the environment variable <font face="courier new">$LIBPATH</font> (AIX and z/OS) and <font face="courier new">$LD_LIBRARY_PATH</font> (other UNIX platforms) includes the directory containung the library.&nbsp; The source and receiver server link the shared library at runtime.&nbsp; If this fails for any reason (such as file not found, or insufficient authorization), the replication logic logs a DLLNOOPEN error and continues with no compression.    </p>  </div>  <br>  <h1 class=title>    <a id=Change_History_905621674941811 name=Change_History_905621674941811></a>C<a id=changes name=changes></a>hange History&nbsp;  </h1>  <div class=titlepage>    <h3 class=title>      <a id=V5_4_000_3320129335714417_6306 name=V5_4_000_3320129335714417_6306></a><a id=lzv1></a>V5.4-000A    </h3>  </div>  <p class=sect2>    Fixes and enhancements specific to <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font> are:&nbsp;  </p>  <p>    &nbsp;  </p>  <p class=sect2>  </p>  <table border=1 bordercolor=#cccccc cellpadding=2 cellspacing=2 class=simplelist summary="Simple list">	  <tbody>	<tr>      <td align=left valign=top width=15%>        <a href=#S9K03-002761 id=febg target=_self title=S9K03-002761>S9K03-002761</a>      </td>      <td width=100%>Using buffered reads for accessing the source code required for $TEXT(), ZPRINT, and error reporting.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9D10-002376 id=febg target=_self title=S9D10-002376>S9D10-002376</a>      </td>      <td width=100%>        Checking for defined variables and empty strings in local variable subscripts now conforms to the M standard.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9K02-002754 id=yevk target=_self title=S9K02-002754>S9K02-002754</a>      </td>      <td width=100%>        Prevent GDE from losing maximum length NAME entries.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9K02-002755 id=x0vj target=_self title=S9K02-002755>S9K02-002755</a>      </td>      <td width=100%>        $QUIT on x86 and x86-64 GNU/Linux returns a uniformly appropriate result.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9K02-002756 id=u.59 target=_self title=S9K02-002756>S9K02-002756</a>      </td>      <td width=100%>        Prevents a process from hanging (or failing) on a compilation error in a line longer than 1023 characters.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9K02-002757 id=y4js target=_self title=S9K02-002757>S9K02-002757</a>      </td>      <td width=100%>        Better clean up orphaned snapshot files from an INTEG that terminates abnormally.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9K03-002759 id=ufjz target=_self title=S9K03-002759>S9K03-002759</a>      </td>      <td width=100%>        VIEW "NOLVLULLSUBS", "NOUNDEF" combination correctly issues an error for a SET using an undefined local variable as a subscript.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9K02-002758 id=k67i target=_self title=C9K02-002758>C9K02-002758</a>      </td>      <td width=100%>        During installation correctly set setuid bit for the gtmsecshr wrapper and appropriate permission settings for GDE help in utf-8 mode.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9H10-002920 id=bx4b target=_self title=C9H10-002920>C9H10-002920</a>      </td>      <td width=100%>        Prevent error for blanks lines in a GDE command file and correctly resume an interrupted (&lt;CTRL-C&gt;) command file.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J07-003156 id=u_w. target=_self title=C9J07-003156>C9J07-003156</a>      </td>      <td width=100%>        Replication source server improvements for database files in WAS_ON replication state.      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9K02-003239 id=kb03 target=_self title=C9K02-003239>C9K02-003239</a>      </td>      <td width=100%>        Prevent a rare SIG-11 that occurs when MUPIP BACKUP -ONLINE and MUPIP INTEG -ONLINE run concurrently with M transaction processing.      </td>    </tr>    </tbody>  </table>  <p class=sect2>    &nbsp;  </p></div><div class=sect1>  <div class=titlepage>    <h3 class=title>      <a id=V5_4_000_3320129335714417_6306_43321844439019075 name=V5_4_000_3320129335714417_6306_43321844439019075></a><a id=id2485856></a>V5.4-000    </h3>  </div>  <p class=sect2>    Fixes and enhancements specific to V5.4-000 are:  </p>  <p class=sect2>    <br>  </p>  <table border=1 bordercolor=#cccccc cellpadding=2 cellspacing=2 class=simplelist height=100% summary="Simple list" width=100%>    <tbody>    <tr>      <td align=left valign=top width=15%>        <a href=#S9C11-002251 id=pedq target=_self title=S9C11-002251>S9C11-002251</a>      </td>      <td width=100%>        Error in place of GTMASSERT for full LOCK_SPACE      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9D08-002354 id=q40i target=_self title=S9D08-002354>S9D08-002354</a>      </td>      <td width=100%>        Error from $GET() when 2nd argument is undefined local variable      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#NS9I08-002695 id=eqr4 target=_self title=S9I08-002695>S9I08-002695</a>      </td>      <td width=100%>        New Trigger facility      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9I09-002699 id=kv7v target=_self title=S9I09-002699>S9I09-002699</a>      </td>      <td width=100%>        No more inappropriate error from VIEW "FLUSH" or "JNLWAIT"      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9J07-002732 id=k80h target=_self title=S9J07-002732>S9J07-002732</a>      </td>      <td width=100%>        Adaptive MOREREADTIME for SOCKET device      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9J07-002737 id=jtk4 target=_self title=S9J07-002737>S9J07-002737</a>      </td>      <td width=100%>        More user-friendly UNIX distribution kit      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#S9J11-002749 id=q8v. target=_self title=S9J11-002749>S9J11-002749</a>      </td>      <td width=100%>        Cleanup of OPEN for [UNIX] PIPE device      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9902-000839 id=l13- target=_self title=C9902-000839>C9902-000839</a>      </td>      <td width=100%>        ONLINE option now usual default for [UNIX] MUPIP INTEG      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9B12-001842 id=rsf4 target=_self title=C9B12-001842>C9B12-001842</a>      </td>      <td width=100%>        MUPIP INTEG TN_RESET leaves proper state for BACKUP BYTESTREAM      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9D07-002356 id=qye6 target=_self title=C9D07-002356>C9D07-002356</a>      </td>      <td width=100%>        SOCKET CONNECT improvements      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9D08-002390 id=xfof target=_self title=C9D08-002390>C9D08-002390</a>      </td>      <td width=100%>        Facility to trigger UNIX diagnostics on processes holding scarce resources      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9E02-002513 id=z6nh target=_self title=C9E02-002513>C9E02-002513</a>      </td>      <td width=100%>        TRUNCATE for sequential files corrected for Linux      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9F07-002746 id=nabd target=_self title=C9F07-002746>C9F07-002746</a>      </td>      <td width=100%>        $INCREMENT() now starts with a numeric value when adding a string to an undefined global variable      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9H06-002868 id=y_.g target=_self title=C9H06-002868>C9H06-002868</a>      </td>      <td width=100%>        SOCKET device waiting to CONNECT now responds to MUPIP INTRPT      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9H07-002875 id=r1rp target=_self title=C9H07-002875>C9H07-002875</a>      </td>      <td width=100%>        UNIX call-in protects against multiple gtm_init or gtm_exit calls      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9H10-002913 id=c.ql target=_self title=C9H10-002913>C9H10-002913</a>      </td>      <td width=100%>        UTF-8 terminal input protected from loss on INTRPT      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J04-003108 id=rouc target=_self title=C9J04-003108>C9J04-003108</a>      </td>      <td width=100%>        $ECODE and $STATUS() protected from change by INTRPT      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#9J04-003110 id=awjq target=_self title=C9J04-003110>C9J04-003110</a>      </td>      <td width=100%>        MUPIP checks journal files for correct ENDIAN      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J04-003118 id=cezg target=_self title=C9J04-003118>C9J04-003118</a>      </td>      <td width=100%>        Performance improvement for sequential file READ in UTF-8 mode      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J06-003140 id=ho5n target=_self title=C9J06-003140>C9J06-003140</a>      </td>      <td width=100%>        UNIX installation makes files executable only if successful      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J06-003145 id=k31t target=_self title=C9J06-003145>C9J06-003145</a>      </td>      <td width=100%>        UNIX gtmsecshr protects itself against over-length input in addition to existing wrapper protection      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J07-003148 id=vyjm target=_self title=C9J07-003148>C9J07-003148</a>      </td>      <td width=100%>        ZWRITE of undefined alias variables      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J08-003166 id=h_sh target=_self title=C9J08-003166>C9J08-003166</a>      </td>      <td width=100%>        Improve REPLINSTNOHIST error message      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J08-003170 id=pf2_ target=_self title=C9J08-003170>C9J08-003170</a>      </td>      <td width=100%>        Permit z/OS object modules to exceed 32 KB      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J08-003174 id=tlbj target=_self title=C9J08-003174>C9J08-003174</a>      </td>      <td width=100%>        Improve handling of the loading of ICU used by UTF-8 mode      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J08-003178 id=ztf5 target=_self title=C9J08-003178>C9J08-003178</a>      </td>      <td width=100%>        Improve error message for UNIX IPC issue after an improper shutdown      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J08-003179 id=fgoa target=_self title=C9J08-003179>C9J08-003179</a>      </td>      <td width=100%>        New ^%XCMD utility to XECUTE shell command line input      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J09-003188 id=fqjn target=_self title=C9J09-003188>C9J09-003188</a>      </td>      <td width=100%>        Improve CLOSE for [UNIX] PIPE device      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J09-003190 id=cuar target=_self title=C9J09-003190>C9J09-003190</a>      </td>      <td width=100%>        Cleanup gtmcrypt_close memory management in the encryption plug-in interface      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J09-003195 id=i38u target=_self title=C9J09-003195>C9J09-003195</a>      </td>      <td width=100%>        Improve timing on passive replication server shutdown      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J09-003197 id=bjgh target=_self title=C9J09-003197>C9J09-003197</a>      </td>      <td width=100%>        Easy of use improvements for managing basic GT.M environments      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J09-003198 id=kwk6 target=_self title=C9J09-003198>C9J09-003198</a>      </td>      <td width=100%>        UNIX deals with invalid group or owner for files      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J09-003199 id=wo-n target=_self title=C9J09-003199>C9J09-003199</a>      </td>      <td width=100%>        Improvements to UNIX shell interface to protect against over-length input in utility commands      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J09-003201 id=k8zq target=_self title=C9J09-003201>C9J09-003201</a>      </td>      <td width=100%>        UNIX installation deals with missing "bin" user or group      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J10-003202 id=aex2 target=_self title=C9J10-003202>C9J10-003202</a>      </td>      <td width=100%>        Prevent rare cases of DBINVGBL errors      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J10-003203 id=g40k target=_self title=C9J10-003203>C9J10-003203</a>      </td>      <td width=100%>        Properly maintain $REFERENCE after reverse name-level $ORDER() of a global      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J10-003208 id=gw7d target=_self title=C9J10-003208>C9J10-003208</a>      </td>      <td width=100%>        DSE protects against failure when encountering certain bad data      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J11-003211 id=l-r1 target=_self title=C9J11-003211>C9J11-003211</a>      </td>      <td width=100%>        Exclusive KILL behavior within an extrinsic function now controlled by an environment variable      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J11-003214 id=lkpm target=_self title=C9J11-003214>C9J11-003214</a>      </td>      <td width=100%>        Prevent rare cases of an inappropriate TPFAIL GGGG error      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J12-003215 id=k_x1 target=_self title=C9J12-003215>C9J12-003215</a>      </td>      <td width=100%>        Improve performance for very large numbers of local variables      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9J12-003217 id=q-ii target=_self title=C9J12-003217>C9J12-003217</a>      </td>      <td width=100%>        New QUIT * and SET *$$ to return an alias from an extrinsic function      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9K01-003220 id=ux3p target=_self title=C9K01-003220>C9K01-003220</a>      </td>      <td width=100%>        Prevent rare cases of DBKEYORD or DBBADNSUB      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9K01-003222 id=z0v6 target=_self title=C9K01-003222>C9K01-003222</a>      </td>      <td width=100%>        MUPIP BACKUP ensures instance file synchronized with database      </td>    </tr>    <tr>      <td align=left valign=top width=15%>        <a href=#C9K01-003225 id=j8x4 target=_self title=C9K01-003225>C9K01-003225</a>      </td>      <td width=100%>        Maximum UNIX $STORAGE value of 2GB -1      </td>    </tr>    </tbody>  </table>  <p class=sect2>  </p></div><div class=titlepage>  <p class=returntotop>    <a href=http://docs.google.com/Doc?docid=0AcenITK__xu5ZHBxcTZoNl80NWdkejg3YmRi&amp;hl=en#Table_of_Contents target=_self title="Click here to move to the Table of Contents"><br>    </a>  </p>  <p class=returntotop>    <a href=#toc id=v_f- target=_self title="Return to Table of Contents">Return to Table of Contents</a><a href=http://docs.google.com/Doc?docid=0AcenITK__xu5ZHBxcTZoNl80NWdkejg3YmRi&amp;hl=en#TOC id=e5gn target=_self title="Return to Table of Contents"></a>  </p>  <h2 class=title>    <a id=M_Database_Access_509502580530 name=M_Database_Access_509502580530></a><a id=id2487675></a>M-Database Access  </h2></div><div class=itemizedlist>  <ul>    <li>      <p>        <a id=S9I09-002699 name=S9I09-002699></a><a id=trigmain name=trigmain></a><a id=NS9I08-002695 name=NS9I08-002695></a>GT.M triggers are code fragments stored in databases files. &nbsp;When a process updates a global variable, any triggers in that database file whose signatures match the update are automatically executed along with the update. &nbsp;The signature of a trigger consists of the command (e.g., Set, Kill), the global variable, and a subscript pattern, as well as, for Set, optionally a piece separator and pieces of interest. &nbsp;Triggers have many uses, only one of which is to maintain the consistency of application schema by automatically computing cross-reference indexes and maintaining referential integrity. Refer to the <a href=GTM_Triggers.html id=ya7j title="GT.M Triggers Technical Bulletin">GT.M Triggers Technical Bulletin</a> for details.</p><br><p>A MUPIP RECOVER which stops due to an error before making any database modifications also leaves the file header unchanged.  Previously, MUPIP RECOVER marked the database header with the "corrupt" flag and did not clear it for that case. (S9I08-002695)</p>    </li>    <li>      <p>        GT.M no longer issues JNLCNTRL errors when VIEW "JNLWAIT" commands are executed after a journal file switch. Previously, in rare cases, GT.M incorrectly issued a JNLCNTRL error. (S9I09-002699)      </p>    </li>    <li>      <p>        <a id=S9K02-002754 name=S9K02-002754></a>GDE now preserves the mapping of multiple lexically adjacent maximum length global names. In prior versions, GDE created such ranges correctly but lost track of them when reloading the global directory for examination or a subsequent update. The workaround was to always reestablish such ranges after invoking GDE. This issue was reported from a pre-V5 environment where the maximum name length was eight characters rather than the current 31 characters. There is less chance of encountering this issue on versions V5.0-000 and later. (S9K02-002754) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>      </p>    </li>    <li>      <a id=C9F07-002746 name=C9F07-002746></a>GT.M now ensures $INCREMENT() produces a numeric result even when the first argument is an undefined global variable and the second argument is a string containing non-numeric characters. Prior versions returned a string in this condition. If the first argument was a local variable, this worked properly in earlier versions. Note while the case in question is unusual enough to be unlikely, any code that relied on the prior behavior needs updating. (C9F07-002746)    </li>    <li>      <p>        <a id=C9H10-002920 name=C9H10-002920></a>GDE now ignores blank lines in command files. After being interrupted while processing a command file, it also properly closes the file and appropriately resumes the next action. In prior versions, GDE treated blank lines as errors and could fail with a GDECHECK error if a command file was interrupted at certain points with &lt;CTRL-C&gt;. (C9H10-002920) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>      </p>    </li>  </ul></div><ul>  <li>    <p>      <a id=C9J08-003178 name=C9J08-003178></a>A GT.M process now reports a more helpful ERR_REQRUNDOWN error when it fails to attach to a shared memory segment (because of a prior improper shutdown e.g. kill -9). On detecting such a situation, prior versions instead reported the less helpful ERR_DBFILERR. [UNIX] (C9J08-003178)    </p>  </li>  <li>    <p>      <a id=C9J09-003198 name=C9J09-003198></a>As long as the operating system permits the access, GT.M now allows access to database files and journals in cases where the system has no user or group information available for the file. Such an unusual situation can arise, for example, when the user and group are provided via NIS, but if NIS is not currently operational the owner and group cannot be determined; or perhaps a user id is deleted while the GT.M process is active. V5.3-004[A] issued a signal-11 in such a case. [UNIX] (C9J09-003198)    </p>  </li>  <li>    <a id=C9J09-003190 name=C9J09-003190></a>GT.M now properly releases memory in response to a gtmcrypt_close() function call. Previously, depending upon how quickly memory was re-allocated, a gtmcrypt_close() function call could result in a signal 11 causing GT.M to abnormally terminate. [Unix] (C9J09-003190)  </li>  <li>    <p>      <a id=C9J10-003202 name=C9J10-003202></a>GT.M now maintains database integrity even when multiple GT.M processes simultaneously attempt to create the same global variable. This fixes a regression in GT.M V5.3-000 (also present in V5.3-004A and introduced as part of the fixes to C9H09-002901) where, in such situations, it was possible under rare circumstances for the GT.M process to cause database damage (for example, DBINVGBL or DBKEYORD errors). Note that this was an issue only for non-TP updates, that is those which were not surrounded by a TSTART/TCOMMIT. (C9J10-003202)    </p>  </li>  <li>    <a id=C9J10-003203 name=C9J10-003203></a>Using "" as the last subscript in a global argument to $ORDER(gvn,-1) or $ZPREVIOUS(gvn) now maintains $REFERENCE correctly. This fixes a regression introduced in GT.M version V5.3-004 (and present in V5.3-004A) as part of the fix for C9E10-002648. (C9J10-003203)  </li>  <li>    <p>      <a id=C9J10-003208 name=C9J10-003208></a>GT.M now deals correctly with a set of rare cases where it could inappropriately interpret negative numbers in database block control structures as large positive numbers. Previous versions might terminate with memory access violations, or get into indefinite or inappropriately long loops. This was discovered in testing DSE against a database with intentionally inflicted damage, which we expect is characteristic of the unusual conditions that might expose this issue. (C9J10-003208)    </p>  </li>  <li>    <a id=C9J11-003214 name=C9J11-003214></a>GT.M now correctly implements an optimization (that avoids unnecessary global variable tree traversals) for TP transactions. This fixes a regression introduced in GT.M V5.3-004 (and present in V5.3-004A) which in rare cases could cause an incorrect TPFAIL error to be issued (note: this regression did not affect the integrity of the database). (C9J11-003214)  </li>  <li>    <a id=C9K01-003220 name=C9K01-003220></a>GT.M now correctly handles a case where a TP transaction updates the same block, holding the same global multiple times, along with updates of blocks of other globals, and some other process, most likely MUPIP REORG, replaces the block in question with an almost identically configured block from another global in the transaction between the first and second updates of the original block. In previous versions, it was possible for this unusual combination of conditions to cause an incorrect update. The likelihood of this issue increased due to a recent change (C9905-001119) in GT.M V5.3-004 which enabled a global reference caching optimization for TP. (C9K01-003220)  </li></ul><p class=sect1>  <br></p><p class=sect1>  <a href=#toc id=mk1e target=_self title="Return to Table of Contents">Return to Table of Contents</a></p><div class=sect1>  <div class=titlepage>    <h2 class=title>      <a id=M_Other_Than_Database_Access_9 name=M_Other_Than_Database_Access_9></a><a id=id2487547></a>M-Other Than Database Access    </h2>  </div>  <div class=itemizedlist>    <ul>      <li>        <p>          <a id=S9C11-002251 name=S9C11-002251></a>GT.M now issues a LOCKSPACEFULL error to the application and the operator log when the environment attempts more concurrent M LOCKs than the configured LOCK_SPACE for the region can support. Previously under these conditions, GT.M gave a fatal GTMASSERT error. (S9C11-002251)        </p>      </li>      <li>        <p>          <a id=m:37></a><a id=S9D08-002354 name=S9D08-002354></a>GT.M now reports an error if the first argument of a two argument $GET() is defined and the second is an undefined local variable. Prior versions returned the value of the first argument and ignored the error mandated by the standard. If the second argument was a global variable, this worked properly in earlier versions. Note that any code that relies on the prior behavior needs updating. (S9D08-002354)        </p>      </li>      <li>        <p>          <a id=S9D10-002376 name=S9D10-002376></a>GT.M now reports UNDEF errors when it encounters an undefined variable specified for a local variable subscript as it already does for a global variable and as defined in the language standard. In prior versions, KILL and its variants or functions including $DATA(), $GET(), $ORDER() and $QUERY() ignored these errors. Under NOUNDEF operation this change has no user impact. Note: code that relied on the earlier non-standard behavior may now give errors and require revision.<br>          <br>        </p>        <p>          GT.M now supports VIEW "NEVERLVNULLSUBS" to issue the LVNULLSUBS error for any inappropriate use of empty string subscripts in local arrays.&nbsp; The [new] gtm_lvnullsubs UNIX environment variable can have the values 0 - equivalent to VIEW "NOLVNULLSUBS", 1&nbsp; (the default) - equivalent to VIEW "LVNULLSUBS" or&nbsp; 2 - equivalent to VIEW "NEVERLVNULLSUBS". In VMS, the initial state of this characteristic is controlled by the GTM$DEFAULTS file. An empty string as the last subscript in $ORDER() and $QUERY() has the semantic significance of requesting the next lexical item and is not subject to NULLSUBS errors. $VIEW("LVNULLSUBS") returns the corresponding numeric value. In prior versions, GT.M only supported NOLVNULLSUBS, which reported the LVNULLSUBS error for SET commands that would have instantiated a prohibited local array subscript, but not for KILL and its variants or functions including $DATA(), $GET(), $ORDER() and $QUERY().&nbsp; $VIEW("LVNULLSUBS") returned 0 for NOLVNULLSUBS and 1 for LVNULLSUBS. Note that code that expected $VIEW("LVNULLSUBS") to provide a truth value must be revised. Empty string subscript checking for global variables is controlled by a database region characteristic that was already comprehensive and is not affected by this change. Note that programs using empty subscripts for references where those references cannot possibly exist are wasting computer resources, so FIS recommends using LVNULLSUBS or NEVERLVNULLSUBS for local variables and NULLSUBS options ALWAYS or NEVER for global variables. (S9D10-002376) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>        </p>      </li>      <li>        <p>          <a id=S9J07-002732 name=S9J07-002732></a>If the OPEN or USE for a SOCKET device does not specify a MOREREADTIME parameter, any READ uses an initial 200msec internal timeout to minimize CPU load. Subsequent attempts to acquire more characters to fulfill the same READ use a 10msec internal timeout. When a MOREREADTIME parameter specifies a value, READ uses that value exclusively. Previously READ used a default of 10msec when no MOREREADTIME parameter was specifie<font style=BACKGROUND-COLOR:#ffffff>d and consequently could consume considerable CPU cycles, especially on a lightly loaded system</font><font style=BACKGROUND-COLOR:#ffffff><font size=2>. </font></font><font style=BACKGROUND-COLOR:#ffffff><font size=2>If your application currently uses the MOREREADTIME parameter, FIS suggest that you consider whether this new behavior provides better performance and/or reduces CPU usage and allows you to avoid specifying MOREREADTIME.</font></font><font style=BACKGROUND-COLOR:#ffffff><font size=2> (</font></font><font style=BACKGROUND-COLOR:#ffffff><font size=2>S9J07-002732)</font></font>        </p>      </li>      <li>        <p>          <a id=tyzc></a><a id=S9J07-002737 name=S9J07-002737></a>The distribution tar file now provides all files owned by the innocuous user:group ids 40535:40535, with no executable or writable files. With the exception of AIX, no directories have write permissions. On AIX, unpacking the distribution file no longer requires root permissions. In prior versions, the configure script adjusted the authorizations, but the distribution had various settings, and, on AIX, required root access to unpack the distribution. [UNIX] (S9J07-002737)        </p>      </li>      <li>        <p>          <a id=a8:2></a><a id=S9J11-002749 name=S9J11-002749></a>GT.M now handles the OPEN of a PIPE device better in certain situations. In prior versions, specifying various device parameters such as ESCAPE for the $PRINCIPAL device when it was a terminal could result in delays or other problems. [UNIX] (S9J11-002749)        </p>      </li>      <li>        <p>          <a id=S9K02-002755 name=S9K02-002755></a>GT.M now ensures a proper value for $QUIT on x86 and x86-64 GNU/Linux. In V5.4-000 under certain circumstances, it could return an inappropriate result. [x86-64 Linux, x86 Linux] (S9K02-002755) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>        </p>      </li>      <li>        <p>          <a id=S9K02-002756 name=S9K02-002756></a>On compiling an M program, GT.M now omits reports showing the point in the line of code that caused the warning or error for lines longer than 1023 characters; it still reports the line number and column number. In prior versions, attempts to report such long lines could overrun an internal buffer and cause the process to hang or fail. (S9K02-002756) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>        </p>      </li>      <li>        <a id=S9K03-002759 name=S9K03-002759></a>GT.M now correctly detects an attempt to SET a variable with an "NULL" subscript resulting from an undefined variable when using a VIEW "NOLVNULLSUBS", "NOUNDEF" combination. In versions starting with V5.3-001, the changes associated with C9B03-001664 exposed a latent problem such that GT.M did not detect a SET using an undefined local variable as a subscript as an error, but instead could use an indeterminate value for the subscript. (S9K03-002759) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>      </li>      <li>        <a id=S9K03-002761 name=S9K03-002761></a>GT.M now uses buffered reads for accessing the source code required for $TEXT(), ZPRINT, and error reporting. While the performance difference of the buffered read approach is significant, most applications limit their use of the affected features so the overall effect may not be noticeable. Previously, GT.M used unbuffered reads which used many system calls. [UNIX] (S9K03-002761) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>      </li>      <li>        <p>          <a id=jkze></a><a id=C9E02-002513 name=C9E02-002513></a>The TRUNCATE parameter on USE for sequential file devices now works correctly for Linux. In prior versions, USE could truncate at the wrong position. [Linux] (C9E02-002513)        </p>      </li>      <li>        <p>          <a id=C9H06-002868 name=C9H06-002868></a><font style=BACKGROUND-COLOR:#ffffff>The GT.M SOCKET<a id=C9D07-002356 name=C9D07-002356></a> device behavior has improved in a number of ways.<br>          <br>          SOCKET CONNECT operations now respond to MUPIP INTRPT; in prior versions they did not.<br>          <br>          If the command does not specify a timeout, a SOCKET OPEN now waits for the connection to complete or an interrupting event that terminates the attempt. After an interrupt that does not terminate the connection attempt, such as the default value of $ZINTERRUPT ("IF $ZJOBEXAM()"), the process resumes the wait when the XECUTE of the $ZINTERRUPT completes. Previously, an untimed SOCKET OPEN &lt;device&gt;:CONNECT would make a single attempt to connect and return whether or not it was successful, as if it had a timeout of 0.<br>          <br>          SOCKET CONNECT status values EINPROGRESS, EWOULDBLOCK and, on some platforms, EALREADY now wait for the connection to complete or for the specified timeout to expire.&nbsp; Previously, GT.M treated these conditions as errors.<br>          <br>          If IOERROR="TRAP" is specified on a SOCKET OPEN or USE, it now invokes any active EXCEPTION, $ETRAP, or $ZTRAP if an error occurs on a CONNECT.&nbsp; The above status values as well as ECONNREFUSED and ETIMEDOUT are not considered as errors.&nbsp; Previously, status values other than ECONNREFUSED or ETIMEDOUT would always be treated as errors regardless of the IOERROR value. (C9D07-002356, C9H06-002868)</font>        </p>      </li>      <li>        <p>          <a id=C9H07-002875 name=C9H07-002875></a>GT.M now allows only a single set of gtm_init/gtm_exit per process and any attempt to call gtm_init/gtm_ci after a gtm_exit returns the code associated with the CALLINAFTERXIT error. Earlier GT.M versions also did not support invoking gtm_init or gtm_ci after a gtm_exit but did not enforce the restriction.[UNIX] (C9H07-002875)        </p>      </li>      <li>        <a id=C9H10-002913 name=C9H10-002913></a>GT.M now preserves all terminal input when handling an INTRPT in UTF-8 mode. In addition, INTRPT handling now preserves and restores the INSERT terminal characteristic. In prior versions, there was a slight chance a few characters of UTF-8 mode terminal input for either a READ or Direct Mode input could be lost and/or that the INSERT setting would revert to the default after the INTRPT event. [AIX, GNU/Linux, HP-UX, Solaris, z/OS] (C9H10-002913)      </li>      <li>        <a id=C9J04-003108 name=C9J04-003108></a><font style=BACKGROUND-COLOR:#ffffff>GT.M handling of INTRPT processing now protects the values of $ECODE and $STACK() at the time it recognizes the INTRPT. Prior versions allowed the code invoked by the $ZINTERUPT vector to modify those values, probably unintentionally, which could lead to a confused error processing state after completion of the $ZINTERUPT action. (C9J04-003108)</font>      </li>      <li>        <p>          <a id=C9J04-003118 name=C9J04-003118></a>READ from a sequential disk file in UTF-8 mode read buffers the file reads for higher throughput. In prior versions, single character reads limited performance. [UNIX] (C9J04-003118)        </p>      </li>      <li>        <p>          <a id=C9J06-003140 name=C9J06-003140></a>The UNIX installation script for GT.M now sets the executable bits for files such as mumps and mupip only after a successful installation. Previously, the executable bits for these files were sometimes set after an unsuccessful installation. [UNIX] (C9J06-003140)        </p>      </li>      <li>        <a id=C9J06-003145 name=C9J06-003145></a>Both gtmsecshr and GT.M now prevent buffer overflow by checking the length of the gtm_tmp environment variable based on the system-specific sun_path length. In recent and properly patched versions of GT.M this was done only in gtmsecshr_wrapper. [UNIX] (C9J06-003145)      </li>      <li>        <p>          <a id=C9J07-003148 name=C9J07-003148></a>ZSHOW and ZWRITE now display information about alias variables with no associated data provided at least two of the joined variables are selected by the command argument. In prior releases these commands displayed alias containers with no data, but not alias variables with no data. When an alias exists with no data for the command to display, GT.M holds the variable so that it can become the right-hand side of a proper SET * command. However, if the command selection criteria excludes any other alias, GT.M has insufficient information to form a valid SET * argument and does not display that alias. Alias container variables always have a default value (the empty string), so they are handled differently and display as they did before. (C9J07-003148)        </p>      </li>      <li>        <p>          <a id=C9J08-003170 name=C9J08-003170></a>GT.M now handles very large object files correctly on z/OS. V5.3-003[A] produced invalid object files if the generated code exceeded 32KB. [z/OS] (C9J08-003170)        </p>      </li>      <li>        <p>          <a id=C9J08-003174 name=C9J08-003174></a>In UTF8 mode, when the minor version is not specified in the environment variable gtm_icu_version, e.g. 3 instead of 3.6, GT.M issues an ICUSYMNOTFOUND error. Previous versions of GT.M used to issue the ICUVERLT36 error even when the major version specified was greater than or equal to 4. [AIX, GNU/Linux, HP-UX, Solaris, z/OS] (C9J08-003174)        </p>      </li>      <li>        <p>          <a id=C9J08-003179 name=C9J08-003179></a>^%XCMD is a utility program that XECUTEs input from the shell command line and returns any error status (truncated to a single byte on UNIX) generated by that code. For example in UNIX: mumps -run %XCMD 'write "hello world",!' would produce "hello world" (C9J08-003179)        </p>      </li>    </ul>  </div>  <ul>    <li>      <p>        <a id=wnw:></a><a id=C9J09-003188 name=C9J09-003188></a>GT.M now correctly handles the CLOSE of a PIPE device whose STDERR device is the current device. &nbsp;Prior versions issued a segmentation violation in such a case. [UNIX] (C9J09-003188)      </p>    </li>    <li>      <p>        <a id=C9J09-003197 name=C9J09-003197></a><font style=BACKGROUND-COLOR:#ffffff>The file gtmprofile, which sets up a default environment for GT.M has been completely revamped to make it more robust and to make the out-of-box GT.M experience friendlier.&nbsp; gtmprofile now sets up default values for more environment variables, creates a default global directory if one does not exist and a default database with before image journaling, if one does not exist.&nbsp; The new executable shell script gtm uses gtmprofile and automatically recovers the database on startup.&nbsp; gtm also deletes prior generation journal and temporary files older than the number of days specified by the environment variable gtm_retention.&nbsp; A new file gdedefaults specifies default values for global directories.&nbsp; The new gtmprofile script is also idempotent (can be successfully rerun after an abnormal termination), unlike its predecessor.&nbsp; FIS recommends that system administrators review the gtmprofile and gdedefaults files after installing GT.M, and customize them as needed.&nbsp; The previous gtmprofile file remains available as gtmprofile_preV54000 - if you want to retain the previous behavior, simply replace gtmprofile with gtmprofile_preV54000.&nbsp; Note that at this time, the file gtmcshrc has <b>not</b> been similarly revamped for csh/tcsh users (the gtm script does not depend on the underlying shell).&nbsp; [UNIX] (C9J09-003197)</font><font style=BACKGROUND-COLOR:#ffffff>&nbsp;</font>&nbsp;      </p>    </li>    <li>      <p>        <a id=C9J09-003201 name=C9J09-003201></a>The distribution tar file may now be installed if there is no "bin" user and/or group defined.&nbsp; The operator may now enter an alternate user and/or group to own the installation and may also restrict access to this group.&nbsp; Previously the installation failed if the default bin user were specified and did not exist, or if the bin group did not exist - even if another restricted group was chosen. [UNIX] (C9J09-003201)      </p>    </li>    <li>      <p>        <a id=C9J11-003211 name=C9J11-003211></a><font style=BACKGROUND-COLOR:#ffffff>The new $gtm_stdxkill/GTM_STDXKILL environment/logical variable (UNIX/VMS) which if set to "TRUE", 1, or "YES" enables the standard-compliant behavior to kill local variables in the exclusion list if they had an alias that was not in the exclusion list.&nbsp;</font>GT.M default behavior for exclusive kills thus reverts to its previous behavior, not compliant with the standard, where aliases and pass-by-reference variables specified in an exlusive kill are NOT killed even if their aliases are not specified in the exclusion list. In GT.M V5.3-004 (C9B09-001754), this behavior was changed to be compliant with the standard as part of the alias variables enhancement. &nbsp;Please note that the default value is FALSE, so you must explicitly ask for standard-compliant behavior. (C9J11-003211)      </p>    </li>    <li>      <p>        <a id=nt8l></a><a id=C9J12-003215 name=C9J12-003215></a>String pool expansion is now more responsive to the rate at which the application requires space for local variables. This enhancement significantly improves the performance of applications that ramp up to atypically large string pool requirements (in the hundreds of thousands of local variable nodes), while preserving the more parsimonious string pool usage of typical applications. (C9J12-003215)      </p>    </li>    <li>      <p>        <a id=C9J12-003217 name=C9J12-003217></a>GT.M now allows an unsubscripted local variable, alias or alias container to be returned using the QUIT * syntax to a function invocation initiated using a SET *lvn=$$func() syntax. The SET * associates the target "lvn" local variable to the data space specified by the returning QUIT *. Previously GT.M only allowed alias information to be returned using the M pass-by-reference mechanism or by an alias in scope in both the caller and called routines. Additionally, the $QUIT ISV now returns the value "11" to indicate the current routine was invoked by a SET * and is required to return an alias using a QUIT * syntax. Failure to provide a QUIT * return as requested by the invocation produces an ALIASEXPECTED error. Providing a QUIT * return when not requested by the invocation produces a QUITALSINV error. (C9J12-003217)      </p>    </li>    <li>      <p>        <a id=C9K01-003225 name=C9K01-003225></a>UNIX editions will not report a value for $STORAGE larger than (2GB - 1)&nbsp; [2,147,483,647], even if more is available. Previous versions could fail with SEG-V (SIG-11) errors while attempting to report $STORAGE values. [UNIX] (C9K01-003225).&nbsp;      </p>    </li>    <li>      <p>        <a id=C9K02-002758 name=C9K02-002758></a>The configure installation script now assigns the correct permissions to the gtmsecshr wrapper for a non-restricted group installation.&nbsp; It also creates symbolic links required for GTM and GDE help in utf-8 mode.&nbsp; Previously, the setuid bit was not set for the gtmsecshr wrapper on some platforms and [z]help would fail in utf-8 mode.[UNIX] (C9K02-002758) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>      </p>    </li>  </ul>  <p>    &nbsp;  </p>  <p>    <a href=#toc id=j:t1 target=_self title="Return to Table of Contents">Return to Table of Contents</a><a href=http://docs.google.com/Doc?docid=0AcenITK__xu5ZHBxcTZoNl80NWdkejg3YmRi&amp;hl=en#TOC id=u9db target=_self title="Return to Table of Contents"></a>  </p></div><div class=sect1>  <div class=titlepage>    <h2 class=title>      <a id=Utilities_MUPIP_88043024385500 name=Utilities_MUPIP_88043024385500></a>Utilities-MUPIP    </h2>  </div>  <div class=itemizedlist>    <ul>      <li>        <p>          <a id=S9K02-002757 name=S9K02-002757></a>MUPIP and GT.M now clean up temporary snapshot files from INTEG under a wider variety of conditions. In V5.4-000, stopping the INTEG with a &lt;CTRL-C&gt; or a signal could leave the snapshot file orphaned. [UNIX] (S9K02-002757) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>        </p>      </li>      <li>        <p>          <a id=C9902-000839 name=C9902-000839></a>MUPIP INTEG -REGION now supports the -ONLINE qualifier. This allows checking database structural integrity to run concurrently with database updates. Previously, INTEG froze updates on each region while checking it. Online integ is not supported with the -FILE qualifier. The -NOONLINE qualifier indicates that the database should be frozen during the MUPIP INTEG operation.<br>          <br>          The -ONLINE qualifier is now the default for MUPIP INTEG, except for databases containing V4 blocks, for which the default is -NOONLINE. Note that databases containing V4 blocks should exist only in databases that are in the process of being migrated from V4 to V5; please complete your migration to the V5 format before using MUPIP INTEG -ONLINE.<br>          <br>          The environment variable GTM_BAKTMPDIR (unlike most GT.M environment variables, this is upper case; it is the same directory used for MUPIP BACKUP -ONLINE) can be used to indicate a directory where MUPIP should place the snapshot files (used by online integ). If GTM_BAKTMPDIR does not exist, MUPIP places the snapshot files in the current directory at the time you issue the INTEG command.<br>          <br>          As it checks each database file, MUPIP INTEG -ONLINE creates a sparse file of the same size as the database. &nbsp;As each GT.M process updates the database, it places a copy of the old block in the sparse file before updating the database. &nbsp;For any database blocks with a newer transaction number than the start of the INTEG, MUPIP uses the copy in the sparse file. &nbsp;Thus, analogous with MUPIP BACKUP -ONLINE, INTEG reports on the state of the database as of when it starts, not as of when it completes. &nbsp;Note: a command such as ls -l command shows sparse files at their full size, but does not show actual disk usage. Use a command such as du -sh to see actual disk usage.<br>          <br>          Temporary directory security settings must allow write access by the the MUPIP process and read access by all processes updating the database. MUPIP creates the temporary file with the same access as the database file so processes updating the database can write to the temporary file. If the database is encrypted, the updating processes write encrypted blocks to the snapshot file and the MUPIP INTEG process must start with access to appropriate key information as it does even -NOONLINE.<br>          <br>          Only one online integ can be active per database region. If an online integ is already active, a subsequent one issues an error and immediately terminates. If an online integ does not successfully complete, GT.M cleans it up in one of the following ways:        </p>      </li>      <li>        <div>          &nbsp;        </div>      </li>      <ul>        <li>          A subsequent online integ detects that an earlier one did not successfully complete and releases the resources held by the prior online integ before proceeding.        </li>        <li>          If a MUPIP STOP was issued to the online integ process, the process cleans up any resources it held. Note: since the process was stopped the results of the integ may not be valid.        </li>        <li>          A subsequent MUPIP RUNDOWN ensures the release of resources held by prior unsuccessful online integs for the specified regions.        </li>        <li>          For every 64K transactions after the online integ initiation, online integ health GT.M checks for improperly abandoned online integs and releases resources held by any it finds.        </li>      </ul>      <div>        &nbsp;      </div>      <div>        Because the online integ (now the default for most integs) does not freeze database updates, it cannot safely correct errors in the "blocks to upgrade" and "free blocks" fields in the file header, while MUPIP INTEG -NOONLINE can correct these fields.      </div>      <div>        &nbsp;&nbsp;      </div>      <div>        The -ONLINE qualifier is incompatible with the -TN_RESET qualifier. In any case, there should be no need to use -TN_RESET on a GT.M V5 database. [UNIX] (C9902-000839)      </div>      <li>        <p>          <a id=tzpm></a><a id=C9B12-001842 name=C9B12-001842></a>MUPIP INTEG -TN_RESET now resets block transaction numbers and backup event recorded transaction numbers to (one) 1, and the current transaction number to two (2) which makes the backup event recorded transaction numbers more meaningful and useful. It also issues an advisory message to perform a backup. Previously the backup event recorded transaction numbers were not maintained by -TN_RESET, which meant they held inappropriate information. Note that there should never be a need for a -TN_RESET on a datbase with only V5 blocks, even when cleaning up after a runaway process. (C9B12-001842)        </p>      </li>      <li>        <a id=w1-t name=C9D08-002390></a>        <p>          <a id=zpzv name=C9D08-002390></a><font size=2><font style=BACKGROUND-COLOR:#ffffff>GT.M now provides a new monitoring facility for processes holding a resource for an unexpected amount of time. This facility runs a shell command or a script pointed to by the new environment variable gtm_procstuckexe when any of the following conditions occur: &nbsp;<br>          </font></font>        </p>        <a id=pf:g name=C9D08-002390></a>        <p>          <br>        </p>        <a id=c5sw name=C9D08-002390></a>      </li>      <ol>        <a id=xhtb name=C9D08-002390></a>        <li>          <a id=l-0t name=C9D08-002390></a><font size=2><font style=BACKGROUND-COLOR:#ffffff>An explicit MUPIP FREEZE or an implicit freeze, such as BACKUP, INTEG -ONLINE, and so on, after a one minute wait on a region.&nbsp; </font></font><a id=rcjp name=C9D08-002390></a>        </li>        <li>          <a id=cddh name=C9D08-002390></a><font size=2><font style=BACKGROUND-COLOR:#ffffff>MUPIP actions find kill_in_prog (KILLs in progress) to be non-zero after a one minute wait on a region. Note that GT.M now internally maintains a list of PIDs (up to a maximum of 8 PIDs) currently doing a KILL operation.&nbsp;&nbsp;</font></font><a id=rlqp name=C9D08-002390></a>        </li>        <li>          <a id=lz4_ name=C9D08-002390></a><font size=2><font style=BACKGROUND-COLOR:#ffffff>The BUFOWNERSTUCK, INTERLOCK_FAIL, JNLPROCSTUCK, SHUTDOWN, WRITERSTUCK and MAXJNLQIOLOCKWAIT operator messages are being logged. </font></font>        </li>      </ol>      <a id=rjdd name=C9D08-002390></a>      <p>        <font size=2><br>        </font>      </p>      <a id=m-zl name=C9D08-002390></a>      <p>        <a id=l_ye name=C9D08-002390></a><font size=2><font style=BACKGROUND-COLOR:#ffffff>Typically, for the shell script or command pointed to by gtm_procstuckexec, you would write </font><font size=2><font style=BACKGROUND-COLOR:#ffffff>corrective and preventive actions or obtain the stack trace of the troublesome processes (using their PIDs).</font></font><font style=BACKGROUND-COLOR:#ffffff> GT.M passes arguments to the shell command / script in the order specified below:<br>        </font></font>      </p>      <a id=s5aj name=C9D08-002390></a>      <p>        <font size=2><br>        </font>      </p>      <a id=zi4z name=C9D08-002390></a>      <ol>        <a id=o:h_ name=C9D08-002390></a>        <li>          <a id=gh5b name=C9D08-002390></a><font size=2><i><font style=BACKGROUND-COLOR:#ffffff>condition</font></i><font style=BACKGROUND-COLOR:#ffffff> is the name of the condition. For example, BUFOWNERSTUCK, INTERLOCK_FAIL, and so on. </font></font><a id=w5-4 name=C9D08-002390></a>        </li>        <li>          <a id=msnd name=C9D08-002390></a><font size=2><i><font style=BACKGROUND-COLOR:#ffffff>waiting_pid</font></i><font style=BACKGROUND-COLOR:#ffffff> is the PID of the process reporting the condition.&nbsp; </font></font><a id=ymis name=C9D08-002390></a>        </li>        <li>          <a id=minf name=C9D08-002390></a><font size=2><i><font style=BACKGROUND-COLOR:#ffffff>blocking_pid</font></i><font style=BACKGROUND-COLOR:#ffffff> is the PID of the process holding a resource.&nbsp; </font></font><a id=jfu1 name=C9D08-002390></a>        </li>        <li>          <a id=x3j8 name=C9D08-002390></a><font size=2><i><font style=BACKGROUND-COLOR:#ffffff>count</font></i><font style=BACKGROUND-COLOR:#ffffff> is the number of times the script has been invoked for the current condition (1 for the first occurrence). </font></font>        </li>      </ol>      <a id=sx-o name=C9D08-002390></a>      <p>        <br>      </p>      <a id=guxs name=C9D08-002390></a>      <p>        <a id=ap75 name=C9D08-002390></a><font size=2><font style=BACKGROUND-COLOR:#ffffff>Each invocation generates an operator log message and if the invocation fails an error message to the operator log. The shell script should start with a line beginning with #! that designates the shell.&nbsp;</font></font>      </p>      <a id=yv3f name=C9D08-002390></a>      <p>        <font size=2><br>        </font>      </p>      <a id=ulbv name=C9D08-002390></a>      <p>        <a id=jpx- name=C9D08-002390></a><font size=2><font style=BACKGROUND-COLOR:#ffffff>Note: Make sure you have sufficient space and permissions to run the shell command / script.<br>        </font></font>      </p>      <a id=o5z8 name=C9D08-002390></a>      <p>        <font size=2><br>        </font>      </p>      <a id=kwm. name=C9D08-002390></a>      <p>        <a id=kvou name=C9D08-002390></a><font size=2><font style=BACKGROUND-COLOR:#ffffff>Prior versions wait for the condition to clear and in most cases send messages to the operator log. [UNIX] [C9D08-002390]</font></font>      </p>      <li>        <p>          <a id=9J04-003110 name=9J04-003110></a>MUPIP now verifies that the byte ordering (endian-ness) of a journal file matches the byte ordering of the instance on which it is running and issues an error in case of a mismatch. In prior versions, such a case of operational cross-threading caused MUPIP to fail with various complaints about the journal file format or even a memory access violation (SIG-11 or ACCVIO). (C9J04-003110)        </p>      </li>      <li>        <p>          <a id=C9J07-003156 name=C9J07-003156></a>The replication source server now handles database files that are in WAS_ON replication state (and in turn a journaling state of OFF) in a safe manner. If it cannot find the journal records in the journal pool, it reads as many journal records as possible from the journal file chain and when it reaches the point where journaling got turned OFF, it periodically displays a REPL_WARN message until journaling gets turned back ON and then correctly issues a NOPREVLINK error. At all points, it behaves as a read-only process as far as journaling is concerned and never switches journal files. In previous versions of GT.M, it was possible for the source server to incorrectly attempt a switch of journal files in such WAS_ON regions eventually terminating with many types of errors (JNLFILOPN etc.). (C9J07-003156) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>        </p>      </li>      <li>        <p>          <a id=lduh></a><a id=C9J08-003166 name=C9J08-003166></a>The messages produced by a replicating instance when the originating instance encounters a REPLINSTNOHIST error now read:        </p>        <p>          Originating instance encountered a REPLINSTNOHIST error. JNL_SEQNO of this replicating instance precedes the current history in the originating instance file. uuuu exiting.        </p>        <p>          Where uuuu is either a rollback or the receiver server. [UNIX] (C9J08-003166)        </p>      </li>      <li>        <p>          <a id=cnaj></a><a id=C9J09-003195 name=C9J09-003195></a>        </p>        By default, a Source Server now waits for a maximum of one and a half minute per region to shutdown. In prior versions, the maximum wait period for Source Server shutdown was approximately four minutes irrespective of the number of regions. (C9J09-003195).      </li>      <li>        <p>          <a id=C9K01-003222 name=C9K01-003222></a>MUPIP BACKUP -REPLINSTANCE now ensures its backup of the replication instance file is in sync with all databases backed up as part of the same command. This fixes a regression introduced in GT.M V5.3-000 (and present in V5.3-004A) that could in rare cases cause REPLINSTDBMATCH error when attempting to use the backed-up instance file because it held an incorrect sequence number for a database file. A workaround for this is to recreate the instance file, as the backed up databases are correct. (C9K01-003222)[UNIX]        </p>      </li>      <li>        <p>          <a id=C9K02-003239 name=C9K02-003239></a>GT.M now correctly handles an unusual set of circumstances that can occur if MUPIP BACKUP -ONLINE and MUPIP INTEG -ONLINE are running concurrently with M transaction processing. In V5.4-000, these unusual circumstances could cause a SIG-11. [UNIX] (C9K02-003239) <font style=BACKGROUND-COLOR:#ffff00>V5.4-000A</font>        </p>      </li>    </ul>  </div>  <p>    &nbsp;  </p>  <p>    <a href=#toc id=fwew target=_self title="Return to Table of Contents">Return to Table of Contents</a><a href=http://docs.google.com/Doc?docid=0AcenITK__xu5ZHBxcTZoNl80NWdkejg3YmRi&amp;hl=en#TOC id=i4vl target=_self title="Return to Table of Contents"></a>  </p></div><div class=sect1>  <div class=titlepage>    <h2 class=title>      <a id=Utilities_Other_Than_MUPIP_455 name=Utilities_Other_Than_MUPIP_455></a><a id=id2487452></a>Utilities-Other Than MUPIP    </h2>  </div>  <div class=itemizedlist>    <ul>      <li>        <p>          <a id=a:1a></a><a id=C9J09-003199 name=C9J09-003199></a>DSE, LKE, and MUPIP now handle unusually long command input lines more gracefully. In prior versions, long commands could damage adjacent memory and lead to difficult to diagnose failures. [UNIX] (C9J09-003199)        </p>      </li>    </ul>  </div></div><div class=titlepage>  <p class=returntotop>    &nbsp;  </p>  <h2 class=title>    <a id=Error_Messages_780887249505602 name=Error_Messages_780887249505602></a><a id=id2487927></a>Error Messages  </h2></div><div class=sect1>  The new error messages introduced in V5.4-000 are as follows:</div><p class=returntotop>  &nbsp;</p><h3 class=titlepage>  <a id=GVDATAGETFAIL_9756979821419147_13024556184861874 name=GVDATAGETFAIL_9756979821419147_13024556184861874></a>GVDATAGETFAIL</h3><p class=titlepage>  <b>GVDATAGETFAIL</b>, <i>Global variable DATAGET sub-operation (in KILL function) failed. Failure code: cccc. </i></p><div>  &nbsp;</div><p class=titlepage>  Run Time Trigger Error: The target node for a KILL operation could not present its state to the trigger logic due to a database problem. cccc contains the failure codes for the failed attempts. The database may have integrity errors or the process-private data structures may be corrupted.</p><div>  &nbsp;</div><p class=titlepage>  Action: Report this database error to the group responsible for database integrity at your operation.&nbsp;&nbsp;</p><h3 class=titlepage>  <a id=JNLENDIANBIG_5041405487517149__8796240912917975 name=JNLENDIANBIG_5041405487517149__8796240912917975></a>JNLENDIANBIG</h3><p class=titlepage>  <b>JNLENDIANBIG</b>, <i>Journal file jjjj is BIG endian on a LITTLE endian system</i></p><div>  &nbsp;&nbsp;</div><div>  MUPIP Error: The MUPIP command on a little endian system specified journal file jjjj which was created on a big endian system. GT.M does not convert journal files with incompatible byte ordering.</div><div>  &nbsp;&nbsp;</div><div>  Action: Set up operational procedures that ensure journal files are used on systems with the same byte ordering as where they are created. If necessary, extract journal file data on the source system and use an M program on the opposite endian system to restore it.&nbsp;</div><h3 class=titlepage>  <a id=JNLENDIANLITTLE_30924758982134 name=JNLENDIANLITTLE_30924758982134></a>JNLENDIANLITTLE</h3><p class=titlepage>  <b>JNLENDIANLITTLE</b>, <i>Journal file jjjj is LITTLE endian on a BIG endian system </i></p><div>  &nbsp;&nbsp;</div><div>  MUPIP Error: The MUPIP command on a big endian system specified journal file jjjj which was created on a little endian system. GT.M does not convert journal files with incompatible byte ordering.</div><div>  &nbsp;&nbsp;</div><div>  Action: Set up operational procedures that ensure journal files are used on systems with the same byte ordering as where they are created. If necessary, extract journal file data on the source system and use an M program on the opposite endian system to restore it.&nbsp;</div><h3 class=titlepage>  <a id=MAXSSREACHED_9169992814013005__5610970075973751 name=MAXSSREACHED_9169992814013005__5610970075973751></a>MAXSSREACHED</h3><p class=titlepage>  <b>MAXSSREACHED</b>, <i>Maximum snapshots - mmmm - for region rrrr reached. Please wait for the existing snapshots to complete before starting a new one</i>.</p><div>  &nbsp;&nbsp;</div><div>  Mupip error: Starting this snapshot would exceed the maximum number of snapshots.</div><div>  &nbsp;&nbsp;</div><div>  Action: Wait for a currently active process using snapshots to complete or terminate an existing snapshot activity.&nbsp;</div><h3 class=titlepage>  <a id=MAXTRIGRNEST_8276031224893461__956050313024112 name=MAXTRIGRNEST_8276031224893461__956050313024112></a>MAXTRIGRNEST</h3><div class=titlepage>  <b>MAXTRIGRNEST</b>, <i>Maximum trigger nesting level LLLL exceeded </i>  <div>    &nbsp;  </div>  <div>    Run Time Trigger Error: GT.M limits trigger invocation depth to LLLL.  </div>  <div>    &nbsp;  </div></div><div class=titlepage>  Action: If you are sure that you do not have an application code bug or misfeature, reduce the depth of trigger invocation, possibly by consolidating triggers.&nbsp;&nbsp;</div><h3 class=titlepage>  <a id=MUJNLDBMISSING_820366237064228 name=MUJNLDBMISSING_820366237064228></a>MUJNLDBMISSING&nbsp;</h3><div class=titlepage>  <div>    <b>MUJNLDBMISSING</b>, <i>Journal files for required database dddd missing in the MUPIP JOURNAL command</i>&nbsp;  </div></div><div class=titlepage>  &nbsp;</div><div class=titlepage>  MUPIP Error: MUPIP JOURNAL processing requires journal files for database dddd in order to perform the requested recovery, but the invoking command did not supply a path for those files.  <div>    &nbsp;  </div></div><div class=titlepage>  Action: Revise the command to include the appropriate journal specification(s) and reissue it.</div><h3 class=titlepage>  <a id=NOZTRAPINTRIG_4072827170533621 name=NOZTRAPINTRIG_4072827170533621></a>NOZTRAPINTRIG&nbsp;&nbsp;</h3><div class=titlepage>  <div>    <b>NOZTRAPINTRIG</b>, <i>Use of $ZTRAP in a database trigger environment ($ZTLEVEL greater than 0) is not supported.</i>  </div>  <br>  <div>    Run Time Trigger Error: GT.M requires the use of $ETRAP for error handling within trigger logic.  </div>  <br>  <div>    Action: Modify the application code to use $ETRAP to handle errors in trigger logic.  </div></div><h3 class=titlepage>  <a id=PROCTERM_4737100483103042_1780_2182490442866588 name=PROCTERM_4737100483103042_1780_2182490442866588></a>PROCTERM</h3><div class=titlepage>  <b>PROCTERM</b>, <i>uuuu process termination due to cccc from eeee </i><br>  <br>  <div>    Utility Warning: A utility uuuu, typically MUPIP, executing application code, possibly from a trigger, encountered a command cccc to terminate at $zposition location pppp.  </div>  <br>  <div>    Action: It is not typically wholesome for MUPIP to terminate this way - review your error handling and trigger definitions for a possible bug or misfeature.  </div></div><h3 class=titlepage>  <a id=QUITALSINV_4119638088006492_36_21934846170522143 name=QUITALSINV_4119638088006492_36_21934846170522143></a>QUITALSINV</h3><div class=titlepage>  <b>QUITALSINV</b>, <i>QUIT * return when the extrinsic was not invoked with SET * </i><br>  <br>  <div>    Run Time Error: A [sub-]routine tried to pass an alias back to the caller, but the routine was not invoked to accept an alias return.  </div>  <br>  <div>    Action: Rework either the invocation or the return, or troubleshoot why the inappropriate invocation occurred. If the routine should conditionally return an alias, use $QUIT to select the proper type of return.&nbsp;  </div></div><h3 class=titlepage>  <a id=REGSSFAIL_8673270063663832_842 name=REGSSFAIL_8673270063663832_842></a>REGSSFAIL</h3><div class=titlepage>  <b>REGSSFAIL</b>, <i>Process pppp encountered error contributing to the snapshot for region rrrr - the snapshot is no longer valid </i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Mupip error: A GT.M process while trying to write a block to the snapshot failed due to some reason. The reason should be in the operator log.  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Examine the operator log for details of the failure and take action, possibly modifying file access characteristics or user roles, to address the problem.&nbsp;  </div></div><h3 class=titlepage>  <a id=SETINTRIGONLY_5486986223021192 name=SETINTRIGONLY_5486986223021192></a>SETINTRIGONLY</h3><div class=titlepage>  <b>SETINTRIGONLY</b>, <i>ISV iiii cannot be modified outside of the trigger environment</i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Run Time Trigger Error: The Intrinsic Special variable iiii can only be SET within the context of trigger logic ($ZTLEVEL &gt; 0)  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Examine the application logic to determine whether code intended for use in a trigger context falls in an execution path outside of trigger logic. For code intended to execute both inside and outside triggers, use a postcondition that limits the SET to within a trigger.&nbsp;  </div></div><h3 class=titlepage>  <a id=SNAPSHOTNOV4_706570529991932_8 name=SNAPSHOTNOV4_706570529991932_8></a>SNAPSHOTNOV4</h3><div class=titlepage>  <b>SNAPSHOTNOV4</b>, <i>Cannot downgrade (to V4) while snapshots are in progress. Currently ssss snapshots are in progress for region rrrr. </i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Mupip error: A request to downgrade a region to V4 occurred while a snapshot is in progress.  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Wait for a currently active process using snapshots to complete before running the downgrade. &nbsp;Since a downgrade to V4 would not normally be expected, check to verify that the downgrade invocation is appropriate.  </div></div><h3 class=titlepage>  <a id=SSFILCLNUPFAIL_100743431948485 name=SSFILCLNUPFAIL_100743431948485></a>SSFILCLNUPFAIL</h3><div class=titlepage>  <b>SSFILCLNUPFAIL</b>, <i>Error while unlinking snapshot file -- xxxx </i></div><div class=titlepage>  <br>  <div>    Mupip error: An attempt to terminate snapshot file maintenance by GT.M updater processes encountered a problem.  </div>  <br>  <div>    Action: Try a MUPIP RUNDOWN. If that has a similar problem, it may be prudent to shut down all access to the database in question in order to stop the burden of maintaining the snapshot file and to ensure it doesn't unnecessarily consume more space.&nbsp;  </div></div><h3 class=titlepage>  <a id=SSFILOPERR_9137289233941997_38 name=SSFILOPERR_9137289233941997_38></a>SSFILOPERR</h3><div class=titlepage>  <b>SSFILOPERR</b>, <i>Error while doing oooo operation on file ffff </i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Mupip error: The oooo operation on snapshot file ffff failed  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Analyze the operation and the file characteristics and take appropriate action to clear the problem.&nbsp;&nbsp;  </div></div><h3 class=titlepage>  <a id=SSPREMATEOF_926775845307865_34 name=SSPREMATEOF_926775845307865_34></a>SSPREMATEOF</h3><div class=titlepage>  <b>SSPREMATEOF</b>, <i>Premature end of file while reading block nnnn of size: bbbb bytes at offset: oooo from zzzz </i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Mupip error: The action attempted access to a block beyond the end of the snapshot file. This means either the process was confused or the file is damaged  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Retry the action. If the problem persists, contact FIS with information on how to recreate the problem.&nbsp;  </div></div><h3 class=titlepage>  <a id=SSSHMCLNUPFAIL_074902285555303 name=SSSHMCLNUPFAIL_074902285555303></a>SSSHMCLNUPFAIL</h3><div class=titlepage>  <b>SSSHMCLNUPFAIL</b>, <i>Error while doing snapshot shared memory cleanup. Operation -- ssss. Identifier -- dddd </i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Mupip error: There was an error while doing a snapshot cleanup. The operation ssss indicates what system call failed. The identifier dddd indicates the shared memory identifier that is being cleaned up.  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Analyze the failure details and take corrective measures. If appropriate carefully clear abandoned resources using the system ipcrm utility.&nbsp;  </div></div><h3 class=titlepage>  <a id=SSTMPCREATE_4842588403246761_2 name=SSTMPCREATE_4842588403246761_2></a>SSTMPCREATE</h3><div class=titlepage>  <b>SSTMPCREATE</b>, <i>Cannot create the temporary file in directory dddd for the requested snapshot </i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Mupip error: An action requiring a snapshot file was unable to create it.  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Verify the directory has appropriate access permissions for the user performing the action.&nbsp;  </div></div><h3 class=titlepage>  <a id=SSTMPDIRSTAT_6636825864649545__11166320157129161 name=SSTMPDIRSTAT_6636825864649545__11166320157129161></a>SSTMPDIRSTAT</h3><div class=titlepage>  <b>SSTMPDIRSTAT</b>, <i>Cannot access temporary directory dddd </i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Mupip error: An action requiring a snapshot file was unable to access the temporary directory.  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Verify the directory exists and has appropriate access permissions for the user performing the action.&nbsp;  </div></div><h3 class=titlepage>  <a id=SSTMPFILOPEN_38251707383133443_4422977245596507 name=SSTMPFILOPEN_38251707383133443_4422977245596507></a>SSTMPFILOPEN</h3><div class=titlepage>  <b>SSTMPFILOPEN</b>, <i>Failed to open shadow snapshot file ffff</i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Mupip error: An action requiring a snapshot file was unable to open it.  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Verify the file exists and has appropriate access permissions for the user performing the action.&nbsp;  </div></div><h3 class=titlepage>  <a id=SSV4NOALLOW_3710948504972429_5_08792825908283369 name=SSV4NOALLOW_3710948504972429_5_08792825908283369></a>SSV4NOALLOW</h3><div class=titlepage>  <b>SSV4NOALLOW</b>, <i>Database snapshots are supported only on fully upgraded V5 databases. nnnn has V4 format blocks.</i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    Mupip error: An action requiring a snapshot was attempted on a database the contains V4 format blocks.  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: Upgrade the database to V5 and re-run the action.&nbsp;  </div></div><h3 class=titlepage>  <a id=TRIG2NOTRIG_2403206561780593_7_5057802894403172 name=TRIG2NOTRIG_2403206561780593_7_5057802894403172></a>TRIG2NOTRIG</h3><div class=titlepage>  <b>TRIG2NOTRIG</b>, <i>Sending transaction sequence number xxxx which used triggers to a replicator that does not support triggers</i></div><div class=titlepage>  <div>    &nbsp;&nbsp;  </div>  <div>    MUPIP Warning: The source server encountered a transaction that includes triggers, but its replicating node does not support triggers. Unless you are using application level filters to handle this case, your originating instance and replicating instance are no longer consistent.  </div>  <div>    &nbsp;&nbsp;  </div>  <div>    Action: If this case it not handled by your application level filters, you should either enhance your filters or upgrade the replicating instance to a version of GT.M that supports triggers and load the the appropriate trigger definitions with MUPIP TRIGGER (or $ZTRIGGER()), and then take appropriate action (such as recreating the replicating instance from a backup of the originating instance) to restore consistency.&nbsp;&nbsp;  </div></div><h3 class=titlepage>  <a id=TRIGCOMPFAIL_9396512246546017__12392797940141314 name=TRIGCOMPFAIL_9396512246546017__12392797940141314></a>TRIGCOMPFAIL</h3><div class=titlepage>  <b>TRIGCOMPFAIL</b>, <i>Compilation of database trigger named tttt failed</i>&nbsp;</div><div class=titlepage>  <div>    &nbsp;  </div></div><div class=titlepage>  Run Time Trigger Error: The -Xecute code of a trigger specification has syntax errors. Because triggers are precompiled when you define them, this error may indicate that either:<br>  <br></div><ul>  <li>    A database upgrade was performed but the trigger code was not updated to eliminate obsolete syntax  </li>  <li>    The portion of the database holding the trigger definitions may be corrupted<br>  </li></ul><div class=titlepage>  <br>  Action: Validate the definitions by a SELECT option with MUPIP TRIGGER or $ZTRIGGER(), correct the trigger code syntax and apply a trigger update.&nbsp;&nbsp;</div><h3 class=titlepage>  <a id=TRIGINVCHSET_7894015369276853__6238204797799919 name=TRIGINVCHSET_7894015369276853__6238204797799919></a>TRIGINVCHSET</h3><div class=titlepage>  <b>TRIGINVCHSET</b>, <i>Trigger tttt for global gggg was created with CHSET=cccc which is different from the current $ZCHSET of this process</i></div><div class=titlepage>  &nbsp;&nbsp;</div><div class=titlepage>  Run Time Trigger Error: Trigger tttt on global gggg failed because the process that attempted to update global gggg did not have the same character set that was used to load trigger tttt. &nbsp;Databases with triggers can only be used by processes that are M mode or UTF-8 mode, depending on the mode of the process that loaded the triggers.</div><div class=titlepage>  <br></div><div class=titlepage>  Action: Ensure that processes start with the same character set (as defined by the gtm_chset environment variable) that was used to load the trigger definitions with MUPIP TRIGGER (or $ZTRIGGER() function).</div><h3 class=titlepage>  <a id=TRIGJNLSTATE_8754171214616374__17421022388724722 name=TRIGJNLSTATE_8754171214616374__17421022388724722></a>TRIGJNLSTATE</h3><div>  <b>TRIGJNLSTATE</b>, <i>Trigger cannot update journaled database file dddd since triggering update was not journaled</i></div><br><div>  Run Time Trigger Error: A process performed an update on a global in a database region which is not currently journaled, and that update invoked a trigger that, in turn, attempted an update on a global in a database region that is journaled. The secondary GVIS message provides the global name. This would produce a journal state with insufficient information to ensure proper replication of the region with the triggered update.</div><br><div>  Action: Revise global directories, journaling characteristics, or trigger logic to prevent this situation.&nbsp;&nbsp;</div><h3>  <a id=TRIGNAMEUNIQ_589708841764223_0_3947345387075734 name=TRIGNAMEUNIQ_589708841764223_0_3947345387075734></a>TRIGNAMEUNIQ</h3><div>  <b>TRIGNAMEUNIQ</b>, <i>Unable to make trigger name tttt unique beyond vvvv versions already loaded</i></div><br><div>  Run Time Trigger Error: GT.M encountered more than vvvv different instances of the same trigger name across database regions used by the same process.</div><br><div>  Action: Revise trigger names to prevent such a high degree of overlap.</div><h3>  <a id=TRIGTCOMMIT_7419790341378994_1_6714920701053504 name=TRIGTCOMMIT_7419790341378994_1_6714920701053504></a>TRIGTCOMMIT</h3><div>  <b>TRIGTCOMMIT</b>, <i>TCOMMIT at $ZTLEVEL=LLLL not allowed as corresponding TSTART was done at lower $ZTLEVEL=BBBB</i></div><br><div>  Run Time Trigger Error: A TCOMMIT in trigger logic attempted to complete the active transaction that was started outside of the current trigger. Because trigger actions are atomic with the update initiating them, committing a transaction started prior to or by the triggering update cannot be committed inside the trigger.</div><br><div>  Action: Within the trigger context, review the TCOMMIT logic to ensure that it commits only those transactions that are started within the trigger. Ensure that TCOMMIT does not attempt to commit any transaction started prior to or by the triggering update.&nbsp;&nbsp;</div><h3>  <a id=TRIGTLVLCHNG_4990687108398781__8816178648904906 name=TRIGTLVLCHNG_4990687108398781__8816178648904906></a>TRIGTLVLCHNG</h3><div>  <b>TRIGTLVLCHNG</b>,<i> Detected a net transaction level ($TLEVEL) change during trigger tttt. Transaction level must be the same at exit as when the trigger started</i></div><br><div>  Run Time Trigger Error: While the trigger logic can use balanced sub-transactions, it cannot cause a net change in $TLEVEL.</div><br><div>  Action: Review the transaction management (TSTART, TCOMMIT and TROLLBACK) within trigger logic to ensure that it commits or rolls back any transactions it starts and does not attempt to commit any transaction started prior to, or by, the trigger update. You can use TROLLBACK within trigger logic to block the current transaction, possibly to write error context information. Nonetheless if you use such a TROLLBACK, GT.M subsequently signals this error when you leave the trigger context in order to notify the process that the original triggering update has been discarded.<br></div><h3>  <a id=ZGOTOINVLVL_22980094116497646__2760619499221503 name=ZGOTOINVLVL_22980094116497646__2760619499221503></a>ZGOTOINVLVL</h3><div>  <b>ZGOTOINVLVL</b>, <i>ZGOTO in a trigger running in mmmm cannot ZGOTO level LLLL</i></div><br><div>  MUPIP Error: A ZGOTO command in trigger logic attempted to specify an inappropriate destination. Currently that is a ZGOTO in a trigger context with a target level of one (1) and an entryref. GT.M does not support such ZGOTO arguments in MUPIP because there is no context outside that of the trigger.</div><br><div>  Action: Revise the trigger logic to only use ZGOTO with an entryref within the trigger context of trigger logic. Note that you can ZGOTO out of a trigger, but doing so in MUPIP terminates the MUPIP process. FIS recommends limiting the use of ZGOTO to debugging, error handling and testing. Use of ZGOTO in production code, even for error processing, should always be thoroughly tested.<br></div><h3>  <a id=ZTRIGINVACT_24835328261863304__3323370449065335 name=ZTRIGINVACT_24835328261863304__3323370449065335></a>ZTRIGINVACT</h3><div>  <b>ZTRIGINVACT</b>, <i>Missing or invalid subcode (first) parameter given to $ZTRIGGER()</i></div><br><div>  Run Time Trigger Error: The first argument to $ZTRIGGER() is required to specify its mode of action.</div><br><div>  Action: for the first argument of $ZTRIGGER() use an expression that evaluates to "FILE", "ITEM" or "SELECT".</div><h3>  <a id=ZTRIGNOTP_2586996506078717_808_8159587261124002 name=ZTRIGNOTP_2586996506078717_808_8159587261124002></a>ZTRIGNOTP</h3><div>  <b>ZTRIGNOTP</b>, <i>$ZTRIGGER() cannot use update subcodes FILE or ITEM when a TP transaction is in progress ($TLEVEL greater than zero)</i></div><br><div>  Run Time Trigger Error: A FILE or ITEM operation of $ZTRIGGER() failed because it attempted to apply a trigger definition inside an ongoing transaction. Both FILE and ITEM operations of $ZTRIGGER initiate an implicit transaction to achieve trigger update atomicity, therefore, GT.M does not allow nesting them inside another transaction that potentially might use the very triggers $ZTRIGGER() is attempting to update.</div><br><div>  Action: Move all FILE or ITEM operations of $ZTRIGGER() outside the scope of any open transaction.</div><h3>  <a id=ZTWORMHOLE2BIG_426758177884309 name=ZTWORMHOLE2BIG_426758177884309></a>ZTWORMHOLE2BIG</h3><div>  <b>ZTWORMHOLE2BIG</b>, <i>String length of LLLL bytes exceeds maximum length of mmmm bytes for $ZTWORMHOLE</i></div><div>  <br>  Run Time Trigger Error: GT.M limits $ZTWORMHOLE length to mmmm bytes and the application attempted to use LLLL bytes.</div><br><div>  Action: Restrict the size of the string stored in $ZTWORMHOLE to mmmm bytes. Ensure that $ZTWORMHOLE only holds the information that the application needs during trigger execution. If necessary, reorganize the logic to reduce the amount of local context needed during trigger execution, possibly by using global variables.&nbsp;</div><div class=sect2>  <p>    <br>  </p>  <p>    <a href=http://docs.google.com/Doc?docid=0AcenITK__xu5ZHBxcTZoNl80NWdkejg3YmRi&amp;hl=en#TOC id=rkxc target=_self title="Return to Table of Contents"></a><a href=#toc id=f6-s target=_self title="Return to Table of Contents">Return to Table of Contents</a>  </p></div><div align=center>  &nbsp;</div><div>  &nbsp;</div><br><h1>  <a id=GTM_Documentation_Addendum_815_28344703902678136 name=GTM_Documentation_Addendum_815_28344703902678136></a>G<a id=GTM_Doc_Addendum name=GTM_Doc_Addendum></a>T.M Documentation Addendum</h1><div>  This addendum includes an improved description of SOCKET READ operation and MOREREADTIME deviceparameter.&nbsp;</div><div style=TEXT-ALIGN:center>  <br></div><h2 style=TEXT-ALIGN:left>  <a id=Socket_READ_operation_03403186 name=Socket_READ_operation_03403186></a>S<a id=socketread name=socketread></a>OCKET READ operation</h2><div style=TEXT-ALIGN:left>  TCP/IP is a stream-based protocol that guarantees that bytes arrive in the order in which they were sent. However, it does not guarantee that they will be grouped in the same packets.<br>  <br>  If packets arrive infrequently, or at varying rates that are sometimes slow, a short interval can waste CPU cycles checking for an unlikely event. On the other hand, if the handling of packets is time critical, a long interval can introduce an undesirable latency. If packets arrive in a rapid and constant flow (an unusual situation), the interval doesn't matter as much, as there is always something in the buffer for the READ to work with. If you do not specify MOREREADTIME, SOCKET READ implements a dynamic approach of using a longer first interval of 200 ms when it finds no data, then shortening the interval to 10 ms when data starts to arrive. If you specify an interval, the SOCKET device always uses the specified interval and doesn't adjust dynamically. For more information on MOREREADTIME, see "MOREREADTIME".<br>  <br>  <a id=Normal_Terminating_Conditions_for_a_SOCKET_READ name=Normal_Terminating_Conditions_for_a_SOCKET_READ></a>M<a id=ntc name=ntc></a>ost SOCKET READ operations terminate as a result of the first condition detected from (a) receipt of delimiters, (b) receipt of the maximum number of characters, or (c) expiration of a timeout. &nbsp;Note that all of these conditions are optional, and a specific READ may specify zero or more of them.&nbsp; This document refers to these three conditions as "<b>defined terminating conditions</b>". If a SOCKET READ is not subject to any of the defined terminating conditions, it terminates after it has received at least one character followed by an interval with no new characters. READ also terminates on the receipt of a character that puts the device at its specified WIDTH - you can vary the WIDTH, but it's not optional. An error can also terminate a READ. While none of the terminating conditions is satisfied, the READ continues.<br></div><div style=TEXT-ALIGN:center>  &nbsp;</div><div style=TEXT-ALIGN:left>  The following flowchart represents the logic of a SOCKET READ.&nbsp;&nbsp;&nbsp;</div><div style=TEXT-ALIGN:center>  &nbsp;</div><div id=ims- style=TEXT-ALIGN:center>  <p style=TEXT-ALIGN:center>    <img src="images/dpqq6h6_58srvjvdfg_b.png">  </p></div><div style=TEXT-ALIGN:center>  <br>  <br></div><h3 style=TEXT-ALIGN:left>  <a id=NTC_031302128595249334_7733921_1954775941272 name=NTC_031302128595249334_7733921_1954775941272></a>SOCKET READ Termination Conditions</h3><div style=TEXT-ALIGN:left>  &nbsp;A SOCKET READ operation terminates if any of the following conditions are met:<br></div><div style=TEXT-ALIGN:left>  &nbsp;</div><div style=TEXT-ALIGN:left>  <table border=1 bordercolor=#000000 cellpadding=3 cellspacing=0 id=i-v_ style=TEXT-ALIGN:left width=100%>    <tbody>    <tr>      <td width=20%>        <b>Terminating Conditions</b>      </td>      <td width=60%>        <b>Argument Contains </b>      </td>      <td width=10%>        <b>$Device</b>      </td>      <td width=20%>        <b>$Key</b>      </td>      <td width=20%>        <b>$Test</b>      </td>    </tr>    <tr>      <td width=20%>        Error      </td>      <td width=60%>        Empty String      </td>      <td width=10%>        Error String      </td>      <td width=20%>        Empty String      </td>      <td width=20%>        1      </td>    </tr>    <tr>      <td bgcolor=#ffffff width=20%>        Timeout*      </td>      <td bgcolor=#ffffff width=60%>        Data received before timeout      </td>      <td bgcolor=#ffffff width=10%>        Empty String      </td>      <td bgcolor=#ffffff width=20%>        Empty String      </td>      <td bgcolor=#ffffff width=20%>        0      </td>    </tr>    <tr>      <td bgcolor=#ffffff width=20%>        Delimiter*      </td>      <td bgcolor=#ffffff width=60%>        Data up to, but not including the delimiter      </td>      <td bgcolor=#ffffff width=10%>        Empty String      </td>      <td bgcolor=#ffffff width=20%>        Delimiter String      </td>      <td bgcolor=#ffffff width=20%>        1      </td>    </tr> <tr>      <td bgcolor=#ffffff width=20%>        Fixed Length Met*      </td>      <td bgcolor=#ffffff width=60%>        <div>String of Fixed Length<br>        </div>      </td>      <td bgcolor=#ffffff width=10%>        Empty String      </td>      <td bgcolor=#ffffff width=20%>        Empty String      </td>      <td bgcolor=#ffffff width=20%>        1      </td>    </tr>        <tr>      <td width=20%>        Width<br>      </td>      <td width=60%>        Full width String<br>      </td>      <td width=10%>        Empty String      </td>      <td width=20%>        Empty String      </td>      <td width=20%>        1<br>      </td>    </tr>    <tr>      <td bgcolor=#ffffff width=20%>        Buffer Emptied      </td>      <td bgcolor=#ffffff width=60%>        <div>          One (1) to as many characters as provided by the transport interface before waiting for an interval (in milliseconds) specified by MOREREADTIME with no additional input. If MOREREADTIME is not specified, buffer is checked every 200 milliseconds for its first input and then every 10 milliseconds until no new input arrives and no other terminating conditions are met.<br>        </div>        <div>          IF MOREREADTIME is specified, READ uses that value exclusively for buffer checks.<br>        </div>      </td>      <td bgcolor=#ffffff width=10%>        Empty String      </td>      <td bgcolor=#ffffff width=20%>        Empty String      </td>      <td bgcolor=#ffffff width=20%>        1      </td>    </tr>    </tbody>  </table></div><div style=TEXT-ALIGN:left>  &nbsp;&nbsp;</div><div style=TEXT-ALIGN:right>  <font size=2>*</font> <font size=2>Defined Terminating Conditions &nbsp;</font></div><div style=TEXT-ALIGN:left>  &nbsp;</div><p style=TEXT-ALIGN:left>  A non-fixed-length read, with no timeout and no delimiters (the sixth row in the above table) requires a complex implementation of sequence of READs to ensure a predictable result. This is because the transport layer stream fragments delivered to the reader has only accidental correspondence with the operations performed by the writer. For example, the following:</p><div style=TEXT-ALIGN:left>  &nbsp;</div><p style=TEXT-ALIGN:left>  <font face="Courier New">Write "Message 1","Message 2"</font> is presented to the reader as the stream "<font face="Courier New">Message1Message2"</font> but it can take from one (1) to 18 READ commands to retrieve the entire stream.<br></p><p style=TEXT-ALIGN:left>  <br></p><p style=TEXT-ALIGN:left></p><div style=TEXT-ALIGN:left>  Your messaging protocol should implement READ in any of the following ways:&nbsp;</div><div style=TEXT-ALIGN:left>  &nbsp;</div><div style=TEXT-ALIGN:center>  <ol>    <li>      <div style=TEXT-ALIGN:left>        Use a delimiter to separate messages (generic READ and possibly a larger value for MOREREADTIME).&nbsp;      </div>    </li>  </ol></div><ol>  <li>    <div style=TEXT-ALIGN:left>      Specify messages as <font face="Courier New">&lt;length, value&gt;</font> pairs (a pair of fixed-length READs (READ # ) and possibly a larger value for MOREREADTIME).    </div>  </li>  <li>    <div style=TEXT-ALIGN:left>      Parse the bytes or characters as they come in (possibly a smaller value for MOREADTIME)&nbsp;    </div>  </li></ol><br><p></p><p style=TEXT-ALIGN:left></p><h2 style=TEXT-ALIGN:left>  <a id=MRT_349460610176377_2980807178_006879051971242611 name=MRT_349460610176377_2980807178_006879051971242611></a>M<a id=mrtime name=mrtime></a>OREREADTIME=<i>intexpr</i></h2><div style=TEXT-ALIGN:left>  MOREREADTIME specifies the polling interval (in milliseconds) that a SOCKET device uses to check for arriving packets.<br>  <br>  If you do not specify MOREREADTIME, SOCKET READ implements a dynamic approach of using a longer first interval of 200 ms when it finds no data, then shortening the interval to 10 ms when data starts to arrive. If you specify an interval, the SOCKET device always uses the specified interval and doesn't adjust dynamically. This applies to any SOCKET READ. For more information on implementing SOCKET READ in your application, see "<a id=Socket_Read_Operations name=Socket_Read_Operations></a><a href=#socketread id=r0-v target=_self title="SOCKET READ Operations">SOCKET READ Operations</a>".<br>  <br>  If a SOCKET READ is not subject to any of the <a href=#ntc id=tbky target=_self title="Defined Terminating Conditions">defined terminating conditions</a>, it terminates either after it has at least one character followed by an interval with no new packets, or by reaching the specified maximum WIDTH for the SOCKET.<br>  <br>  If you use the MOREREADTIME behavior, bear in mind that:</div><div style=TEXT-ALIGN:left>  &nbsp;</div><ul>  <li>    <div style=TEXT-ALIGN:left>      Usually, it is more efficient and responsive for an application to wait and process input in larger chunks. Therefore, a larger value for MOREREADTIME can bring larger chunks of input to the application. However, large values may make for sluggish response.    </div>  </li>  <li>    <div style=TEXT-ALIGN:left>      A short value for MOREREADTIME may consume considerable CPU cycles, especially on a lightly loaded system.    </div>  </li>  <li>    <div style=TEXT-ALIGN:left>      The maximum value of MORETREADTIME is 999 (basically 1 second). Never set MOREREADTIME to 0 as it causes excessive CPU "spinning".    </div>  </li></ul><div style=TEXT-ALIGN:center>  &nbsp;</div><div style=TEXT-ALIGN:left>  <a href=#toc id=bcyo target=_self title="Return to Table of Contents">Return to Table of Contents</a></div><div style=TEXT-ALIGN:center>  <br>  <font size=1>For more information, see the </font><a href=http://www.fis-gtm.com/ style=COLOR:#000000 title=GT.M><b><font size=1>GT.M</font></b></a><font size=1> web site.<br>  </font><br></div><br><br></body>
<!-- Mirrored from tinco.pair.com/bhaskar/gtm/doc/articles/GTM_V5_4_000A_Release_Notes.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 13 Mar 2019 23:00:38 GMT -->
</html>