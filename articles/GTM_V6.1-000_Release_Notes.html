<html>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/articles/GTM_V6.1-000_Release_Notes.html]] -->
<head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>GT.M V6.1-000A Release Notes</title><link rel="stylesheet" href="gtm.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><meta name="description" content="Contact Information GT.M Group Fidelity Information Services, Inc. 2 West Liberty Boulevard, Suite 300 Malvern, PA 19355 United States of America GT.M Support for customers: gtmsupport@fisglobal.com Automated attendant for 24 hour support: +1 (610) 578-4226 Switchboard: +1 (610) 296-8877 Website: http://fis-gtm.com"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" title="GT.M V6.1-000A Release Notes"><div class="titlepage"><div><div><div class="mediaobject"><img src="images/FIS_RGB_logo.jpg"></div></div><div><h2 class="title"><a name="idp145063600"></a>GT.M V6.1-000A Release Notes</h2></div><div><h3 class="subtitle"><i>Release Notes: GT.M V6.1-000A</i></h3></div><div><p class="copyright">Copyright (C) 2013-2015 Fidelity National Information Services, Inc.</p></div><div><div class="legalnotice" title="Legal Notice"><a name="idp145205008"></a><p class="legalnotice-title"><b>Legal Notice</b></p><p>Copyright (C)2013-2015 Fidelity National Information Services, Inc. and/or its subsidiaries. All Rights Reserved.</p><p>Permission is granted to copy, distribute and/or modify this document under the terms of the <a class="ulink" href="http://www.gnu.org/licenses/fdl.txt" target="_blank">GNU Free Documentation License</a>, Version 1.3 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts and no Back-Cover Texts. </p><p>GT.M&#8482; is a trademark of Fidelity National Information Services, Inc. Other trademarks are the property of their respective owners. </p><p>This document contains a description of GT.M and the operating instructions pertaining to the various functions that comprise the system. This document does not contain any commitment of FIS. FIS believes the information in this publication is accurate as of its publication date; such information is subject to change without notice. FIS is not responsible for any errors or defects. </p></div></div><div><p class="pubdate">18 June 2015</p></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 1.3</td><td align="left">18 June 2015</td><td align="left"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Updated for V6.1-000A</p></li><li class="listitem"><p>Added the release note for <a class="link" href="#GTM-8070">GTM-8070</a>.</p></li></ul></div></td></tr><tr><td align="left">Revision 1.2</td><td align="left">26 April 2014</td><td align="left"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In <a class="link" href="#GTM-2168">GTM-2168</a>, added the description of %GBLDEF enhancements for spanning globals.</p></li></ul></div></td></tr><tr><td align="left">Revision 1.1</td><td align="left">28 January 2014</td><td align="left"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In <a class="xref" href="#tlsreplication" title="Additional information for GTM-7743 - GT.M support for TLS encryption of replication streams using a plug-in">&#8220;Additional information for GTM-7743 - GT.M support for TLS encryption of replication streams using a plug-in&#8221;</a>, added a note about the deprecated gtm_dbkeys environment variable and the downloadable CONVDBKEYS.m program.</p></li><li class="listitem"><p>Improved the description of <a class="link" href="#GTM-6419">GTM-6419</a>.</p></li></ul></div></td></tr><tr><td align="left">Revision 1.0</td><td align="left">30 December 2013</td><td align="left">V6.1-000 - First published revision.</td></tr></table></div></div><div><div class="abstract" title="Contact Information"><p class="title"><b>Contact Information</b></p><div class="informaltable"><table border="0" width="100%"><colgroup><col><col></colgroup><tbody><tr><td>
                  <p>
</p><div class="address"><p>GT.M Group <br>
Fidelity Information Services, Inc. <br>
<span class="street">2 West Liberty Boulevard, Suite 300</span> <br>
<span class="city">Malvern, </span><span class="state">PA </span><span class="postcode">19355</span><br>
<span class="country">United States of America</span></p></div><p>
</p>
                </td><td>
                  <p>
</p><div class="address"><p><br>
<span class="phone">GT.M Support for customers: gtmsupport@fisglobal.com </span><br>
<span class="phone">Automated attendant for 24 hour support: +1 (610) 578-4226</span><br>
<span class="phone">Switchboard: +1 (610) 296-8877</span><br>
<span class="otheraddr">Website: <a class="ulink" href="http://fis-gtm.com/" target="_blank">http://fis-gtm.com</a></span> <br>
</p></div><p> 
</p>
                </td></tr></tbody></table></div><p>
</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#GTMrel_overview">V6.1-000</a></span></dt><dd><dl><dt><span class="sect2"><a href="#overview"> Overview </a></span></dt><dt><span class="sect2"><a href="#conventions">Conventions</a></span></dt><dt><span class="sect2"><a href="#platforms"> Platforms </a></span></dt><dt><span class="sect2"><a href="#manage64"> Migrating to 64-bit platforms</a></span></dt><dt><span class="sect2"><a href="#recompile">
 Recompile </a></span></dt><dt><span class="sect2"><a href="#rebuild">Rebuild Shared Libraries or Images</a></span></dt><dt><span class="sect2"><a href="#addn_instr">Additional Installation Instructions</a></span></dt><dt><span class="sect2"><a href="#upgrade"> Upgrading to GT.M V6.1-000</a></span></dt><dt><span class="sect2"><a href="#mng_mode">Managing M mode and UTF-8 mode</a></span></dt><dt><span class="sect2"><a href="#setterm">Setting the environment variable TERM</a></span></dt><dt><span class="sect2"><a href="#install_comp_lib"> Installing Compression Libraries</a></span></dt></dl></dd><dt><span class="sect1"><a href="#GTMchng_hist"> Change History</a></span></dt><dd><dl><dt><span class="sect2"><a href="#GTMV55000">V6.1-000A</a></span></dt><dt><span class="sect2"><a href="#GTMV61">V6.1-000</a></span></dt></dl></dd><dt><span class="sect1"><a href="#idp145446432">M-Database Access</a></span></dt><dt><span class="sect1"><a href="#idp145477360">M-Other Than Database Access</a></span></dt><dt><span class="sect1"><a href="#idp145522832">Utilities-MUPIP</a></span></dt><dt><span class="sect1"><a href="#idp145774848">Utilities-Other Than MUPIP</a></span></dt><dt><span class="sect1"><a href="#idp145809904">More Information</a></span></dt><dd><dl><dt><span class="sect2"><a href="#tlsreplication">Additional information for GTM-7743 - GT.M support for TLS encryption of replication streams using a plug-in</a></span></dt></dl></dd><dt><span class="sect1"><a href="#idp145814960">Error and Other Messages</a></span></dt><dd><dl></dl></dd></dl></div><div class="sect1" title="V6.1-000"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="GTMrel_overview"></a>V6.1-000</h2></div></div></div><div class="sect2" title="Overview"><div class="titlepage"><div><div><h3 class="title"><a name="overview"></a> Overview </h3></div></div></div><p>In the major release V6.1-000, GT.M brings virtually unlimited global storage, TLS support for replication, the ability to ZLINK new versions of routines with prior versions on the stack, and more:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Virtually unlimited global storage: With the ability to map global variables to database regions at the level of subscripts rather than an unsubscripted global variable name, GT.M global variable storage is now limited by factors external to GT.M - available storage, file system limits, memory, and so on. This has additional benefits. For example, if there are ranges of global variables within which there are patterns of sequential access, mapping each range to a different region can take advantage of one of many optimizations in the GT.M database engine for sequential access.  See <a class="link" href="#GTM-2168">GTM-2168</a> below.</p></li><li class="listitem"><p>Transport Layer Security (TLS/SSL) for replication: With enhancements to the architecture of the encryption plug-in, GT.M can replicate over a secure connection.  The reference implementation of a plug-in included with GT.M is tested with OpenSSL. For database encryption, the reference implementation also provides an option to use libgcrypt (from GnuPG) and libcrypto (OpenSSL) in "FIPS mode," removing a need to modify the plugin for sites that require certification for compliance with FIPS 140-2.  Note: Achieving FIPS 140-2 certification requires actions and controls well beyond the purview of GT.M, including underlying cryptographic libraries that are certifiably FIPS compliant, administrative controls, and so on. FIS neither provides cryptographic libraries with GT.M nor recommends the use of any specific library - refer to the GT.M Administration and Operations Guide UNIX Edition for more details. See <a class="link" href="#GTM-7743">GTM-7743</a> below. </p></li><li class="listitem"><p>Relink recursive: Processes can explicitly ZLINK new versions of routines even when they have prior versions of routines with the same name already associated with an active frame in the stack of the M virtual machine. When a process links a routine with the same name as an existing routine, future calls use the new routine.  Prior versions of that routine referenced by the stack remain tied to the stack until they QUIT, at which point they become inaccessible.  This enhancement provides a mechanism to patch long-running processes, one that allows a process to retain more state than previous techniques. See <a class="link" href="#GTM-7551">GTM-7551</a> below. </p></li></ul></div><p>Other new features include:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>SOCKET device support for local sockets (also known as UNIX domain sockets). See <a class="link" href="#GTM-7554">GTM-7554</a> below. </p></li><li class="listitem"><p>The ability for a parent process to pass a SOCKET device to a child process in a JOB command. See <a class="link" href="#GTM-7322">GTM-7322</a> below.</p></li><li class="listitem"><p>A $ZCLOSE intrinsic special variable that provides the status of a CLOSE of a PIPE device. See <a class="link" href="#GTM-6666">GTM-6666</a> below.</p></li><li class="listitem"><p>Faster database reads, especially when large numbers of processes (thousands) concurrently access a database file. See <a class="link" href="#GTM-7865">GTM-7865</a> below.</p></li><li class="listitem"><p>Nanosecond timestamps to determine whether a source file is newer than an object file. See <a class="link" href="#GTM-7750">GTM-7750</a> below.</p></li><li class="listitem"><p>Performance enhancements to databases on AIX that use the MM access method. See <a class="link" href="#GTM-7756">GTM-7756</a> below.</p></li></ul></div><p>Support for IPv6 previously released in V6.0-003 as field-test grade functionality is considered production grade functionality in V6.1-000. There are numerous smaller enhancements, performance enhancements, robustness improvements and bug fixes, described below.</p></div><div class="sect2" title="Conventions"><div class="titlepage"><div><div><h3 class="title"><a name="conventions"></a>Conventions</h3></div></div></div><p>This document uses the following conventions:</p><div class="informaltable"><table border="1" width="70%"><colgroup><col><col><col></colgroup><thead><tr><th>
</th><th>
  
<p>UNIX</p>
 </th><th>
  
<p>OpenVMS</p>
 </th></tr></thead><tbody><tr><td>
  
<p><span class="bold"><strong>Flag/Qualifiers</strong></span></p>
 </td><td>
  
<p>-</p>
 </td><td>
  
<p>/</p>
 </td></tr><tr><td>
  
<p><span class="bold"><strong>Program Names or Functions</strong></span></p>
 </td><td colspan="2">  
<p>upper case. For example, MUPIP BACKUP</p>
 </td></tr><tr><td>
  
<p><span class="bold"><strong>Examples</strong></span></p>
 </td><td colspan="2">  
<p>lower case. For example: <br> mupip backup -database ACN,HIST /backup</p>
 </td></tr><tr><td>
  
<p><span class="bold"><strong>Reference Number</strong></span></p>
 </td><td colspan="2">  
<p> A reference number is used to track software <br> enhancements and support requests. <br> It is enclosed between parentheses (). </p>
 </td></tr><tr><td rowspan="2" valign="middle">  
<p><span class="bold"><strong>Platform Identifier</strong></span></p>
 </td><td>
  
<p>[UNIX]</p>
 </td><td>
  
<p>[OpenVMS]</p>
 </td></tr><tr><td colspan="2">  
<p>The platform identifier does not appear <br> for those new features or <br> enhancements that apply to all platforms. </p>
 </td></tr></tbody></table></div><p></p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The term UNIX refers to the general sense of all platforms on which GT.M uses a POSIX API. As of this date, this includes: AIX, HP-UX, GNU/Linux, and Solaris.</p></td></tr></table></div><p>The following table summarizes the new and revised replication terminology and qualifiers. </p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
  
<p>Pre V5.5-000 terminology</p>
 </th><th>
  
<p>Pre V5.5-000 qualifier</p>
 </th><th>
  
<p>Current terminology</p>
 </th><th>
  
<p>Current qualifiers </p>
 </th></tr></thead><tbody><tr><td>
  
<p>originating instance or primary instance </p>
 </td><td>
  
<p>-rootprimary</p>
 </td><td>
  
<p>originating instance or originating primary instance. </p>
  
<p>Within the context of a replication connection between two instances, an originating instance is referred to as source instance or source side. For example, in an B&lt;-A-&gt;C replication configuration, A is the source instance for B and C. </p>
 </td><td>
  
<p>-updok (recommended)</p>
  
<p>-rootprimary (still accepted)</p>
 </td></tr><tr><td>
  
<p>replicating instance (or secondary instance) and propagating instance </p>
 </td><td>
  
<p>N/A for replicating instance or secondary instance. </p>
  
<p>-propagateprimary for propagating instance </p>
 </td><td>
  
<p>replicating instance. </p>
  
<p>Within the context of a replication connection between two instances, a replicating instance that receives updates from a source instance is referred to as receiving instance or receiver side. For example, in an B&lt;-A-&gt;C replication configuration, both B and C can be referred to as a receiving instance. </p>
 </td><td>
  
<p>-updnotok </p>
 </td></tr><tr><td>
  
<p>N/A</p>
 </td><td>
  
<p>N/A</p>
 </td><td>
  
<p>supplementary instance. </p>
  
<p>For example, in an A-&gt;P-&gt;Q replication configuration, P is the supplementary instance. Both A and P are originating instances. </p>
 </td><td>
  
<p>-updok</p>
 </td></tr></tbody></table></div><p>Effective V6.0-000, GT.M documentation is adopting IEC standard <a class="ulink" href="http://physics.nist.gov/cuu/Units/binary.html" target="_blank">Prefixes for binary multiples</a>. This document therefore uses prefixes Ki, Mi and Ti (e.g., 1MiB for 1,048,576 bytes). All GT.M documentation will over time be updated to this standard.</p><p><span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="New Feature"></span>
 denotes a new feature that requires updating the manuals. </p><p><span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="New Feature"></span>
 denotes a new feature or an enhancement that may not be upward compatible and may affect an existing application. </p><p><span class="inlinemediaobject"><img src="images/deprecated.png" alt="-Deprecated Message-"></span>
 denotes deprecated messages.</p><p><span class="inlinemediaobject"><img src="images/revised.png" alt="-Revised Message-"></span>
 denotes revised messages.</p><p><span class="inlinemediaobject"><img src="images/new.png" alt="-New Message-"></span>
 denotes added messages.</p></div><div class="sect2" title="Platforms"><div class="titlepage"><div><div><h3 class="title"><a name="platforms"></a> Platforms </h3></div></div></div><p> Over time, computing platforms evolve. Vendors obsolete hardware architectures. New versions of operating systems replace old ones. We at FIS continually evaluate platforms and versions of platforms that should be Supported for GT.M. In the table below, we document not only the ones that are currently Supported for this release, but also alert you to our future plans given the evolution of computing platforms. If you are an FIS customer, and these plans would cause you hardship, please contact your FIS account executive promptly to discuss your needs. </p><p> GT.M runs on a wide variety of UNIX/Linux implementations as well as OpenVMS. Consult FIS for currently supported versions. Each GT.M release is extensively tested by FIS on a set of specific versions of operating systems on specific hardware architectures (the combination of operating system and hardware architecture is referred to as a platform). This set of specific versions is considered Supported. There will be other versions of the same operating systems on which a GT.M release may not have been tested, but on which the FIS GT.M support team knows of no reason why GT.M would not work. This larger set of versions is considered Supportable. There is an even larger set of platforms on which GT.M may well run satisfactorily, but where the FIS GT.M team lacks the knowledge to determine whether GT.M is Supportable. These are considered Unsupported. Contact FIS GT.M Support with inquiries about your preferred platform.</p><p>As of the publication date, FIS supports this release on the hardware and operating system versions below. Contact FIS for a current list of Supported platforms. The reference implementation of the encryption plugin has its own additional requirements, should you opt to use it as included with GT.M.</p><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
 <p class="bold"> Platform </p>
 </th><th>
 <p class="bold"> Supported Versions </p>
 </th><th>
 <p class="bold"> Notes </p>
 </th></tr></thead><tbody><tr><td>
  
<p> Hewlett-Packard Integrity IA64 </p>

<p>HP-UX </p>
 </td><td>
  
<p> 11V3 (11.31) </p>
 </td><td>
  
<p> - </p>
 </td></tr><tr><td>
  
<p> Hewlett-Packard Alpha/AXP OpenVMS </p>
 </td><td>
  
<p> 7.3-2 / 8.2 / 8.3 </p>
 </td><td>
  
<p> GT.M supports M mode but not UTF-8 mode on this platform. GT.M does not support several recent enhancements on this platform, including but not limited to database encryption, on-line backup, multi-site replication, PIPE devices and triggers. </p>
  
<p> If you need to work with external calls written in C with Version 6.x of the C compiler on Alpha OpenVMS, then you must carefully review all the provided kits for that product and apply them appropriately. </p>
  
<p> Although this platform remains at present fully supported with respect to bug fixes, owing to its looming sunset by HP, new functionality is supported on this platform only for FIS' convenience. Future GT.M releases may not be supported on this platform. Regardless of ongoing plans for support of the OpenVMS platform itself, the next GT.M release will likely no longer support OpenVMS 7.x. Please contact your FIS account manager if you need ongoing support for GT.M on this platform. </p>
 </td></tr><tr><td>
  
<p> IBM System p AIX </p>
 </td><td>
  
<p> 6.1, 7.1 </p>
 </td><td>
  
<p> Since GT.M processes are 64-bit, FIS expects 64-bit AIX configurations to be preferable. </p>
  
<p> While GT.M supports both UTF-8 mode and M mode on this platform, there are problems with the AIX ICU utilities that prevent FIS from testing 4-byte UTF-8 characters as comprehensively on this platform as we do on others. </p>
  
<p> Running GT.M on AIX 7.1 requires APAR IZ87564, a fix for the POW() function, to be applied. To verify that this fix has been installed, execute <code class="code"> instfix -ik IZ87564. </code> </p>
 </td></tr><tr><td>
  
<p> Sun SPARC Solaris </p>
 </td><td>
  
<p> 10 (Update 6 and above) </p>
 </td><td>
  
<p> The deprecated DAL calls operate in M mode but not in UTF-8 mode. Please refer to the Integrating External Routines chapter in the Programmer's Guide for appropriate alternatives. </p>
 </td></tr><tr><td>
  
<p> x86_64 GNU/Linux </p>
 </td><td>
  
<p> Red Hat Enterprise Linux 6; Ubuntu 12.04 LTS; SuSE Linux Enterprise Server 11 </p>
 </td><td>
  
<p> To run 64-bit GT.M processes requires both a 64-bit kernel as well as 64-bit hardware. </p>
  
<p> GT.M should also run on recent releases of other major Linux distributions with a contemporary Linux kernel (2.6 or later), glibc (version 2.5-24 or later) and ncurses (version 5.5 or later). </p>
  
<p> To install GT.M with Unicode (UTF-8) support on RHEL 6, in response to the installation question <code class="code"> Should an ICU version other than the default be used? (y or n) </code> please respond <code class="code"><span class="bold"><strong> y </strong></span></code> and then specify the ICU version (for example, respond 3.6) to the subsequent prompt <code class="code"> Enter ICU version (ICU version 3.6 or later required. Enter as major-ver.minor-ver): </code> </p>
  
<p> GT.M requires the libtinfo library. If it is not already installed on your system, and is available using the package manager, install it using the package manager. If a libtinfo package is not available (for example on SuSE 11):</p>
 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Find the directory where libncurses.so is installed on your system.</p></li><li class="listitem"><p> Change to that directory and make a symbolic link to libncurses.so.&lt;ver&gt; from libtinfo.so.&lt;ver&gt;. Note that some of the libncurses.so entries may themselves be symbolic links, for example, libncurses.so.5 may itself be a symbolic link to libncurses.so.5.9.</p><p> GT.M should also run on recent releases of other major Linux distributions with a contemporary Linux kernel (2.6 or later), glibc (version 2.5-49 or later) and ncurses (version 5.5-24 or later). The minimum CPU must have the instruction set of a 686 (Pentium Pro) or equivalent. </p></li></ul></div>
 </td></tr><tr><td>
  
<p> x86 GNU/Linux </p>
 </td><td>
  
<p> Red Hat Enterprise Linux 6 </p>
 </td><td>
  
<p> This 32-bit version of GT.M runs on either 32- or 64-bit x86 platforms; we expect the X86_64 GNU/Linux version of GT.M to be preferable on 64-bit hardware. </p>
   </td></tr></tbody></table></div><div class="sect3" title="Platform support lifecycle"><div class="titlepage"><div><div><h4 class="title"><a name="GTMplatform_lifecycle"></a> Platform support lifecycle </h4></div></div></div><p> FIS usually supports new operating system versions six months or so after stable releases are available and we usually support each version for a two year window. GT.M releases are also normally supported for two years after release. While FIS will attempt to provide support to customers in good standing for any GT.M release and operating system version, our ability to provide support is diminished after the two year window. </p><p> GT.M cannot be patched, and bugs are only fixed in new releases of software.</p></div></div><div class="sect2" title="Migrating to 64-bit platforms"><div class="titlepage"><div><div><h3 class="title"><a name="manage64"></a> Migrating to 64-bit platforms</h3></div></div></div><p> The same application code runs on both 32-bit and 64-bit platforms. Please note that:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> You must compile the application code separately for each platform. Even though the M source code is exactly the same, the generated object modules are different even on the same hardware architecture - the object code differs between x86 and x86_64.</p></li><li class="listitem"><p> Parameter-types that interface GT.M with non-M code using C calling conventions must match the data-types on their target platforms. Mostly, these parameters are for call-ins, external calls, internationalization (collation), and environment translation and are listed in the tables below. Note that most addresses on 64-bit platforms are 8 bytes long and require 8 byte alignment in structures whereas all addresses on 32-bit platforms are 4 bytes long and require 4-byte alignment in structures.</p></li></ul></div><div class="sect3" title="Call-ins and External Calls"><div class="titlepage"><div><div><h4 class="title"><a name="GTMcallext"></a>Call-ins and External Calls</h4></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
 <p class="bold">Parameter type</p>
 </th><th>
 <p class="bold">32-Bit</p>
 </th><th>
 <p class="bold">64-bit</p>
 </th><th>
 <p class="bold">Remarks</p>
 </th></tr></thead><tbody><tr><td>
  
<p> gtm_long_t</p>
 </td><td>
  
<p> 4-byte (32-bit)</p>
 </td><td>
  
<p> 8-byte (64-bit)</p>
 </td><td>
  
<p> gtm_long_t is much the same as the C language long type.</p>
 </td></tr><tr><td>
  
<p> gtm_ulong_t</p>
 </td><td>
  
<p> 4-byte</p>
 </td><td>
  
<p> 8-byte</p>
 </td><td>
  
<p> gtm_ulong_t is much the same as the C language unsigned long type.</p>
 </td></tr><tr><td>
  
<p> gtm_int_t</p>
 </td><td>
  
<p> 4-byte</p>
 </td><td>
  
<p> 4-byte</p>
 </td><td>
  
<p> gtm_int_t has 32-bit length on all platforms.</p>
 </td></tr><tr><td>
  
<p> gtm_uint_t</p>
 </td><td>
  
<p> 4-byte</p>
 </td><td>
  
<p> 4-byte</p>
 </td><td>
  
<p> gtm_uint_t has 32-bit length on all platforms</p>
 </td></tr></tbody></table></div><p></p><div class="caution" title="Caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution:  Caution"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Caution]" src="images/caution.jpg"></td><th align="left"> Caution</th></tr><tr><td align="left" valign="top"><p> If your interface uses gtm_long_t or gtm_ulong_t types but your interface code uses int or signed int types, failure to revise the types so they match on a 64-bit platform will cause the code to fail in unpleasant, potentially dangerous and hard to diagnose ways.</p></td></tr></table></div></div><div class="sect3" title="Internationalization (Collation)"><div class="titlepage"><div><div><h4 class="title"><a name="GTMinternationalization"></a> Internationalization (Collation)</h4></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
 <p class="bold">Parameter type</p>
 </th><th>
 <p class="bold">32-Bit</p>
 </th><th>
 <p class="bold">64-bit</p>
 </th><th>
 <p class="bold">Remarks</p>
 </th></tr></thead><tbody><tr><td>
  
<p> gtm_descriptor in gtm_descript.h</p>
 </td><td>
  
<p> 4-byte</p>
 </td><td>
  
<p> 8-byte</p>
 </td><td>
  
<p> Although it is only the address within these types that changes, the structures may grow by up to 8 bytes as a result of compiler padding to meet platform alignment requirements.</p>
 </td></tr></tbody></table></div><p></p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important:  Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="images/important.jpg"></td><th align="left"> Important</th></tr><tr><td align="left" valign="top"><p> Assuming other aspects of code are 64-bit capable, collation routines should require only recompilation. </p></td></tr></table></div></div><div class="sect3" title="Environment Translation"><div class="titlepage"><div><div><h4 class="title"><a name="GTMenv_trans"></a> Environment Translation</h4></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
 <p class="bold">Parameter type</p>
 </th><th>
 <p class="bold">32-Bit</p>
 </th><th>
 <p class="bold">64-bit</p>
 </th><th>
 <p class="bold">Remarks</p>
 </th></tr></thead><tbody><tr><td>
  
<p> gtm_string_t type in gtmxc_types.h</p>
 </td><td>
  
<p> 4-byte</p>
 </td><td>
  
<p> 8-byte</p>
 </td><td>
  
<p> Although it is only the address within these types that changes, the structures may grow by up to 8 bytes as a result of compiler padding to meet platform alignment requirements.</p>
 </td></tr></tbody></table></div><p></p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="images/important.jpg"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>Assuming other aspects of code are 64-bit capable, environment translation routines should require only recompilation.</p></td></tr></table></div></div></div><div class="sect2" title="Recompile"><div class="titlepage"><div><div><h3 class="title"><a name="recompile"></a>
 Recompile </h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
 Recompile all M and C source files.</p></li></ul></div></div><div class="sect2" title="Rebuild Shared Libraries or Images"><div class="titlepage"><div><div><h3 class="title"><a name="rebuild"></a>Rebuild Shared Libraries or Images</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Rebuild all Shared Libraries (UNIX) or Shareable Executable Images (OpenVMS) after recompiling all M and C source files..</p></li></ul></div></div><div class="sect2" title="Additional Installation Instructions"><div class="titlepage"><div><div><h3 class="title"><a name="addn_instr"></a>Additional Installation Instructions</h3></div></div></div><p>To install GT.M, see the "Installing GT.M" section in the GT.M Administration and Operations Guide. For minimal down time, upgrade a current replicating instance and restart replication. Once that replicating instance is current, switch it to become the originating instance. Upgrade the prior originating instance to become a replicating instance, and perform a switchover when you want it again to resume an originating primary role.</p><div class="sect3" title="UNIX"><div class="titlepage"><div><div><h4 class="title"><a name="GTMadd_unix"></a>UNIX</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>FIS strongly recommends installing each version of GT.M in a separate (new) directory, rather than overwriting a previously installed version. If you have a legitimate need to overwrite an existing GT.M installation with a new version, you must first shut down all processes using the old version. FIS suggests installing GT.M V6.1-000 in a Filesystem Hierarchy Standard compliant location such as /usr/lib/fis-gtm/V6.1-000_arch (for example, /usr/lib/fis-gtm/V6.1-000_x86 on 32-bit Linux systems). A location such as /opt/fis-gtm/V6.1-000_arch would also be appropriate. Note that the <em class="replaceable"><code>arch</code></em> suffix is especially important if you plan to install 32- and 64-bit versions of the same release of GT.M on the same system.</p></li><li class="listitem"><p>Use the MUPIP RUNDOWN command of the old GT.M version to ensure all database files are cleanly closed.</p></li><li class="listitem"><p>In UNIX editions, make sure gtmsecshr is not running. If gtmsecshr is running, first stop all GT.M processes including the DSE, LKE and MUPIP utilities and then perform a <code class="code">MUPIP STOP</code> <em class="replaceable"><code>pid_of_gtmsecshr</code></em>.</p></li></ul></div><div class="caution" title="Caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution: Caution"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Caution]" src="images/caution.jpg"></td><th align="left">Caution</th></tr><tr><td align="left" valign="top"><p>Never replace the binary image on disk of any executable file while it is in use by an active process. It may lead to unpredictable results. Depending on the operating system, these results include but are not limited to denial of service (that is, system lockup) and damage to files that these processes have open (that is, database structural damage). </p></td></tr></table></div><div class="sect4" title="Additional Information for JFS1 on AIX"><div class="titlepage"><div><div><h5 class="title"><a name="GTMaixinf"></a> Additional Information for JFS1 on AIX</h5></div></div></div><p>If you expect a database file or journal file to exceed 2GB with older versions of the JFS file system, then you must configure its file system to permit files larger than 2GB. Furthermore, should you choose to place journal files on file systems with a 2GB limit, since GT.M journal files can grow to a maximum size of 4GB, you must then set the journal auto switch limit to less than 2 GB.</p></div></div><div class="sect3" title="OpenVMS"><div class="titlepage"><div><div><h4 class="title"><a name="GTMadd_openvms"></a>OpenVMS</h4></div></div></div><p>To upgrade from a GT.M version prior to V4.3-001, you must update any customized copy of <code class="code">GTM$DEFAULTS</code> to include a definition for <code class="code">GTM$ZDATE_FORM</code>.</p><p>You can ignore the following section if you choose the standard GT.M configuration or answer yes to the following question:</p><pre class="programlisting">Do you want to define GT.M commands to the system</pre><p>If you define GT.M commands locally with <code class="code">SET COMMAND GTM$DIST:GTMCOMMANDS.CLD</code> in <code class="code">GTMLOGIN.COM</code> or other command file for each process which uses GT.M, you must execute the same command after installing the new version of GT.M and before using it. If you define the GT.M commands to the system other than during the installation of GT.M, you must update the system DCLTABLES with the new GTMCOMMANDS.CLD provided with this version of GT.M. See the OpenVMS "Command Definition, Librarian, and Message Utilities Manual" section on "Adding a system command." In both cases, all GT.M processes must match the proper <code class="code">GTMCOMMANDS.CLD</code> with the version of GT.M they run..</p></div></div><div class="sect2" title="Upgrading to GT.M V6.1-000"><div class="titlepage"><div><div><h3 class="title"><a name="upgrade"></a> Upgrading to GT.M V6.1-000</h3></div></div></div><p> The GT.M database consists of four types of components- database files, journal files, global directories, and replication instance files. The format of some database components is different for 32-bit and 64-bit GT.M releases for the x86 GNU/Linux platform.</p><p> GT.M upgrade procedure for V6.1-000 consists of 5 stages:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> <a class="link" href="#GTMstage_1" title="Stage 1: Global Directory Upgrade">Stage 1: Global Directory Upgrade</a></p></li><li class="listitem"><p> <a class="link" href="#GTMstage_2" title="Stage 2: Database Files Upgrade">Stage 2: Database Files Upgrade</a></p></li><li class="listitem"><p> <a class="link" href="#GTMstage_3" title="Stage 3: Replication Instance File Upgrade">Stage 3: Replication Instance File Upgrade</a></p></li><li class="listitem"><p> <a class="link" href="#GTMstage_4" title="Stage 4: Journal Files Upgrade">Stage 4: Journal Files Upgrade</a></p></li><li class="listitem"><p> <a class="link" href="#GTMstage_5" title="Stage 5: Trigger Definitions Upgrade">Stage 5: Trigger Definitions Upgrade</a></p></li></ul></div><p> Read the upgrade instructions of each stage carefully. Your upgrade procedure for GT.M V6.1-000 depends on your GT.M upgrade history and your current version.</p><div class="sect3" title="Stage 1: Global Directory Upgrade"><div class="titlepage"><div><div><h4 class="title"><a name="GTMstage_1"></a> Stage 1: Global Directory Upgrade</h4></div></div></div><p> FIS strongly recommends you back up your Global Directory before upgrading. There is no single-step method for downgrading a Global Directory to an older format.</p><p> <span class="bold"><strong>To upgrade from any previous version of GT.M:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Open your Global Directory with the GDE utility program of GT.M V6.1-000.</p></li><li class="listitem"><p> Execute the EXIT command. This command automatically upgrades the Global Directory.</p></li></ul></div><p> <span class="bold"><strong>To switch between 32- and 64-bit global directories on the x86 GNU/Linux platform:</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p> Open your Global Directory with the GDE utility program on the 32-bit platform.</p></li><li class="listitem"><p> On GT.M versions that support SHOW -COMMAND, execute SHOW -COMMAND -FILE=file-name. This command stores the current Global Directory settings in file-name.</p></li><li class="listitem"><p> On GT.M versions that do not support GDE SHOW -COMMAND, execute the SHOW -ALL command. Use the information from the output to create an appropriate command file or use it as a guide to manually enter commands in GDE.</p></li><li class="listitem"><p> Open GDE on the 64-bit platform. If you have a command file from 2. or 3., execute @file-name and then run the EXIT command. These commands automatically create the Global Directory. Otherwise use the GDE output from the old Global Directory and apply the settings in the new environment.</p></li></ol></div><p> An analogous procedure applies in the reverse direction. </p><p> If you inadvertently open a Global Directory of an old format with no intention of upgrading it, execute the QUIT command rather than the EXIT command.</p><p> If you inadvertently upgrade a global directory, perform the following steps to downgrade to an old GT.M release:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Open the global directory with the GDE utility program of V6.1-000.</p></li><li class="listitem"><p> Execute the SHOW -COMMAND -FILE=file-name command. This command stores the current Global Directory settings in the file-name command file. If the old version is significantly out of date, edit the command file to remove the commands that do not apply to the old format. Alternatively, you can use the output from SHOW -ALL or SHOW -COMMAND as a guide to manually enter equivalent GDE commands for the old version.</p></li></ul></div></div><div class="sect3" title="Stage 2: Database Files Upgrade"><div class="titlepage"><div><div><h4 class="title"><a name="GTMstage_2"></a> Stage 2: Database Files Upgrade</h4></div></div></div><p> <span class="bold"><strong>To upgrade from GT.M V5.0*/V5.1*/V5.2*/V5.3*/V5.4*/V5.5:</strong></span></p><p>A V6 database file is a superset of a V5 database file and has potentially longer keys and records. Therefore, upgrading a database file requires no explicit procedure. After upgrading the Global Directory, opening a V5 database with a V6 process automatically upgrades fields in the database fileheader.</p><p>A V6 database supports global variable nodes up to 1 MiB and is not backward compatible. Use MUPIP DOWNGRADE -VERSION=V5 to downgrade a V6 database back to V5 format provided it meets the database downgrade requirements. For more information on downgrading a database, refer to <a class="link" href="#GTMdown_v54" title="Downgrading to V5 or V4"> Downgrading to V5 or V4</a>.</p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important:  Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="images/important.jpg"></td><th align="left"> Important</th></tr><tr><td align="left" valign="top"><p> A V5 database that has been automatically upgraded to V6 can perform all GT.M V6.1-000 operations. However, that database can only grow to the maximum size of the version in which it was originally created. If the database is V5.0-000 through V5.3-003, the maximum size is 128Mi blocks. If the database is V5.4-000 through V5.5-000, the maximum size is 224Mi blocks. Only a database created with V6.0-000 or above (with a V6 MUPIP CREATE) can have a maximum database size of 992Mi blocks. </p></td></tr></table></div><p> If your database has any previously used but free blocks from an earlier upgrade cycle (V4 to V5), you may need to execute the MUPIP REORG -UPGRADE command. If you have already executed the MUPIP REORG -UPGRADE command in a version prior to V5.3-003 and if subsequent versions cannot determine whether MUPIP REORG -UPGRADE performed all required actions, it sends warnings to the operator log requesting another run of MUPIP REORG -UPGRADE. In that case, perform any one of the following steps: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Execute the MUPIP REORG -UPGRADE command again, or</p></li><li class="listitem"><p> Execute the DSE CHANGE -FILEHEADER -FULLY_UPGRADED=1 command to stop the warnings.</p></li></ul></div><div class="caution" title="Caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution:  Caution"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Caution]" src="images/caution.jpg"></td><th align="left"> Caution</th></tr><tr><td align="left" valign="top"><p> Do not run the DSE CHANGE -FILEHEADER -FULLY_UPGRADED=1 command unless you are absolutely sure of having previously run a MUPIP REORG -UPGRADE from V5.3-003 or later. An inappropriate DSE CHANGE -FILEHEADE -FULLY_UPGRADED=1 may lead to database integrity issues.</p></td></tr></table></div><p> You do not need to run MUPIP REORG -UPGRADE on:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> A database that was created by a V5 MUPIP CREATE</p></li><li class="listitem"><p> A database that has been completely processed by a MUPIP REORG -UPGRADE from V5.3-003 or later.</p></li></ul></div><p> For additional upgrade considerations, refer to Database Compatibility Notes.</p><p> <span class="bold"><strong>To upgrade from a GT.M version prior to V5.000:</strong></span></p><p> You need to upgrade your database files only when there is a block format upgrade from V4 to V5. However, some versions, for example, database files which have been initially been created with V4 (and subsequently upgraded to a V5 format) may additionally need a MUPIP REORG -UPGRADE operation to upgrade previously used but free blocks that may have been missed by earlier upgrade tools.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Upgrade your database files using in-place or traditional database upgrade procedure depending on your situation. For more information on in-place/traditional database upgrade, see <a class="ulink" href="GTM_Database_Migration.html" target="_blank">Database Migration Technical Bulletin</a>.</p></li><li class="listitem"><p> Run the MUPIP REORG -UPGRADE command. This command upgrades all V4 blocks to V5 format. </p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note:  Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td><th align="left"> Note</th></tr><tr><td align="left" valign="top"><p> Databases created with GT.M releases prior to V5.0-000 and upgraded to a V5 format retain the maximum size limit of 64Mi (67,108,864) blocks.</p></td></tr></table></div><div class="sect4" title="Database Compatibility Notes"><div class="titlepage"><div><div><h5 class="title"><a name="GTMdatabase_comp"></a> Database Compatibility Notes</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Changes to the database file header may occur in any release. GT.M automatically upgrades database file headers as needed. Any changes to database file headers are upward and downward compatible within a major database release number, that is, although processes from only one GT.M release can access a database file at any given time, processes running different GT.M releases with the same major release number can access a database file at different times.</p></li><li class="listitem"><p> Databases created with V5.3-004 through V5.5-000 can grow to a maximum size of 224Mi (234,881,024) blocks. This means, for example, that with an 8KiB block size, the maximum database file size is 1,792GiB; this is effectively the size of a single global variable that has a region to itself; a database consists of any number of global variables. A database created with GT.M versions V5.0-000 through V5.3-003 can be upgraded with MUPIP UPGRADE to increase the limit on database file size from 128Mi to 224Mi blocks.</p></li><li class="listitem"><p> Databases created with V5.0-000 through V5.3-003 have a maximum size of 128Mi (134, 217,728) blocks. GT.M versions V5.0-000 through V5.3-003 can access databases created with V5.3-004 and later as long as they remain within a 128Mi block limit.</p></li><li class="listitem"><p> Database created with V6.0-000 or above have a maximum size of 1,040,187,392(992Mi) blocks.</p></li><li class="listitem"><p>For information on downgrading a database upgraded from V6 to V5, refer to: <a class="link" href="#GTMstage_1" title="Stage 1: Global Directory Upgrade">Downgrading to V5 or V4</a>.</p></li></ul></div></div></div><div class="sect3" title="Stage 3: Replication Instance File Upgrade"><div class="titlepage"><div><div><h4 class="title"><a name="GTMstage_3"></a> Stage 3: Replication Instance File Upgrade</h4></div></div></div><p> V6.1-000 does not require new replication instance files if you are upgrading from V5.5-000. However, V6.1-000 requires new replication instance files if you are upgrading from any version prior to V5.5-000. Instructions for creating new replication instance files are in the <a class="ulink" href="../books/ao/UNIX_manual/ch07.html" target="_blank">Database Replication</a> chapter of the UNIX Administration and Operations Guide. Shut down all Receiver Servers on other instances that are to receive updates from this instance, shut down this instance Source Server(s), recreate the instance file, restart the Source Server(s) and then restart any Receiver Server for this instance with the -UPDATERESYNC qualifier.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note:  Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td><th align="left"> Note</th></tr><tr><td align="left" valign="top"><p> Without the UPDATERESYNC qualifier, the replicating instance synchronizes with the originating instance using state information from both instances and potentially rolling back information on the replicating instance. The UPDATERESYNC qualifier declares the replicating instance to be in a wholesome state matching some prior (or current) state of the originating instance; it causes MUPIP to update the information in the replication instance file of the originating instance and not modify information currently in the database on the replicating instance. After this command, the replicating instance catches up to the originating instance starting from its own current state. Use UPDATERESYNC only when you are absolutely certain that the replicating instance database was shut down normally with no errors, or appropriately copied from another instance with no errors.</p></td></tr></table></div><p> </p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important:  Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="images/important.jpg"></td><th align="left"> Important</th></tr><tr><td align="left" valign="top"><p> You must always follow the steps described in the <a class="ulink" href="../books/ao/UNIX_manual/ch07.html" target="_blank">Database Replication</a> chapter of the UNIX Administration and Operations Guide when migrating from a logical dual site (LDS) configuration to an LMS configuration, even if you are not changing GT.M releases.</p></td></tr></table></div></div><div class="sect3" title="Stage 4: Journal Files Upgrade"><div class="titlepage"><div><div><h4 class="title"><a name="GTMstage_4"></a> Stage 4: Journal Files Upgrade</h4></div></div></div><p> On every GT.M upgrade:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Create a fresh backup of your database.</p></li><li class="listitem"><p> Generate new journal files (without back-links).</p></li></ul></div><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important:  Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="images/important.jpg"></td><th align="left"> Important</th></tr><tr><td align="left" valign="top"><p> This is necessary because MUPIP JOURNAL cannot use journal files from a release other than its own for RECOVER, ROLLBACK, or EXTRACT. </p></td></tr></table></div></div><div class="sect3" title="Stage 5: Trigger Definitions Upgrade"><div class="titlepage"><div><div><h4 class="title"><a name="GTMstage_5"></a> Stage 5: Trigger Definitions Upgrade</h4></div></div></div><p> If you are upgrading from V5.4-002A/V5.4-002B/V5.5-000 to V6.1-000, you do not need to extract and reload triggers. </p><p> You need to extract and reload your trigger definitions only if you are upgrading from V5.4-000/V5.4-000A/V5.4-001 to V6.1-000. This is necessary because multi-line XECUTEs for triggers require a different internal storage format for triggers which makes triggers created in V5.4-000/V5.4-000A/V5.4-001 incompatible with V5.4-002/V5.4-002A/V5.4-002B/V5.5-000/V6.0-000/V6.0-001/V6.1-000.</p><p> To extract and reapply the trigger definitions on V6.1-000 using MUPIP TRIGGER:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p> Using the old version, execute a command like <code class="code">mupip trigger -select="*" trigger_defs.trg</code>. Now, the output file trigger_defs.trg contains all trigger definitions.</p></li><li class="listitem"><p> Place -* at the beginning of the trigger_defs.trg file to remove the old trigger definitions.</p></li><li class="listitem"><p> Using V6.1-000, run <code class="code">mupip trigger -triggerfile=trigger_defs.trg </code> to reload your trigger definitions.</p></li></ol></div><p> To extract and reload trigger definitions on a V6.1-000 replicating instance using $ZTRIGGER():</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p> Shut down the instance using the old version of GT.M. </p></li><li class="listitem"><p> Execute a command like <code class="code">mumps -run %XCMD 'i $ztrigger("select")' &gt; trigger_defs.trg</code> . Now, the output file trigger_defs.trg contains all trigger definitions.</p></li><li class="listitem"><p> Turn off replication on all regions. </p></li><li class="listitem"><p> Run <code class="code">mumps -run %XCMD 'i $ztrigger("item","-*") </code> to remove the old trigger definitions. </p></li><li class="listitem"><p> Perform the upgrade procedure applicable for V6.1-000.</p></li><li class="listitem"><p> Run <code class="code"> mumps -run %XCMD 'if $ztrigger("file","trigger_defs.trg")'</code> to reapply your trigger definitions.</p></li><li class="listitem"><p> Turn replication on. </p></li><li class="listitem"><p> Connect to the originating instance. </p></li></ol></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note:  Note"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Note]" src="images/note.jpg"></td><th align="left"> Note</th></tr><tr><td align="left" valign="top"><p> Reloading triggers renumbers automatically generated trigger names. </p></td></tr></table></div></div><div class="sect3" title="Downgrading to V5 or V4"><div class="titlepage"><div><div><h4 class="title"><a name="GTMdown_v54"></a> Downgrading to V5 or V4 </h4></div></div></div><p> You can downgrade a GT.M V6 database to V5 or V4 format using MUPIP DOWNGRADE.</p><p> Starting with V6.0-000, MUPIP DOWNGRADE supports the -VERSION qualifier with the following format: </p><pre class="programlisting">MUPIP DOWNGRADE -VERSION=[V5|V4] </pre><p> -VERSION specifies the desired version for the database header. </p><p> <span class="bold"><strong> To qualify for a downgrade from V6 to V5, your database must meet the following requirements: </strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p> The database was created with a major version no greater than the target version. </p></li><li class="listitem"><p> The database does not contain any records that exceed the block size (spanning nodes). </p></li><li class="listitem"><p> The sizes of all the keys in database are less than 256 bytes. </p></li><li class="listitem"><p> There are no keys present in database with size greater than the Maximum-Key-Size specification the database header, that is, Maximum-Key-Size is assured. </p></li><li class="listitem"><p> The maximum Record size is small enough to accommodate key, overhead, and value within a block. </p></li></ol></div><p> If your database meets all the above requirements, MUPIP DOWNGRADE -VERSION=V5 resets the database header to V5 elements which makes it compatible with V5 versions. </p><p>To qualify for a downgrade from V6 to V4, your database must meet the same downgrade requirements that are there for downgrading from V6 to V5.</p><p> If your database meets the downgrade requirements, perform the following steps to downgrade to V4: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p> In a GT.M V6.1-000 environment: </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p> Execute MUPIP SET -VERSION=v4 so that GT.M writes updates blocks in V4 format. </p></li><li class="listitem"><p> Execute MUPIP REORG -DOWNGRADE to convert all blocks from V6 format to V4 format. </p></li></ol></div></li><li class="listitem"><p> Bring down all V6 GT.M processes and execute MUPIP RUNDOWN -FILE on each database file to ensure that there are no processes accessing the database files.</p></li><li class="listitem"><p> Execute MUPIP DOWNGRADE -VERSION=V4 to change the database file header from V6 to V4. </p></li><li class="listitem"><p> Restore or recreate all the V4 global directory files. </p></li><li class="listitem"><p> Your database is now successfully downgraded to V4. </p></li></ol></div></div></div><div class="sect2" title="Managing M mode and UTF-8 mode"><div class="titlepage"><div><div><h3 class="title"><a name="mng_mode"></a>Managing M mode and UTF-8 mode</h3></div></div></div><p>On selected platforms, with <a class="ulink" href="http://icu-project.org/" target="_blank">International Components for Unicode</a> (ICU) version 3.6 or later installed, GT.M's UTF-8 mode provides support for Unicode (ISO/IEC-10646) character strings. On other platforms, or on a system that does not have ICU 3.6 or later installed, GT.M only supports M mode.</p><p>On a system that has ICU installed, GT.M optionally installs support for both M mode and UTF-8 mode, including a utf8 subdirectory of the directory where GT.M is installed. From the same source file, depending upon the value of the environment variable gtm_chset, the GT.M compiler generates an object file either for M mode or UTF-8 mode. GT.M generates a new object file when it finds both a source and an object file, and the object predates the source file and was generated with the same setting of $gtm_chset/$ZCHset. A GT.M process generates an error if it encounters an object file generated with a different setting of $gtm_chset/$ZCHset than that processes' current value.</p><p>Always generate an M object module with a value of $gtm_chset/$ZCHset matching the value processes executing that module will have. As the GT.M installation itself contains utility programs written in M, their object files also conform to this rule. In order to use utility programs in both M mode and UTF-8 mode, the GT.M installation ensures that both M and UTF-8 versions of object modules exist, the latter in the utf8 subdirectory. This technique of segregating the object modules by their compilation mode prevents both frequent recompiles and errors in installations where both modes are in use. If your installation uses both modes, consider a similar pattern for structuring application object code repositories.</p><p>GT.M is installed in a parent directory and a utf8 subdirectory as follows:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Actual files for GT.M executable programs (mumps, mupip, dse, lke, and so on) are in the parent directory, that is, the location specified for installation.</p></li><li class="listitem"><p>Object files for programs written in M (GDE, utilities) have two versions - one compiled with support for Unicode in the utf8 subdirectory, and one compiled without support for Unicode in the parent directory. Installing GT.M generates both versions of object files, as long as ICU 3.6 or greater is installed and visible to GT.M when GT.M is installed, and you choose the option to install Unicode support.</p></li><li class="listitem"><p>The utf8 subdirectory has files called mumps, mupip, dse, lke, and so on, which are relative symbolic links to the executables in the parent directory (for example, mumps is the symbolic link ../mumps).</p></li><li class="listitem"><p>When a shell process sources the file gtmprofile, the behavior is as follows:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>If $gtm_chset is "m", "M" or undefined, there is no change from the previous GT.M versions to the value of the environment variable $gtmroutines.</p></li><li class="listitem"><p>If $gtm_chset is "UTF-8" (the check is case-insensitive),</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>$gtm_dist is set to the utf8 subdirectory (that is, if GT.M is installed in /usr/lib/fis-gtm/gtm_V6.1-000_i686, then gtmprofile and gtmcshrc set $gtm_dist to /usr/lib/fis-gtm/gtm_V6.1-000_i686/utf8).</p></li><li class="listitem"><p>On platforms where the object files have not been placed in a libgtmutil.so shared library, the last element of $gtmroutines is $gtm_dist($gtm_dist/..) so that the source files in the parent directory for utility programs are matched with object files in the utf8 subdirectory. On platforms where the object files are in libgtmutil.so, that shared library is the one with the object files compiled in the mode for the process.</p></li></ul></div></li></ul></div></li></ul></div><p>For more information on gtmprofile and gtmcshrc, refer to the <a class="ulink" href="../books/ao/UNIX_manual/ch03.html" target="_blank">Basic Operations</a> chapter of UNIX Administration and Operations Guide.</p><div class="sect3" title="Compiling ICU"><div class="titlepage"><div><div><h4 class="title"><a name="GTMcompil_icu"></a>Compiling ICU</h4></div></div></div><p>GT.M versions prior to V5.3-004 require exactly ICU 3.6, however, V5.3-004 (or later) accept ICU 3.6 or later. For sample instructions to download ICU, configure it not to use multi-threading, and compile it for various platforms, refer to <a class="ulink" href="../books/ao/UNIX_manual/compiling_icu.html" target="_blank">Appendix C: Compiling ICU on GT.M supported platforms</a> of the UNIX Administration and Operations Guide.</p><p>Although GT.M uses ICU, ICU is not FIS software and FIS does not support ICU. The sample instructions for installing and configuring ICU are merely provided as a convenience to you.</p><p>Also, note that download sites, versions of compilers, and milli and micro releases of ICU may have changed since the dates when these instructions were tested rendering them out-of-date. Therefore, these instructions must be considered examples, not a cookbook.</p></div></div><div class="sect2" title="Setting the environment variable TERM"><div class="titlepage"><div><div><h3 class="title"><a name="setterm"></a>Setting the environment variable TERM</h3></div></div></div><p>The environment variable TERM must specify a terminfo entry that accurately matches the terminal (or terminal emulator) settings. Refer to the terminfo man pages for more information on the terminal settings of the platform where GT.M needs to run.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Some terminfo entries may seem to work properly but fail to recognize function key sequences or fail to position the cursor properly in response to escape sequences from GT.M. GT.M itself does not have any knowledge of specific terminal control characteristics. Therefore, it is important to specify the right terminfo entry to let GT.M communicate correctly with the terminal. You may need to add new terminfo entries depending on your specific platform and implementation. The terminal (emulator) vendor may also be able to help.</p></li><li class="listitem"><p>GT.M uses the following terminfo capabilities. The full variable name is followed by the capname in parenthesis:</p><pre class="programlisting">auto_right_margin(am), clr_eos(ed), clr_eol(el), columns(cols), cursor_address(cup), cursor_down(cud1), cursor_left(cub1), cursor_right(cuf1), cursor_up(cuu1), eat_newline_glitch(xenl), key_backspace(kbs), key_dc(kdch1),key_down(kcud1), key_left(kcub1), key_right(kcuf1), key_up(kcuu1), key_insert(kich1), keypad_local(rmkx),keypad_xmit(smkx), lines(lines).</pre></li></ul></div><p>GT.M sends keypad_xmit before terminal reads for direct mode and READs (other than READ *) if EDITING is enabled. GT.M sends keypad_local after these terminal reads.</p></div><div class="sect2" title="Installing Compression Libraries"><div class="titlepage"><div><div><h3 class="title"><a name="install_comp_lib"></a> Installing Compression Libraries</h3></div></div></div><p> If you plan to use the optional compression facility for replication, you must provide the compression library. The GT.M interface for compression libraries accepts the zlib compression libraries without any need for adaptation. These libraries are included in many UNIX distributions and are downloadable from the <a class="ulink" href="http://www.zlib.net/" target="_blank">zlib home page</a>. If you prefer to use other compression libraries, you need to configure or adapt them to provide the same API provided by zlib. Simple instructions for compiling zlib on a number of platforms follow. Although GT.M can use zlib, zlib is not FIS software and FIS does not support zlib. These instructions are merely provided as a convenience to you.</p><p> If a package for zlib is available with your operating system, FIS suggests that you use it rather than building your own.</p><p> <code class="code"> Solaris/cc </code> compiler from Sun Studio:</p><pre class="programlisting">./configure --sharedmake CFLAGS="-KPIC -m64"</pre><p> HP-UX(IA64)/HP C compiler:</p><pre class="programlisting">./configure --sharedmake CFLAGS="+DD64"</pre><p> AIX/XL compiler:</p><pre class="programlisting">./configure --sharedAdd -q64 to the LDFLAGS line of the Makefilemake CFLAGS="-q64"</pre><p> Linux/gcc:</p><pre class="programlisting">./configure --sharedmake CFLAGS="-m64"</pre><p> By default, GT.M searches for the libz.so shared library (libz.sl on HPUX PA-RISC) in the standard system library directories (for example, /usr/lib, /usr/local/lib, /usr/local/lib64). If the shared library is installed in a non-standard location, before starting replication, you must ensure that the environment variable LIBPATH (AIX) or LD_LIBRARY_PATH (other UNIX platforms) includes the directory containing the library. The Source and Receiver Server link the shared library at runtime. If this fails for any reason (such as file not found, or insufficient authorization), the replication logic logs a DLLNOOPEN error and continues with no compression.</p></div></div><div class="sect1" title="Change History"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="GTMchng_hist"></a> Change History</h2></div></div></div><div class="sect2" title="V6.1-000A"><div class="titlepage"><div><div><h3 class="title"><a name="GTMV55000"></a>V6.1-000A</h3></div></div></div><p>Fixes and enhancements specific to V6.1-000A are:</p><p></p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p><span class="bold"><strong>Id</strong></span></p>
              </th><th>
                <p><span class="bold"><strong>Prior Id</strong></span></p>
              </th><th>
                <p><span class="bold"><strong>Category</strong></span></p>
              </th><th>
                <p><span class="bold"><strong>Summary</strong></span></p>
              </th></tr></thead><tbody><tr><td><p><a class="link" href="#GTM-8070">GTM-8070</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>Better management of database resources by exiting processes</p></td></tr></tbody></table></div></div><div class="sect2" title="V6.1-000"><div class="titlepage"><div><div><h3 class="title"><a name="GTMV61"></a>V6.1-000</h3></div></div></div><p>Fixes and enhancements specific to V6.1-000 are:</p><p></p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p><span class="bold"><strong>Id</strong></span></p>
              </th><th>
                <p><span class="bold"><strong>Prior Id</strong></span></p>
              </th><th>
                <p><span class="bold"><strong>Category</strong></span></p>
              </th><th>
                <p><span class="bold"><strong>Summary</strong></span></p>
              </th></tr></thead><tbody><tr><td><p><a class="link" href="#GTM-2040">GTM-2040</a></p></td><td><p>C9903-000932</p></td><td><p>MUMPS</p></td><td><p> <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!alert!]"></span> Socket Device LISTEN, TCP Device Removed <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-2168">GTM-2168</a></p></td><td><p>C9904-001026</p></td><td><p>Other Utilities</p></td><td><p> <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!alert!]"></span> Global variables span multiple database regions <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-3731">GTM-3731</a></p></td><td><p>S9B06-001882</p></td><td><p>MUMPS</p></td><td><p> <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!alert!]"></span> SOCKET device USE and WRITE /WAIT improvements, and a new $ZKEY ISV <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-4797">GTM-4797</a></p></td><td><p>C9D01-002214</p></td><td><p>MUMPS</p></td><td><p> <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!alert!]"></span> Socket LISTEN Improvements <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-4800">GTM-4800</a></p></td><td><p>C9D01-002217</p></td><td><p>MUMPS</p></td><td><p>SOCKET device [Z]LISTEN= fix to handle a bad argument</p></td></tr><tr><td><p><a class="link" href="#GTM-5572">GTM-5572</a></p></td><td><p>C9E11-002662</p></td><td><p>Other Utilities</p></td><td><p>GDE @&lt;file&gt; does not accept spaces in the file name</p></td></tr><tr><td><p><a class="link" href="#GTM-5573">GTM-5573</a></p></td><td><p>C9E11-002663</p></td><td><p>DB</p></td><td><p>MERGE deals with differing collation between source and target</p></td></tr><tr><td><p><a class="link" href="#GTM-5576">GTM-5576</a></p></td><td><p>C9E11-002666</p></td><td><p>DB</p></td><td><p>In UNIX, give appropriate error for absent or incorrect specification of collation library</p></td></tr><tr><td><p><a class="link" href="#GTM-6419">GTM-6419</a></p></td><td><p>D9J07-002733</p></td><td><p>MUMPS</p></td><td><p>In UNIX, GT.M allows arguments present in a function definition in the C/Java external call table to be missing from a corresponding invocation <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-6666">GTM-6666</a></p></td><td><p>C9K08-003309</p></td><td><p>MUMPS</p></td><td><p>In UNIX, $ZCLOSE returns status of last process associated with a CLOSE'd PIPE device <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-6867">GTM-6867</a></p></td><td><p>C9L08-003446</p></td><td><p>MUMPS</p></td><td><p>A DETACH operation on a socket now succeeds the first time it is done in a process</p></td></tr><tr><td><p><a class="link" href="#GTM-7074">GTM-7074</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>MUPIP INTEG now generates detailed error messages for bitmap blocks.</p></td></tr><tr><td><p><a class="link" href="#GTM-7279">GTM-7279</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>In UNIX, GT.M defers the processing of signals while flushing dirty database buffers</p></td></tr><tr><td><p><a class="link" href="#GTM-7322">GTM-7322</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>In UNIX, Passing Sockets via JOB Command <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-7453">GTM-7453</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>In UNIX, journal backward recovery/rollback avoids incorrect JNLDBTNNOMATCH errors</p></td></tr><tr><td><p><a class="link" href="#GTM-7551">GTM-7551</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>Recursive ZLINK for those UNIX platforms that support shared libraries <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-7554">GTM-7554</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>Support for LOCAL (also known as UNIX domain) sockets <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-7562">GTM-7562</a></p></td><td><p>-</p></td><td><p>Other Utilities</p></td><td><p>DSE remains in the same region after a DUMP -BLOCK operation where records in the dumped block contained global names mapping to a different region.</p></td></tr><tr><td><p><a class="link" href="#GTM-7600">GTM-7600</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>In UNIX, GT.M handles the concurrency among GT.M processes performing global buffer flushing and buffer pool recovery correctly</p></td></tr><tr><td><p><a class="link" href="#GTM-7603">GTM-7603</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>Fix for processes with $PRINCIPAL configured for input from file and output to socket</p></td></tr><tr><td><p><a class="link" href="#GTM-7626">GTM-7626</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>In UNIX, MUPIP issues CRITSEMFAIL only on non-transient problems</p></td></tr><tr><td><p><a class="link" href="#GTM-7645">GTM-7645</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>In UNIX, Instance Freeze on out-of-space configurable</p></td></tr><tr><td><p><a class="link" href="#GTM-7649">GTM-7649</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>In UNIX, REPLINSTNOSHM instead of REPLINSTMISMTCH if journal pool is unreachable</p></td></tr><tr><td><p><a class="link" href="#GTM-7693">GTM-7693</a></p></td><td><p>-</p></td><td><p>Other Utilities</p></td><td><p>GDE respects comment delimiter under nearly all circumstances <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-7709">GTM-7709</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>UTF-8 mode sequential READ with FIXED and FOLLOW has improved handling of INTRPT and maintenance of $X/$Y</p></td></tr><tr><td><p><a class="link" href="#GTM-7719">GTM-7719</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>In UNIX, if GT.M detects an error in using a system service to start or stop a system-maintained timer, it sends a SETITIMERFAILED diagnostic message to the operator log</p></td></tr><tr><td><p><a class="link" href="#GTM-7739">GTM-7739</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>A SOCKET OPEN or USE with the LISTEN deviceparameter properly handles errors while assigning a name to the socket</p></td></tr><tr><td><p><a class="link" href="#GTM-7742">GTM-7742</a></p></td><td><p>-</p></td><td><p>Other Utilities</p></td><td><p>GDE provides -MUTEX_SLOTS for database segments <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-7743">GTM-7743</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>In UNIX, TLS encryption plug-in for replication <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-7750">GTM-7750</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>In UNIX, ZLINK decides whether to recompile based nanosecond-level timestamp comparison between the source and object file timestamps <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-7756">GTM-7756</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>On AIX, correct update serialization in MM mode and improve throughput in MM mode databases</p></td></tr><tr><td><p><a class="link" href="#GTM-7763">GTM-7763</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>UTF-8 mode sequential disks have improved BADCHAR detection and timeout, and, with FOLLOW, better timeout duration </p></td></tr><tr><td><p><a class="link" href="#GTM-7769">GTM-7769</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>MUPIP JOURNAL -EXTRACT -GLOBAL= fix for embedded quotes within subscripts</p></td></tr><tr><td><p><a class="link" href="#GTM-7773">GTM-7773</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>SOCKET WAIT with timeout sets $TEST</p></td></tr><tr><td><p><a class="link" href="#GTM-7804">GTM-7804</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>Improved database critical section management</p></td></tr><tr><td><p><a class="link" href="#GTM-7810">GTM-7810</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>Various corrections to odd cases involving extended references</p></td></tr><tr><td><p><a class="link" href="#GTM-7811">GTM-7811</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>In UNIX, fix in V6.0-003 for MUPIP STOP arriving at a TRESTART involving a trigger</p></td></tr><tr><td><p><a class="link" href="#GTM-7820">GTM-7820</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>In UNIX, MUPIP REORG -TRUNCATE -SELECT= eliminates unused space more efficiently</p></td></tr><tr><td><p><a class="link" href="#GTM-7825">GTM-7825</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>In UNIX, TRIGNAMEUNIQUE reports the correct number of unique run-time trigger names</p></td></tr><tr><td><p><a class="link" href="#GTM-7827">GTM-7827</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>In UNIX, MUPIP EXTRACT in BINARY format creates valid extract files in all cases</p></td></tr><tr><td><p><a class="link" href="#GTM-7835">GTM-7835</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>SOCKET device connect fix</p></td></tr><tr><td><p><a class="link" href="#GTM-7836">GTM-7836</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>Sorts-after (]]) operator correction for interaction between NOUNDEF operation and some cases of NEW</p></td></tr><tr><td><p><a class="link" href="#GTM-7842">GTM-7842</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>In UNIX, ZGOTO 0:&lt;entryref&gt; clears all variables including those previously NEW'd at level 1</p></td></tr><tr><td><p><a class="link" href="#GTM-7845">GTM-7845</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>In UNIX, MUPIP RUNDOWN does not remove semaphores inappropriately</p></td></tr><tr><td><p><a class="link" href="#GTM-7846">GTM-7846</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p> <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!alert!]"></span> Improved permissions handling for UNIX root user <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-7848">GTM-7848</a></p></td><td><p>-</p></td><td><p>Other Utilities</p></td><td><p>In UNIX, DSE and LKE are better at retrying database open</p></td></tr><tr><td><p><a class="link" href="#GTM-7853">GTM-7853</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>MUPIP INTEG -SUBSCRIPTS works correctly if  the -SUBSCRIPTS qualifier argument contains a null subscript</p></td></tr><tr><td><p><a class="link" href="#GTM-7854">GTM-7854</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>Replication filters apply global nodes containing null subscripts correctly on database regions having Standard Null Collation enabled</p></td></tr><tr><td><p><a class="link" href="#GTM-7856">GTM-7856</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>Replication filters apply global nodes containing null subscripts correctly when the source and receiver sides have different null collation settings</p></td></tr><tr><td><p><a class="link" href="#GTM-7858">GTM-7858</a></p></td><td><p>-</p></td><td><p>Other Utilities</p></td><td><p>In UNIX, eliminate arbitrary GTMSECSHRVFID warnings</p></td></tr><tr><td><p><a class="link" href="#GTM-7865">GTM-7865</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>Non-TP read optimization</p></td></tr><tr><td><p><a class="link" href="#GTM-7866">GTM-7866</a></p></td><td><p>-</p></td><td><p>Other Utilities</p></td><td><p>GTMJI allows assigning ISVs to M gtm_string_t-type input/output arguments in call-in invocations</p></td></tr><tr><td><p><a class="link" href="#GTM-7867">GTM-7867</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>MERGE issues GVSUBOFLOW and MAXNRSUBSCRIPTS error as appropriate in case the target of the merge is a global node.</p></td></tr><tr><td><p><a class="link" href="#GTM-7886">GTM-7886</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>On AIX, better diagnostic for ICU library not loading</p></td></tr><tr><td><p><a class="link" href="#GTM-7890">GTM-7890</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>Fix for potential SIG-11 when flow-control occurs at the receive pool boundary</p></td></tr><tr><td><p><a class="link" href="#GTM-7892">GTM-7892</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>In UNIX, Replication servers timeout if an external filter does not respond <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></td></tr><tr><td><p><a class="link" href="#GTM-7896">GTM-7896</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>SET $ZPIECE() allows invalid UTF-8 strings (such as $ZCHAR(255)) as piece separator, and BADCHAR error message improvements</p></td></tr><tr><td><p><a class="link" href="#GTM-7902">GTM-7902</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>In UNIX, calmer Instance Freeze During File Extension</p></td></tr><tr><td><p><a class="link" href="#GTM-7905">GTM-7905</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>Fix SIG-11 from a JOB command within a shared library after VIEW "JOBPID"</p></td></tr><tr><td><p><a class="link" href="#GTM-7908">GTM-7908</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>In UNIX, prevent JOB command hang when child process fails to start or terminates abnormally</p></td></tr><tr><td><p><a class="link" href="#GTM-7910">GTM-7910</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>Eliminate rare access violation in deadlock check</p></td></tr><tr><td><p><a class="link" href="#GTM-7916">GTM-7916</a></p></td><td><p>-</p></td><td><p>MUPIP</p></td><td><p>In UNIX, MUPIP ONLINE ROLLBACK fix for an odd case</p></td></tr><tr><td><p><a class="link" href="#GTM-7920">GTM-7920</a></p></td><td><p>-</p></td><td><p>DB</p></td><td><p>Fix $INCREMENT() of a just KILL'd spanning node</p></td></tr><tr><td><p><a class="link" href="#GTM-7923">GTM-7923</a></p></td><td><p>-</p></td><td><p>MUMPS</p></td><td><p>Fix to prevent very long patterns from terminating the process</p></td></tr></tbody></table></div></div></div><div class="sect1" title="M-Database Access"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp145446432"></a>M-Database Access</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a name="GTM-5573"></a> MERGE supports copying a global into another global with different collation properties (alternative collation, numeric collation, null collation). Previously, in this circumstance, MERGE inappropriately stored the source global subscripts into the destination global without doing the needed subscript transformations.(GTM-5573)</p></li><li class="listitem"><p><a name="GTM-5576"></a> Specifying collation with a missing or improperly specified collation library gives an appropriate error. Previously this resulted in a segmentation violation (SIG11). [UNIX] (GTM-5576)</p></li><li class="listitem"><p><a name="GTM-7279"></a> GT.M defers the processing of signals, such as SIGTERM, while flushing dirty database buffers. Previously, a signal delivered to a GT.M process within a small time window during the buffer-flushing operation could leave shared resources in a state that delayed other GT.M process from making further progress for up to several minutes. FIS encountered this issue in testing and has not received a customer report of such an event. [UNIX] (GTM-7279)</p></li><li class="listitem"><p><a name="GTM-7600"></a> GT.M handles concurrency among GT.M processes performing global buffer flushing and buffer pool recovery correctly. Previously, such concurrency could lead to out of design situation causing a GTMASSERT error. This problem caused a process loss, not database damage. Note that buffer pool recovery is an unusual event so such a concurrent event is quite unlikely. [UNIX](GTM-7600)</p></li><li class="listitem"><p><a name="GTM-7645"></a> GT.M checks if DSKNOSPCAVAIL is configured in the custom errors file when handling out-of-space conditions. Previously, if any custom errors file was configured, GT.M always behaved as if DSKNOSPCAVAIL was in the custom errors, and indefinitely retried out-of-space conditions. [UNIX] (GTM-7645)</p></li><li class="listitem"><p><a name="GTM-7649"></a> A replicated database access can fail with REPLINSTNOSHM instead of REPLINSTMISMTCH if the journal pool is unreachable. Previously, such a database access could fail with REPLINSTMISMTCH if the journal pool id was missing or invalid in the replication instance file. In this case, the REPLINSTMISMTCH error message displayed the instance file name as an empty string, and journal pool shared memory id as 4294967295. [UNIX] (GTM-7649)</p></li><li class="listitem"><p><a name="GTM-7756"></a> GTM performs correct update serialization in MM mode on multi-CPU systems.  Previously, GT.M did not protect against out-of-order memory accesses by some pSeries model hardware that occasionally produced inconsistent database states.  This condition did not affect BG mode databases, appeared only in the GT.M development and test environment, and has not been reported by a customer. This change also improves throughput on MM mode databases. [AIX] (GTM-7756)</p></li><li class="listitem"><p><a name="GTM-7804"></a> GT.M and its utilities more cleanly maintain the mechanism used to manage database critical sections. Previously a terminating process could inappropriately decrease the number of available entries in a queuing structure within the critical section logic and eventually cause less efficient critical section management. Also, MUPIP SET -MUTEX_SLOTS can be set between 64 and 32768. Previously, the lower limit was 1024. The default value of 1024 should be appropriate for most situations and FIS recommends changing it only in consultation with FIS GT.M Support. (GTM-7804)</p></li><li class="listitem"><p><a name="GTM-7810"></a> Name-level $ORDER() appropriately deals with an extended reference argument. Previously, it ignored the extended reference. In addition, $VIEW("REGION",gname) always uses $zgbldir. Previously it improperly used the global directory used by the last global reference, which could be inappropriate if that was an extended reference. Finally, $REFERENCE includes any extended reference after a Naked Reference. Previously, a Naked Reference after an extended reference operated properly but removed the evidence of its target global directory from $REFERENCE. (GTM-7810)</p></li><li class="listitem"><p><a name="GTM-7811"></a> GT.M appropriately handles a MUPIP STOP received by a process within a small window while processing a TRESTART while an performing an update involving a trigger. Previously, such an unlikely circumstance could cause the process to terminate with a segmentation fault (SIG-11). FIS encountered this issue in testing and has not received a customer report of such an event. This item was actually addressed in V6.0-003 but was missed in that release note, and so is included here for those who no longer have cause to look at revisions of the V6.0-003 release note.[UNIX](GTM-7811)</p></li><li class="listitem"><p><a name="GTM-7825"></a> The TRIGNAMEUNIQUE error message correctly states that the maximum number of unique run-time trigger names is 3907. Previously it stated that this number was 3844. [UNIX](GTM-7825)</p></li><li class="listitem"><p><a name="GTM-7846"></a> When run as root, GT.M components use the owner and group of the database file as the owner and group of newly created journal files, backup files, snapshot files, shared memory, and semaphores. In addition, they set the permissions on the resulting files, shared memory, and semaphores, as if running as the owner of the database file and as a member of the database file group. Note that FIS recommends against running GT.M components as root. Previously, a process running as root set the owner to root, and the group and permissions as for a normal (non-root) user. [UNIX](GTM-7846) <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!Alert!]"></span> <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-7854"></a> Replication filters, operating on a source or a receiving instance, apply global nodes containing null subscripts correctly to database regions with Standard Null Collation enabled. Previously, such nodes were stored with GT.M Null Collation which effectively made them inaccessible.(GTM-7854)</p></li><li class="listitem"><p><a name="GTM-7856"></a> GT.M replication correctly applies global nodes containing null subscripts when the source and receiver sides have different null collation settings (Standard Null Collation vs. GT.M Null Collation).  Previously on receiving instances, GT.M stored such nodes with the null collation setting of the source instance, which effectively made them inaccessible.  In some cases, the nodes also had incorrect values. (GTM-7856)</p></li><li class="listitem"><p><a name="GTM-7865"></a> GT.M optimizes non-TP database read operations by bypassing the critical section in many cases. Previously, in application patterns involving frequent updates, non-TP reads typically required a database critical section. (GTM-7865)</p></li><li class="listitem"><p><a name="GTM-7867"></a> MERGE issues GVSUBOFLOW and MAXNRSUBSCRIPTS error as appropriate in case the target of the MERGE is a global node. Previously, MERGE did not issue these error messages but created beyond-limit global nodes, resulting in a DBMAXNRSUBS error from MUPIP INTEG, or GVSUBOFLOW error from global accesses inside GT.M. (GTM-7867)</p></li><li class="listitem"><p><a name="GTM-7902"></a> GT.M now issues a single restart of a transaction which encounters an instance freeze in the database file extension process. Previously the transaction would be restarted repeatedly, leading to unnecessary locking contention and CPU consumption. [UNIX] (GTM-7902)</p></li><li class="listitem"><p><a name="GTM-7920"></a> $INCREMENT() handles the case where its first argument is a spanning node that another process concurrently KILLs. In prior versions starting with V6.0-000 this unusual circumstance could cause a segmentation violation (UNIX SIG11 or OpenVMS ACCVIO) or an unintended result. FIS is not aware of any occurrences of this issue in the production systems. Because spanning nodes are always string values and thus unlikely to be arguments to $INCREMENT() and the concurrency window for the issue is small, we do not expect users to encounter this problem. (GTM-7920)</p></li><li class="listitem"><p><a name="GTM-8070"></a>Under conditions of high contention, exiting processes more efficiently acquire critical sections needed in order to release resources, and release any slots they occupy in "mutex queues," which are part of the control mechanism processes use to acquire critical sections. Previously, under conditions of high contention for a resource, it was possible for an exiting process to fail to acquire needed critical sections in a timely manner, and to not release queue slots, causing slots to "leak" and become unavailable for future processes, which in turn could cause spikes of seconds in response times. The workaround for stuck processes and mutex queue slot depletion was to monitor queue slot usage and shut down all mumps processes accessing the database file, and start new processes when the number of queue slots became small or when occasional response time spikes occurred. Note that processes occupying a mutex queue slot that terminate due to fatal errors, external actions like a kill -9, or OS resource starvation, continue to result in that slot becoming unavailable to subsequent processes. (GTM-8070) </p></li></ul></div></div><div class="sect1" title="M-Other Than Database Access"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp145477360"></a>M-Other Than Database Access</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a name="GTM-2040"></a> SOCKET devices now accept LISTEN as an OPEN deviceparameter, treating it the same as a ZLISTEN. Previously, the LISTEN deviceparameter was used with devices in the TCP mnemonicspace. Also, GT.M produces an error -  INVMNEMCSPC on UNIX and LIB-E-ACTIMAGE on OpenVMS - in response to an attempt to OPEN a device with the "TCP" mnemonicspace, which was previously obsolete and has long been deprecated. The "SOCKET" mnemonicspace provides access to TCP/IP sockets. On UNIX, other invalid mnemonicspaces also produce an INVMNEMCSPC error, where previously they produced an UNIMPLOP error; on OpenVMS, other invalid mnemonic spaces continue to produce a LIB-E-ACTIMAGE. (GTM-2040) <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!Alert!]"></span> <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-3731"></a> USE of a SOCKET device with just a "SOCKET=" device parameter specifying a listening socket checks for an incoming connect request. It accepts the request and creates a new connected socket. $KEY provides information on the new socket in the format described below for WRITE /WAIT: CONNECT|&lt;handle&gt;|&lt;remote&gt;. If the listening socket has no request pending, $KEY has the value of an empty string. Previously USE of a listening socket just made the SOCKET device the current device.</p><p>WRITE /WAIT on a SOCKET device checks for sockets with new connections pending, which it accepts by creating a new connected socket. WRITE /WAIT also checks for data in the internal buffers of already connected sockets as well as for new data (not yet read into the internal buffer) when determining whether a socket has data to READ. When a SOCKET device has more than one socket attached, WRITE /WAIT prioritizes connection requests on listening sockets ahead of data available for reading on already connected sockets, and, within each event type, giving highest priority for the longest ready down to least priority for the most recently ready.  WRITE /WAIT selects the socket at the head of the priority list. Previously, WRITE /WAIT did not check the internal buffers and always returned the oldest socket (lowest index in the ZSHOW "D" output) in the current SOCKET device with an available event.</p><p>After a WRITE /WAIT completes successfully (that is: without timing out if a timeout is specified), the $KEY Intrinsic Special Variable (ISV) contains information describing the selected socket in the form: CONNECT|&lt;handle&gt;|&lt;remote or READ|&lt;handle&gt;|&lt;remote&gt;. For TCP sockets, &lt;remote&gt; shows the port number, and for LOCAL sockets it shows the path to the socket file. If the WRITE /WAIT times out or there are no additional ready sockets beyond the one selected by the WRITE /WAIT, $KEY  has the value of an empty string. </p><p>The $ZKEY ISV contains semi-colon (";") separated list of entries detailing any waiting sockets for a current SOCKET device. Each $ZKEY entry has the vertical-bar separated form: LISTENING|&lt;handle&gt;|&lt;remote&gt; for an incoming connection or READ|&lt;handle&gt;|&lt;remote&gt; for data available to READ. (GTM-3731) <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!Alert!]"></span> <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-4797"></a> GT.M now begins listening immediately on the OPEN or USE of a SOCKET device with the LISTEN or ZLISTEN deviceparameter set. The listen queue length defaults to 1.  The "WRITE /LISTEN(numexpr)" may still be used to set the queue length.  Previously GT.M only started listening when the application issued a WRITE /LISTEN(numexpr).  The socket state as observable through $KEY and ZSHOW "D" is now set to "LISTENING" after a successful LISTEN/ZLISTEN; previously it was set to a "BOUND" state. The "BOUND" state now only occurs in error conditions. (GTM-4797) <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!Alert!]"></span> <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-4800"></a> A SOCKET device reports an appropriate error for an improperly formatted argument to the [Z]LISTEN deviceparameter Previously, such an error caused the process to terminate. (GTM-4800)</p></li><li class="listitem"><p><a name="GTM-6419"></a> GT.M allows arguments present in a function definition in the C/Java external call table to be missing from a corresponding invocation. All non-trailing missing and output-only arguments translate to default values on the receiving side: false in case of gtm_jboolean_t (Java only), 0 in case of all numeric types (Java and C), empty string in case of gtm_char_t * and gtm_char_t ** (C only), a structure with 'length' field matching the preallocation size and 'address' field being a NULL pointer in case of gtm_string_t * (C only), an empty string in case of gtm_jstring_t (Java only), and an empty array in case of gtm_jbyte_array_t (Java only). Previously, omitted non-trailing non-output-only arguments were disallowed; omitted non-trailing output-only arguments of certain types resulted in arbitrary values passed to the target C or Java routine; and the 'length' field of output-only gtm_string_t * arguments was erroneously set to the length of the corresponding M variable. [UNIX] (GTM-6419) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-6666"></a> The CLOSE command for a PIPE device that is not OPEN'd with the INDEPENDENT deviceparameter uses a timed check on termination status of the PIPE co-process. The TIMEOUT=intexpr specifies the timeout in seconds, defaulting to 2 seconds. Devices other than PIPE ignore the TIMEOUT deviceparameter. The $ZCLOSE Intrinsic Special Variable (ISV) provides termination status of the last PIPE CLOSE as follows: -99 when the check times out, -98 for unanticipated problems with the check, the negative of the signal value if a signal terminated the co-process, and under normal circumstances, the exit status returned by the last co-process. Previously, GT.M did not capture the termination status, and the process executing the CLOSE could hang if the co-process did not terminate. [UNIX](GTM-6666) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-6867"></a> A DETACH operation on a socket now succeeds the first time it is done in a process.  Previously, the first DETACH got a SOCKNOTFOUND error. (GTM-6867)</p></li><li class="listitem"><p><a name="GTM-7322"></a> The JOB command now allows DETACHed sockets (i.e., sockets in the socket pool) to be passed as INPUT, OUTPUT, and/or ERROR,by specifying "SOCKET:&lt;handle&gt;" as the file name, where "&lt;handle&gt;" is the socket handle. On successful completion of theJOB command, any passed sockets are closed and no longer available to the parent process. To pass a socket as the $PRINCIPAL of a child process, pass it as both INPUT and OUTPUT parameters of the JOB command. Previously only file names could be specified for INPUT, OUTPUT, or ERROR. [UNIX] (GTM-7322) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-7551"></a> The ZLINK command accepts and relinks routines on the GT.M invocation stack. Previously, attempting this would produce a LOADRUNNING error. The new behavior can be enabled with VIEW "LINK":"RECURSIVE", or by setting the environmental variable gtm_link to "RECURSIVE". When enabled, whenever an entryref includes a routine name, GT.M accesses the most recently ZLINK'd version of the routine. As usual, GT.M performs auto-ZLINK if no version has yet been linked, and, when an entryref includes no routine name, GT.M accesses the currently executing version. DO, GOTO, ZGOTO, and extrinsic functions invoke the appropriate version; meanwhile, older versions remain referenced by the M virtual machine stack until they execute a GOTO, explicit or implicit QUIT, or ZGOTO. Similarly $TEXT and ZPRINT retrieve the appropriate version's source when available; ZBREAK sets and clears breakpoints in the appropriate version. VIEW "LINK":"NORECURSIVE" and any other value of gtm_link provide the prior LOADRUNNING behavior; $VIEW("LINK") returns the current setting. In addition, ZSHOW offers a new information code, R, and ZSHOW "*" is now equivalent to ZSHOW "IVBDLGRC". Previously, ZSHOW "*" was equivalent to ZSHOW "IVBDLGSC". ZSHOW "R" displays the GT.M invocation stack and, for each routine on the stack, displays an MD5 checksum of its M source code. $VIEW("RTNCHECKSUM",&lt;rtnname&gt;) returns the source check-sum for the most recently ZLINK'd version of &lt;rtnname&gt;. [x86-64 Linux, AIX, Solaris] (GTM-7551) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-7554"></a> GT.M SOCKET devices support LOCAL (also known as UNIX domain) sockets.  Except as noted below, LOCAL sockets usage and behavior is the same as TCP sockets.</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>The CONNECT and LISTEN deviceparameters for OPEN and USE accept a value of the form "&lt;pathname&gt;:LOCAL" where pathname is the name of the file to be used for communication.  pathname may contain a dollar sign ($) followed by the name of an environment variable which GT.M expands in the same way as the device name for a sequential file.  The maximum allowed length of the expanded path name depends on the OS.</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>LISTEN creates the file if it doesn't exist.  If the OPEN command specifies the NEWVERSION deviceparameter, the file specified by the pathname exists, and is a socket file, GT.M deletes that file is deleted creates a new file.  If the argument does not specify NEWVERSION, or the file is not a socket file, the OPEN produces a SOCKBIND error.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">When LISTEN is specified for a LOCAL socket on an OPEN, GT.M processes the GROUP, OWNER, SYSTEM, WORLD, UIC, and NEWVERSION deviceparameters as it would for sequential files.</li></ul></div></li><li class="listitem"><p>CONNECT attempts to open the file.  If it doesn't exist or there is no listener, CONNECT retries until it succeeds or a specified timeout expires.  Other errors such a the file existing but not being a socket file produce an OPENCONN error.</p></li><li class="listitem"><p>LOCAL sockets do not use the ZDELAY and ZIBFSIZE deviceparameters.</p></li></ul></div></li><li class="listitem"><p>When CLOSE specifies a LISTENING LOCAL socket with the SOCKET= deviceparameter, the command processes DELETE and DESTROY deviceparameters if specified.</p></li><li class="listitem"><p>ZSHOW "D" shows the expanded path name as the value for the LOCAL= attribute.</p></li><li class="listitem"><p>$KEY has the path name instead of an IP address after LOCAL socket operations.</p></li></ul></div><p>(GTM-7554) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-7603"></a> GT.M processes appropriately handle standard input directed to a file and standard output directed to a socket. This situation could arise when an inetd invoked process in turn invoked MUMPS after redirecting its standard input to a file. Previously, such a configuration caused a KILLBYSIGSINFO1 error. [UNIX] (GTM-7603)</p></li><li class="listitem"><p><a name="GTM-7709"></a> In UTF-8 mode, using both the FIXED and FOLLOW deviceparameter appropriately maintain buffered input when interrupted by an INTRPT, appropriately maintain $X and $Y, and detect proper lengths for fixed length READs (READ x#n). Previously, when a READ resumed from an INTRPT, it lost any input received before the INTRPT and fixed length reads sometimes improperly maintained $X and $Y, which could lead to incorrect READ length and/or hangs. [UNIX](GTM-7709)</p></li><li class="listitem"><p><a name="GTM-7719"></a> If GT.M detects an error in using a system service to start or stop a system-maintained timer (used internally to schedule timed events, such as HANGs and dirty buffer flushes), it sends a SETITIMERFAILED diagnostic message to the operator log. In some cases, these errors are self-correcting but might cause some actions to take longer than intended; in those cases GT.M tags the operator log message as warning and lets the process continue. In other cases, the process may be subject to indefinite hanging, possibly holding shared resources, and GT.M terminates the process with a fatal SETITIMERFAILED error. Previously, GT.M did not verify the status of timer-setting operations. [UNIX] (GTM-7719)</p></li><li class="listitem"><p><a name="GTM-7739"></a> A SOCKET OPEN or USE with the LISTEN device parameter properly handles errors while assigning a IP address and port, or path for the socket file to the socket (perform a bind system call).  Errors other than EADDRINUSE ("address is already in use") set $DEVICE and, if IOERROR="TRAP" is enabled, raise an error condition.  For EADDRINUSE errors on TCP sockets, GT.M reties the operation until the timeout, if specified, expires and then treats it as for other errors.  GT.M does not retry EADDRINUSE errors on LOCAL sockets but treats them immediately as an error.  Previously, $DEVICE was not set for errors, EADDRINUSE returned without raising an error even if no timeout was specified, and other errors always raised an error regardless of the IOERROR mode. (GTM-7739)</p></li><li class="listitem"><p><a name="GTM-7750"></a> Auto-ZLINK and ZLINK commands without a .m or .o file extension in their argument determine the need to recompile based on whether the object file was more recently modified than the source file using time in nanoseconds, as provided by the underlying system call. Note that, although the format of the file modification timestamps provides a nanosecond granularity, many supported OSs currently update the file timestamps with an accuracy of one second. Previously, GT.M compared the modification timestamps of source and object files using time in seconds. Also, the GT.M configure installation script now preserves the original timestamps for all files that are not changed by the installation. Preserving timestamps on files, particularly GT.M source and object files, is generally a better practice. Previously, all files in the installation target directory had the installation timestamp.[UNIX] (GTM-7750) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-7763"></a> In UTF-8 mode, READs for a sequential disk (SD) device appropriately detect and report bad character errors (BADCHAR), including correctly setting $DEVICE, $ZA, $KEY and $ZB. Previously, some bad character conditions incorrectly caused SYSTEM-E-UNKNOWN errors and did not appropriately maintain $DEVICE, $ZA, $KEY and $ZB. Also READs for a sequential disk using the FOLLOW deviceparameter appropriately handle timeouts. Previously, such READs could timeout prematurely. [UNIX](GTM-7763)</p></li><li class="listitem"><p><a name="GTM-7773"></a> GT.M now sets $TEST for "WRITE /WAIT(timeout)" on SOCKET devices. Previously GT.M did not update $TEST in this case. (GTM-7773)</p></li><li class="listitem"><p><a name="GTM-7835"></a> GT.M handles restart of SOCKET connect operations properly. In V6.0-003, out-of-band operations which occurred during a socket connect caused GT.M to exit with a fatal GTMASSERT2 message while trying to restart the connect. (GTM-7835)</p></li><li class="listitem"><p><a name="GTM-7836"></a>  The sorts-after operator (]]) works correctly with NOUNDEF enabled. Previously, with an operand which was NEW'd after some local variable had been KILL'd, the operator could sometimes produce an incorrect result. (GTM-7836)</p></li><li class="listitem"><p><a name="GTM-7842"></a> ZGOTO &lt;n&gt;:&lt;entryref&gt; discards local variables NEW'd in levels n+1 and up. Previously, ZGOTO 0:&lt;entryref&gt; did not discard variables NEW'd in level 1.[UNIX](GTM-7842)</p></li><li class="listitem"><p><a name="GTM-7886"></a> When failing to load ICU libraries on AIX, GT.M now reports the correct library and message in the output error message. Previously, GT.M produced an error message that incorrectly identified the problematic ICU library.[AIX](GTM-7886)</p></li><li class="listitem"><p><a name="GTM-7896"></a> In UTF-8 mode, compiling a SET $ZPIECE() command with a literal piece separator that is an invalid UTF-8 string, such as $ZCHAR(255), does not raise a BADCHAR error. GT.M does raise BADCHAR error for SET $PIECE(), and the error shows the failing routine, line-number and the line of source that caused the error as for other compilation errors. Previously, GT.M gave inappropriate BADCHAR errors for SET $ZPIECE(), and BADCHAR errors gave no indication of which routine or line caused the error. [UNIX] (GTM-7896)</p></li><li class="listitem"><p><a name="GTM-7905"></a> The JOB command adds the child process ID to the OUTPUT and ERROR filenames for JOB'd off process after a request to do so by a VIEW command with keyword JOBPID. Previously, if the JOB command occurred in an object residing in a shared library with this VIEW setting, it produced a Segmentation Violation (SIG-11). The workarounds were to use VIEW "NOJOBPID" or to avoid putting routines issuing JOB commands with VIEW "JOBPID" into shared libraries. [UNIX] (GTM-7905)</p></li><li class="listitem"><p><a name="GTM-7908"></a> A JOB command appropriately handles situations in which the JOB'd process does not start, or terminates (for example with a SIGTERM), without notifying the process issuing the JOB command. In V6.0-002 and V6.0-003 the JOB command waited indefinitely for the nonexistent process to report its status. [UNIX](GTM-7908)</p></li><li class="listitem"><p><a name="GTM-7923"></a> Certain complicated, deeply nested patterns raise a PATMAXLEN error. Previously, these patterns terminated the process with an segmentation violation (UNIX SIG11 or OpenVMS ACCVIO). Note that the patterns in question are very complex and seem unlikely to be encountered in real applications. FIS encountered this issue in testing and has not received a customer report of such an event. (GTM-7923)</p></li></ul></div></div><div class="sect1" title="Utilities-MUPIP"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp145522832"></a>Utilities-MUPIP</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a name="GTM-7074"></a> MUPIP INTEG appends DBTN errors showing the block number following DBMBTNSIZMX errors that indicate a transaction number too large on a bit map block. Note that DBMBTNSIZMX is analogous to the DBTNTOOLG error for non-bitmap blocks. In addition, INTEG issues a DBTNLTCTN summary error with associated text including the count of DBMBTNSIZMX as well as DBTNTOOLG errors. Previously, INTEG did not report the bit map block number for a DBMBTNSIZMX or include this type of bit map error in the DBTNLTCTN summary. (GTM-7074)</p></li><li class="listitem"><p><a name="GTM-7453"></a> JOURNAL BACKWARD RECOVERY or ROLLBACK detects previous interrupted JOURNAL RECOVERY or ROLLBACK correctly. Previously, in some cases MUPIP failed to detect previous JOURNAL RECOVERY or ROLLBACK interruption and  incorrectly issued a JNLDBTNNOMATCH error. [UNIX](GTM-7453)</p></li><li class="listitem"><p><a name="GTM-7626"></a> MUPIP BACKUP and MUPIP REPLIC operations only issue a CRITSEMFAIL error during journal and receiver pool initialization when they encounter a non-transient problem. Previously, these operations could fail if their shared resources were removed by another process in a small window at the journal and receiver pool initialization phase. FIS encountered this issue in testing and has not received a customer report of such an event. [UNIX](GTM-7626)</p></li><li class="listitem"><p><a name="GTM-7743"></a> GT.M replication provides the option to encrypt communication using Transport Layer Security (TLS) version 1.  The API of the encryption plugin has functionality required for TLS, and FIS tests the reference implementation of the encryption plugin against OpenSSL (<a class="ulink" href="http://www.openssl.org/" target="_blank">http://www.openssl.org</a>). As with database encryption, FIS neither recommends nor supports any specific cryptographic library, and you are responsible for selecting and procuring the library that best meets your needs, including support for that library appropriate to your use.  FIS GT.M support includes the unmodified reference implementation of the plugin, but does not extend to any version of the plugin containing your modifications.  Note: a basic understanding of TLS is assumed - see the Wikipedia article (<a class="ulink" href="http://en.wikipedia.org/wiki/Transport_Layer_Security" target="_blank">http://en.wikipedia.org/wiki/Transport_Layer_Security</a>) for more information.</p><p>For TLS support, the reference implementation requires a configuration file, pointed to by the gtmcrypt_config environment variable. This file supports both TLS and database encryption. To support the new configuration file format, the reference implementation also requires the popular libconfig library (<a class="ulink" href="http://www.hyperrealm.com/libconfig" target="_blank">http://www.hyperrealm.com/libconfig</a>) to be installed and available; check for pre-packaged distributions for your operating system. Note that even if your environment is configured only for encrypted databases, the reference implementation requires libconfig library to be installed. The reference implementation continues to support the gtm_dbkeys environment variable for configurations that use encrypted databases but not TLS. For backward compatibility, if both $gtmcrypt_config and $gtm_dbkeys are defined, the reference implementation uses $gtm_dbkeys.</p><p>The Source and Receiver Server startup commands support the: TLSID, [NO]PLAINTEXTFALLBACK, and RENEGOTIATE_INTERVAL qualifiers:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">-TLSID=label specifies a label to identify TLS certificate and private key pairs in the configuration file for the reference implementation to use for the connection. TLSID is a required parameter if TLS is to be used. If private keys are encrypted, an environment variable of the form gtmtls_passwd_&lt;label&gt; specifies the obfuscated password. You can obfuscate passwords using the 'maskpass' utility provided along with the encryption plugin. If you chose to use unencrypted private keys, set the gtmtls_passwd_&lt;label&gt; environment variable to a non-null dummy value; this prevents inappropriate prompting for a password.</li><li class="listitem">-[NO]PLAINtextfallback (default NOPLAINtextfallback) specifies whether the replication server is permitted to fallback to plaintext communication. If NOPLAINTEXTFALLBACK is in effect, GT.M issues a REPLNOTLS error in the event it is unable to establish a TLS connection. [Note: GT.M versions prior to V6.1-000 did not support TLS for replication - if needed it could be implemented with an external application such as stunnel (<a class="ulink" href="http://stunnel.org/" target="_blank">http://stunnel.org</a>).] If PLAINTEXTFALLBACK is in effect, in the event of a failure to establish a TLS connection, GT.M issues REPLNOTLS as a warning.  Once a permitted plaintext replication connection is established for a connection session, GT.M never attempts to switch that connection session to TLS connection.</li><li class="listitem">-RENEGotiate_interval=minutes qualifier (defaults to a little over 120 minutes) specifies the time to wait before attempting to perform a TLS renegotiation. A value of zero causes GT.M never to attempt a renegotiation. The MUPIP REPLIC -SOURCE -JNLPOOL -SHOW [-DETAIL] command shows the time at which the next TLS renegotiation is scheduled, and how many such renegotiations have occurred thus far for a given secondary instance connection. As renegotiation requires the replication pipeline to be temporarily flushed, followed by the actual renegotiation, TLS renegotiation can cause momentary spikes in replication backlog.</li></ul></div><p>Other configuration parameters required to establish a successful SSL/TLS connection with the reference implementation are specified in a configuration file, described below under <a class="link" href="#tlsreplication" title="Additional information for GTM-7743 - GT.M support for TLS encryption of replication streams using a plug-in">Additional information for GTM-7743 - GT.M support for TLS encryption of replication streams using a plug-in</a>, along with an example.(GTM-7743) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-7769"></a> MUPIP JOURNAL -EXTRACT -GLOBAL=&lt;key&gt; works correctly when the key contains a string subscript with embedded double-quotes and the key specification terminates with the wildcard (*). Previously, in this combination of circumstances, JOURNAL -EXTRACT might miss some records the specification should have included. (GTM-7769)</p></li><li class="listitem"><p><a name="GTM-7820"></a> MUPIP REORG -TRUNCATE -SELECT= does a thorough job of moving vestigial blocks of KILL'd global variables so that they do not linger after unused space, thereby making it possible to release unused space efficiently.  Previously, GT.M did not move these vestigial blocks in all cases, and unused space before any block is not released to the file system.  Note that even when an entire global variable is KILL'd, a database file retains two vestigial blocks: a root block and a single empty data block for that global variable. [UNIX](GTM-7820)</p></li><li class="listitem"><p><a name="GTM-7827"></a> MUPIP EXTRACT robustly handles BINARY output format. Additionally, MUPIP EXTRACT, in BINARY mode, operates faster on encrypted databases. Previously, in certain rare cases involving heavy concurrent updates, MUPIP EXTRACT, in BINARY mode, generated corruptor empty extract files and performed unnecessary work on encrypted databases. [UNIX](GTM-7827)</p></li><li class="listitem"><p><a name="GTM-7845"></a> Argumentless MUPIP RUNDOWN, MUPIP RUNDOWN -FILE and MUPIP RUNDOWN -REGION do not remove semaphore of a region in use. Previously, MUPIP RUNDOWN of a file with only read-only users or using differing global directories with RUNDOWN -REGION '*' could inappropriately remove the semaphore for a region, but leave its corresponding shared memory. In this state, a subsequent attempt by a process to first access a database resulted in REQRUNDOWN error. The workaround was to do an additional MUPIP RUNDOWN with no read-only processes active. [UNIX](GTM-7845)</p></li><li class="listitem"><p><a name="GTM-7853"></a> MUPIP INTEG -SUBSCRIPTS works correctly if the argument to the -SUBSCRIPTS qualifier specifies a null subscript. Previously this terminated abnormally with a segmentation violation (UNIX SIG-11 or OpenVMS ACCVIO). (GTM-7853)</p></li><li class="listitem"><p><a name="GTM-7890"></a> The Replication Receiver Server handles a case where a flow control message arrives at the receiver pool boundary. In V6.0-003, the work done for GTM-7631 introduced a new issue managing this case which caused a segmentation violation (SIG11). [UNIX](GTM-7890)</p></li><li class="listitem"><p><a name="GTM-7892"></a> If an external replication filter fails to respond within just over a minute to delivery of a mini-transaction or TP transaction, a Source or Receiver Server issues a FILTERTIMEDOUT error, stops the filter, and exits.  Previously, the servers could hang indefinitely waiting for a reply from the external filter. [UNIX](GTM-7892) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-7910"></a> Replication processes and MUPIP RUNDOWN appropriately handle a journal pool deadlock check performed while waiting for access to the journal pool resource. Previously, under unusual circumstances, such a check could fail with a segmentation violation (SIG-11). FIS encountered this issue in testing and has not received a customer report of such an event. (GTM-7910)</p></li><li class="listitem"><p><a name="GTM-7916"></a> MUPIP ONLINE ROLLBACK robustly handles cases where it fails to acquire standalone access on the Journal and/or Receive Pool. Previously, in such cases, ONLINE ROLLBACK terminated with a segmentation violation (SIG-11). FIS encountered this issue in testing and has not received a customer report of such an event.[UNIX](GTM-7916)</p></li></ul></div></div><div class="sect1" title="Utilities-Other Than MUPIP"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp145774848"></a>Utilities-Other Than MUPIP</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a name="GTM-2168"></a> This release note is included in the Utilities - Other Than MUPIP section because the most visible changes to the user interface are in GDE. Global variables with the same unsubscripted name can span multiple database regions.</p><p>To effect this change, global directories support mapping at the level of subscripts, not just based on the unsubscripted global name.</p><p>Specify the subscripted name of root nodes to map entire subtrees to a regions, for example:</p><pre class="programlisting">GDE&gt; add    -name IMPL                             -region OTHERMUMPS  ! Map MUMPS implementations to OTHERMUMPS
GDE&gt; add    -name IMPL("GT.M")                     -region MYMUMPS     ! While mapping GT.M to MYMUMPS
</pre><p>Specify ranges with a colon (:) to map ranges of subscripted names and  their subtrees to a regions. for example:</p><pre class="programlisting">GDE&gt; add    -name PRODAGE(0:10)                    -region DECADE0     ! Ranges are closed on the left and open on the right
GDE&gt; add    -name PRODAGE(10:20)                   -region DECADE1     ! PRODAGE(10) maps to DECADE1
GDE&gt; add    -name PRODAGE(20:30)                   -region DECADE2</pre><p>Ranges must be specific numbers or strings - GDE does not support wildcarding (using "*") in ranges.</p><p>You can use $CHAR() and $ZCHAR() to specify unprintable characters; the arguments must be positive integers (exponential - E syntax not allowed), and  valid code points for $CHAR() or in range for $ZCHAR(), both with respect to the current $ZCHSET.  Also, "" (an empty string) or no value (e.g. 20: or :20 or :) specify open-ended ranges, which span, on the left, from the first subscript ("") to, on the right, the last possible string , for example:</p><pre class="programlisting">GDE&gt; add    -name PRODAGE(:10)                     -region DECADE0     ! This line and the next are equivalent
GDE&gt; add    -name PRODAGE("":10)                   -region DECADE0     ! numbers up to 10
GDE&gt; add    -name PRODAGE(20:)                     -region DECADE2     ! 20 thru all numbers (&gt; 20) + strings
GDE&gt; add    -name PRODAGE(20:"")                   -region DECADE2     ! same as the add just above</pre><p>Here is the syntax to map numeric subscripts and strings to separate regions</p><pre class="programlisting">GDE&gt; add    -name MODELNUM                         -region NUMERIC
GDE&gt; add    -name MODELNUM($char(0):)              -region STRING
</pre><p>You can map global variables with the same unsubscripted name at multiple subscript levels, for example:</p><pre class="programlisting">GDE&gt; add    -name DIVISION("Europe","a":"m")       -region EUROPEAL
GDE&gt; add    -name DIVISION("Europe","m":"z")       -region EUROPEM
GDE&gt; add    -name DIVISION("Australia")            -region AUSTRALIA
GDE&gt; add    -name DIVISION("USA","South","a":"m")  -region USSAL
GDE&gt; add    -name DIVISION("USA","South","m":"{")  -region USSMZ
GDE&gt; add    -name DIVISION("USA","WestCoast")      -region USWC</pre><p>GDE merges overlapping ranges that map to the same region, for example:</p><pre class="programlisting">
GDE&gt; add    -name X(1:10)                          -region=AREG
GDE&gt; add    -name X(6:15)                          -region=AREG
GDE&gt; show -name

     *** NAMES ***
 Global                             Region
 ------------------------------------------------------------------------------
 *                                  DEFAULT
 X(1:15)                            AREG</pre><p>Specifying overlapping ranges that map to different regions produces an error, for example:</p><pre class="programlisting">GDE&gt; add    -name X(1:10)                          -region=AREG
GDE&gt; add    -name X(6:15)                          -region=BREG
%GDE-E-NAMRANGEOVERLAP, Range in name specifications X(6:15) and X(1:10) overlap using collation sequence #0</pre><p>Note that sub-ranges that map to different regions do not produce an error; for example: mapping X(1:15) and X(6:10) works because the second is entirely within the first. Only overlapping ranges (those that have a non-intersecting portion) that map to different regions produce this error.</p><p>Because string subscripts are subject to collation (the unsubscripted portion of a global variable name and numeric subscripts are not), GDE needs to know the collation sequence number associated with each unsubscripted global variable name. Zero (0) is the number for default M collation. As a consequence, when you use alternative collation(s) (other than 0), the collation transforms must be available to GDE in the same way as they are to other GT.M components. All of a global (all nodes sharing the same unsubscripted global name) must have a single collation, which is implicitly the case for globals that do not span multiple regions. Globals that do not span multiple regions and do not have any collation characteristics defined in the GBLNAME section of the global directory take on the default collation characteristics defined in the database region to which they map.  On the other hand, globals that span multiple regions have their collation implicitly (collation 0), or explicitly, established by the GBLNAME section of the global directory and cannot adopt a differing collation based on the region collation characteristic. Because GT.M determines collation for globals spanning multiple regions by the GBLNAME characteristic, which cannot change once the database files are created, GDE reports collation on many error messages. In the above example, although the overlapping ranges are numeric, GDE reports the collation sequence number as part of the error message. </p><p>GDE merges and splits ranges as it reads each NAME command. Therefore, the following does not generate an error because the second command merges the ranges and the third splits an existing range, whereas reversing the second and third would trigger the NAMRANGEOVERLAP error.</p><pre class="programlisting">
GDE&gt; add    -name X(1:10)                          -region=AREG
GDE&gt; add    -name X(6:15)                          -region=AREG
GDE&gt; add    -name X(6:15)                          -region=BREG
GDE&gt; show   -name

        *** NAMES ***
Global                             Region
 ------------------------------------------------------------------------------
 *                                  DEFAULT
 X(1:6)                             AREG
 X(6:15)                            BREG</pre><p>A point specification overrides a range specification at the same level, for example:</p><pre class="programlisting">
GDE&gt; add    -name a(1:5)                          -region=AREG
GDE&gt; add    -name a(3:4)                          -region=BREG
GDE&gt; add    -name a(3)                            -region=CREG
GDE&gt; show -name

         *** NAMES ***
 Global                             Region
 ------------------------------------------------------------------------------
 *                                  DEFAULT
 a(1:3)                             AREG
 a(3)                               CREG
 a(3:4)                             BREG
 a(4:5)                             AREG</pre><p>Adding a name and deleting it can change the mapping, for example, note the "hole" left between 80 and 90:</p><pre class="programlisting">
GDE&gt; add    -name a(1:100)                        -region=AREG
GDE&gt; add    -name a(80:90)                        -region=BREG
GDE&gt; delete -name a(80:90)
GDE&gt; show   -name

         *** NAMES ***
 Global                             Region
 ------------------------------------------------------------------------------
 *                                  DEFAULT
 a(1:80)                            AREG
 a(90:100)                          AREG
</pre><p>Specifying separate entries for a subtree provides a way to map a root to a different region, for example, note X(2) maps to BREG whereas the rest of of X is mapped to AREG:</p><pre class="programlisting">
GDE&gt; add    -name X                               -region=AREG
GDE&gt; add    -name X(2)                            -region=BREG
GDE&gt; add    -name X(2,:)                          -region=AREG</pre><p>Out-of-order ranges generate errors</p><pre class="programlisting">
GDE&gt; add    -name a(20:10)                        -region=AREG
%GDE-E-NAMRANGEORDER, Range in name specification a(20:10) specifies out-of-order subscripts using collation sequence #0</pre><p>GDE SHOW -NAME and GDE SHOW -MAP display longer lines if subscripted names exceed the 36 column limit, and display non-printable characters in string subscripts using $CHAR() or $ZCHAR() notation.</p><p>The SHOW -MAP command uses "++" as a suffix to mean "the next lexical subscript", for example:</p><pre class="programlisting">
GDE&gt; add    -name a(1)                            -region=A1
GDE&gt; show   -map

                                  *** MAP ***
   -  -  -  -  -  -  -  -  -  - Names -  -  - -  -  -  -  -  -  -
 From                            Up to                            Region / Segment / File(def ext: .dat)
--------------------------------------------------------------------------------------------------------------------------
 %                               a(1)                             REG = DEFAULT
                                                                  SEG = DEFAULT
                                                                  FILE = mumps.dat
 a(1)                            a(1)++                           REG = A1
                                                                  SEG = NONE
                                                                  FILE = NONE
 a(1)++                          ...                              REG = DEFAULT
                                                                  SEG = DEFAULT
                                                                  FILE = mumps.dat</pre><p>Here is an example of a complex mapping:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">from ^x, upto but not including ^x(5,10), maps to REG1</li><li class="listitem">from ^x(5,10), upto but not including ^x(20,40,50), maps to to REG2</li><li class="listitem">from ^x(20,40,50) through the last subscript in ^x maps to REG 3</li></ul></div><pre class="programlisting">
GDE&gt; add    -name x                               -region=REG1
GDE&gt; add    -name x(5)                            -region=REG1
GDE&gt; add    -name x(5,10:)                        -region=REG2
GDE&gt; add    -name x(5:20)                         -region=REG2
GDE&gt; add    -name x(20)                           -region=REG2
GDE&gt; add    -name x(20,40)                        -region=REG2
GDE&gt; add    -name x(20,40,50:)                    -region=REG3
GDE&gt; add    -name x(20,40:)                       -region=REG3
GDE&gt; add    -name x(20:)                          -region=REG3</pre><p>The new object-type GBLNAME (existing object-types are NAME, REGION, and SEGMENT) with the COLLATION characteristic provides a mechanism to specify the collation to use for global variables sharing the same unsubscripted name.</p><pre class="programlisting">
GDE&gt; add    -gblname a                            -collation=0
GDE&gt; show   -gblname

         *** GBLNAMES ***
 Global                             Coll  Ver
 ------------------------------------------------------------------------------
 a                                     0    0</pre><p>GDE requires the library for any non-zero collation to be available.</p><pre class="programlisting">
GDE&gt; add    -gblname a                            -collation=1
%GDE-E-GBLNAMCOLLUNDEF, Error opening shared library of collation sequence #1 library for GBLNAME a</pre><p>Regions that contain global variables sharing the same unsubscripted name that span regions must use standard null collation; attempting to use the deprecated original null collation produces an error, for example:</p><pre class="programlisting">
GDE&gt; add    -name a(1)                            -region=areg
GDE&gt; add    -region areg                          -dynamic=areg
GDE&gt; add    -segment areg                         -file=areg
GDE&gt; verify
%GDE-I-STDNULLCOLLREQ, Region DEFAULT needs Standard Null Collation enabled because global ^a spans through it
%GDE-I-STDNULLCOLLREQ, Region AREG needs Standard Null Collation enabled because global ^a spans through it
%GDE-I-VERIFY, Verification FAILED</pre><p>Notes</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">At this time, triggers are not supported for global variables sharing the same unsubscripted name that span regions.</li><li class="listitem">When subscripts are real numbers that are not exactly represented in GT.M's internal numeric representation, or which result in numeric errors such as overflow, GDE generates an error.</li><li class="listitem">No part of a region-spanning global variable sharing the same unsubscripted name can map to a remote database (accessed via GT.CM GNP).</li><li class="listitem">By accessing multiple regions, a single global reference, for example a call to $DATA(), can update $VIEW("GVSTAT",region) counters for multiple regions.</li><li class="listitem">To ensure the atomicity, consistency and isolation of operations such as KILL that can update multiple database regions, the GT.M database engine can invoke transaction processing logic even when application logic does not use transaction processing.  Thus, operations on global variables having the same unsubscripted name that span regions can update TP transaction counters in database file headers.</li><li class="listitem">When a global spans regions, you need to ensure all the spanned regions have appropriate characteristics (region KEY_SIZE, NULL_SUBSCRIPTS, and RECORD_SIZE) for the nodes they store. If the data is uniform across the regions, this typically means the spanned regions should have the same characteristics. You can use GDE templates to easily do this. Note that segment RESERVED_BYTES impacts available record size.</li><li class="listitem">When a TP transaction contains data in more than one segment, to avoid TRANS2BIG errors, you need to ensure that no one segment exceeds the transaction size limit. BLOCK_SIZE and GLOBAL_BUFFERS contribute to determining the transaction size limit for a database segment. This is not a new issue, but spanning regions may make the determination of transaction size limits more complex.</li></ul></div><p></p><div class="caution" title="Caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution: Caution"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Caution]" src="images/caution.jpg"></td><th align="left">Caution</th></tr><tr><td align="left" valign="top"><p>As MUPIP EXTRACT processes all nodes in one region of a global variable sharing the same unsubscripted name and mapping across multiple regions before moving on to the next region, nodes in the output of MUPIP EXTRACT may not be in sequential order, especially if subscripts in one region bracket subscripts in another. In the edge case where blocks in a region contain nodes with subscripts mapped to that region as well as nodes with subscripts mapped to another region according the current global directory, the output of MUPIP EXTRACT (which extracts all the nodes in a block before moving on to the next block) includes those nodes, whereas the output of ZWRITE which steps subscript by subscript through a global variable having the same unsubscripted name as determined by the current global directory does not. On the other hand, if the current global directory does not map any of a global to a region, EXTRACT does not check that region for nodes in that global.</p></td></tr></table></div><p></p><div class="caution" title="Caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution: Caution"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Caution]" src="images/caution.jpg"></td><th align="left">Caution</th></tr><tr><td align="left" valign="top"><p>GT.M associates LOCKs with resource names starting with an up-arrow (^) with the database region holding the global with the same unsubscripted name as the resource. For globals spanning multiple regions and multiple global directories this means that up-arrow LOCK resource names may not address a locking protocol in the same way as for globals that do not span multiple regions. To address this, ensure that all overlapping global directories used with up-arrow LOCK resource names and globals spanning multiple nodes map the unsubscripted global name to the same region. Alternatively, you can use LOCK resource names with no leading up-arrow and control LOCK interactions with the LOCKS global directory characteristic. </p></td></tr></table></div><p>In conjunction with this change:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>M-Database Access</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">For global variables having the same unsubscripted name that span regions, the global directory must use exactly the same collation sequence used by the database files. A mismatch results in an ACTCOLLMISMTCH error.  This requirement does not apply to global variables having the same unsubscripted name that are mapped to a single region by the global directory </li><li class="listitem"><p>Globals that span multiple regions currently only support a value of zero for numeric collation (that is, numbers collate as numbers, not as strings).</p></li><li class="listitem"><p>$VIEW("REGION",gvn) accepts a subscripted or unsubscripted global variable name, and reports all regions spanned by the tree with that unsubscripted global variable name as the root.  The first region is the region to which the root maps; other regions are in the order in which they would be encountered by traversing the subscripts in order, with duplicates removed.  For example, given the global directory configuration created with:</p><pre class="programlisting">
GDE&gt; add    -name a(1:10)                         -region=a1
GDE&gt; add    -name a(120:300)                      -region=a2
GDE&gt; add    -name a(60:325)                       -region=a3
GDE&gt; show   -name
     *** NAMES ***
 Global                             Region
 ------------------------------------------------------------------------------
 *                                  DEFAULT
 a(1:10)                            A1
 a(60:120)                          A3
 a(120:300)                         A2
 a(300:325)                         A3</pre><p>Here are some $VIEW("REGION",gvn) outputs:</p><pre class="programlisting">
GTM&gt;w $view("REGION","^a(1)")
A1
GTM&gt;w $view("REGION","^a(10)")
DEFAULT
GTM&gt;w $view("REGION","^a(60)")
A3
GTM&gt;w $view("REGION","^a")
DEFAULT,A1,A3,A2</pre></li></ul></div></li><li class="listitem"><p>To increase the useful information reported, the GVSUBOFLOW error message truncates overly long keys (gvns) it reports at GT.M's maximum key size (currently 1019 bytes).  Previously, it truncated overly long keys at the maximum key size for that database file. </p></li><li class="listitem"><p>M-Other Than Database Access</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>GT.M detects invalid numeric representations where E notation does not end with a valid integer and issues a SPOREOL error. Previously if the E was followed by nothing or only a sign, GT.M evaluated the expression as having an exponent of 0, that is: only the value to the left of the E - for example 10E as 10.</p></li><li class="listitem"><p>As the representation of subscripts in the database differs from that in process address space, new $VIEW() commands allow application code to view the database representation of subscripts.  $VIEW("YGVN2GDS",&lt;gvn&gt;[,collnum]) provides the database representation of gvn, for example:</p><pre class="programlisting">
GTM&gt;set x=$VIEW("YGVN2GDS","^A(1,""abcd"")") zwrite x for i=1:1:$zlength(x) write $zascii($zextract(x,i))," "
x="A"_$C(0)_" "_$C(17,0,255)_"abcd"_$C(0,0)
65 0 191 17 0 255 97 98 99 100 0 0 
GTM&gt;</pre><p>$VIEW("YGDS2GVN",&lt;gds&gt;[,collnum]) is the inverse function, e.g., with the value of x from above:</p><pre class="programlisting">GTM&gt;set y=$VIEW("YGDS2GVN",x)  zwrite y
 y="^A(1,""abcd"")"

GTM&gt;</pre></li><li class="listitem"><p>The $VIEW("REGION",&lt;namevalue&gt;) function produces the GVSUBSERR when &lt;namevalue&gt; is a subscripted global variable not in the same form as that generated by $NAME(). You can use $NAME() inside $VIEW() to ensure that subscripts are in a correct form, for example, $VIEW("REGION",$NAME(^abcd(1,2E4))) instead of $VIEW("REGION","^abcd(1,20000)").</p></li><li class="listitem"><p>GT.M appropriately handles the case where the application code makes a legal global reference, makes a global reference that produces a KEY2BIG error followed by a reference to a global with the same unsubscripted name as the reference before the KEY2BIG error.  A regression introduced in V6.0-000 caused this sequence to produce a GTMASSERT error.</p></li><li class="listitem"><p>%GBLDEF enhancements include:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>$$kill^%GBLDEF and $$set^%GBLDEF return 0 for spanning globals. Use the global directory (GBLNAME object in GDE) to set collation characteristics for spanning globals.</p></li><li class="listitem"><p>$$kill^%GBLDEF and $$set^%GBLDEF return 0 if $tlevel is non-zero. Ensure these collation characteristic modifying commands are executed outside of a TSTART/TCOMMIT fence.</p></li><li class="listitem"><p>$$get^%GBLDEF now accepts a "reg" argument i.e. $$get^%GBLDEF(gname,reg) where reg is optional. This examines the collation characteristics of global "gname" in a specific region in case the global spans multiple regions. If "gname" global does not map to input "reg" region in the current global directory, $$get^%GBLDEF returns 0.</p></li><li class="listitem"><p>$$get^%GBLDEF(gname[,reg]) checks for collation information in 3 locations : the directory tree, global directory (GBLNAME section), database file header. Information found in one location (comma separated list of 3 values) is returned right away. If not it moves on to the next location in that order. If not found in any of the 3 locations, it returns a "0". Any errors also return "0". The directory tree and database file header locations correspond to the optional "reg" parameter (if specified) or the region to which the current global directory maps &lt;gname&gt;.</p></li></ul></div></li></ul></div></li><li class="listitem"><p>Utilities-MUPIP</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>When MUPIP CREATE adjusts the autoswitchlimit parameter to ensure proper alignment with allocation and extension, it may issue a JNLALLOCGROW message and set the journal allocation value to the minimum supported autoswitchlimit (currently 16K).</p></li><li class="listitem"><p>MUPIP EXTRACT displays details by region for output derived from globals that span regions, and a summary line at the end, for example, when ^w and ^xx do not span regions, but ^x does:.</p><pre class="programlisting">
$ mupip extract x.ext
%GTM-I-RECORDSTAT, ^w:    Key cnt: 10  max subsc len: 6  max data len: 200  max rec len: 210
%GTM-I-RECORDSTAT, ^x (region REG1):      Key cnt: 3333  max subsc len: 10  max data len: 250  max rec len: 264
%GTM-I-RECORDSTAT, ^x (region REG2):      Key cnt: 3333  max subsc len: 10  max data len: 150  max rec len: 164
%GTM-I-RECORDSTAT, ^x (region REG3):      Key cnt: 3334  max subsc len: 10  max data len: 200  max rec len: 214
%GTM-I-RECORDSTAT, ^x:    Key cnt: 10000  max subsc len: 10  max data len: 250  max rec len: 264
%GTM-I-RECORDSTAT, ^xx:   Key cnt: 10  max subsc len: 7  max data len: 200  max rec len: 211
%GTM-I-RECORDSTAT, TOTAL:         Key cnt: 10020  max subsc len: 10  max data len: 250  max rec len: 264 </pre></li><li class="listitem"><p>For a global that spans multiple regions, the RECORDSTAT informational messages generated by MUPIP EXTRACT include per-region data for that global as well as aggregate data across all spanned regions. The per-region RECORDSTAT message indicates the region name in parentheses after the global name. The summary RECORDSTAT message does not have any region name. </p></li><li class="listitem"><p>MUPIP REORG and MUPIP SIZE print the region name (as mapped to by the current global directory) in parenthesis after the global name for each global they operate on. </p></li></ul></div></li><li class="listitem"><p>Utilities - Other Than MUPIP</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>When DSE FIND -KEY determines that the specified key (gvn) does not map to the current region, it additionally displays the region that that key maps to in the current global directory. The -NOGBLDIR qualifier supresses the region warning functionality. -GBLDIR is the default, but may also be explicitly specified. This addresses the need to locate the appropriate region when multiple database files contain nodes from the same unsubscripted global variable name.</p></li><li class="listitem"><p>GDE accepts LOCKSPACE up to the maximum of 64Ki (512 byte) pages for MM databases.  Previously, it restricted MM databases to 1,000 pages, requiring a MUPIP SET after MUPIP CREATE to configure larger LOCKSPACE sizes.</p></li><li class="listitem"><p>For MM, GDE prints the VALTOOBIG error if reserved_bytes is specified more than 64K. Previously, the errors it produced in this situation were confusing.</p></li><li class="listitem"><p>GDE uses space-dash (" -") as the delimiter to introduce a qualifier, consistent with UNIX shell parsing conventions. Previously, GDE did not require the space before the dash.</p></li><li class="listitem"><p>In OpenVMS, GDE restricts keys to a maximum supported size of 255 bytes. This corrects a regression introduced when the maximum supported key size on UNIX grew to 1018 bytes. [OpenVMS]</p></li><li class="listitem"><p>In OpenVMS, the PREFIXBAD error message mentions that the default region ($DEFAULT) need not start with an alphabetic character; in UNIX the message remains unchanged. [OpenVMS]</p></li><li class="listitem"><p>GDE does not require BEFORE or NOBEFORE to be specified when defining journaling characteristics - when this characteristic is no explicitly specified, GDE inherits the setting defined in the appropriate template. Previously, skipping this specification produced a "%GDE-E-QUALREQD, Before_image required" error.</p></li><li class="listitem"><p>GDE SHOW -COMMANDS -FILE=filename restricts output to the specified file. Previously it produced output to the screen as well as to the filename specified.</p></li><li class="listitem"><p>GDE SHOW -COMMANDS produces a compact and readable output, adjusting templates to minimize the quailfiers needed on other commands. Please consider this when creating new regions and segments in a global directory created from a SHOW -COMMANDS output as the defaults come from the templates. Previously, SHOW -COMMANDS produced a more literal representation of the current state, retaining the template defaults unchanged.</p></li><li class="listitem">When invoked from an M program with a DO, GDE returns control to the calling M program.  Previously, GDE terminated the process with a HALT on an EXIT or a QUIT issued to GDE.  This behavior of GDE is a change that is not backwards compatible.  Note that if you invoke GDE from a GT.M process, and modify the map of global directly currently opened by that process, you must HALT and restart the process for the revised mapping to take effect.  FIS intends for an invocation of GDE that does not change the mapping of any global directory loaded by the process to leave the process state unchanged on return; please report any change in process state under these conditions to your GT.M support channel.  FIS expects users normally run GDE from the shell via mumps -run GDE, and in this normal use case, there is no change to GDE behavior.</li></ul></div></li><li class="listitem"><p>The GBLNAME object and COLL qualifier in GDE specify collation characteristics for a global name; a value of zero for COLL qualifier to specifies standard M collation.  The first time that a GT.M processes accesses a global variable name in a database file, it determines the collation sequence as follows:</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>If a Global Variable Tree (GVT) exists (that is, global variable nodes exist, or have previously existed, even if they have been KILL'd), use the existing collation:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>If there is a collation specified in the Directory Tree (DT) for that variable, use it after confirming that this matches the collation in the global directory.</p></li><li class="listitem"><p>else (that is, there is no collation specified in the DT): </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>If there is collation specified for that global variable in the global directory use it</p></li><li class="listitem"><p>else if there is a default for that database file, use it</p></li><li class="listitem"><p>else (that is, neither exists), use standard M collation</p></li></ul></div></li></ul></div></li><li class="listitem"><p>else (that is, a GVT does not exist, which in turn means there is no DT):</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>If there is collation specified for that global variable in the global directory use it</p></li><li class="listitem"><p>else, if there is a default for that database file, use it</p></li><li class="listitem"><p>else (that is, neither exists), use standard M collation</p></li></ul></div></li></ul></div><p>If the collation specified in the DT does not match that specified in the global directory, GT.M issues an ACTCOLLMISMTCH error.  Previously, GT.M did not store collation information in the global directory.  Also, previously, GT.M did not protect itself against inadvertently reporting and using incorrect subscripts of an existing global variable due to a change in the collation sequence in the database file header made with DSE.  Note that such a change with DSE would have required abnormal, and not recommended, actions on the part of an operator.  </p></li></ul></div><p>[UNIX, except as noted] (GTM-2168) <span class="inlinemediaobject"><img src="images/chkmrkb.png" alt="[!Alert!]"></span> <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-5572"></a> GDE ignores spaces in file names supplied for scripted operation invoked with @; Previously, accidental trailing spaces could cause hard to diagnose errors. (GTM-5572)</p></li><li class="listitem"><p><a name="GTM-7562"></a> DSE remains in the same region after a DUMP -BLOCK operation where records in the dumped block contained global names mapping to a different region.  Previously DSE incorrectly switched to the region mapped, causing subsequent DSE commands to operate on the wrong database file. (GTM-7562)</p></li><li class="listitem"><p><a name="GTM-7693"></a> GDE treats text after an exclamation point (!) as a comment, whether or not in a command file. Exclamation points within quoted strings do not create comments. Previously, GDE only treated command file lines starting with an exclamation point as comments. (GTM-7693) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-7742"></a> GDE accepts the -MUTEX_SLOTS=&lt;i&gt; qualifier for segment objects with minimum of 1Ki and a maximum of 32Ki. This facilitates establishing an initial value for this database parameter. Previously, setting -MUTEX_SLOTS required MUPIP SET, which is still available for adjusting existing databases. (GTM-7742) <span class="inlinemediaobject"><img src="images/chkmrkg.png" alt="[!New Feature!]"></span></p></li><li class="listitem"><p><a name="GTM-7848"></a> The bypass mechanism DSE and LKE use to open a busy database uses more robust logic to report their action. Previously the process could generate a series of misleading error messages and fail. The workaround was to retry the operation. [UNIX](GTM-7848)</p></li><li class="listitem"><p><a name="GTM-7858"></a> gtmsecshr ignores requests to ensure that a non-existent process is not suspended.  Previously, it issued a warning under these circumstances, which can arise when a process holds a shared resource just before terminating.  [UNIX](GTM-7858)</p></li><li class="listitem"><p><a name="GTM-7866"></a> GTMJI allows assigning ISVs to M gtm_string_t-type input/output arguments in call-in invocations. Previously, assigning the values of certain ISVs to gtm_string_t-type input/output arguments caused segmentation violations. [IBM System p AIX, Sun SPARC Solaris, x86_64 GNU/Linux, x86 GNU/Linux] (GTM-7866)</p></li></ul></div></div><div class="sect1" title="More Information"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp145809904"></a>More Information</h2></div></div></div><div class="sect2" title="Additional information for GTM-7743 - GT.M support for TLS encryption of replication streams using a plug-in"><div class="titlepage"><div><div><h3 class="title"><a name="tlsreplication"></a>Additional information for GTM-7743 - GT.M support for TLS encryption of replication streams using a plug-in</h3></div></div></div><div class="sect3" title="Configuration File"><div class="titlepage"><div><div><h4 class="title"><a name="idp145776256"></a>Configuration File</h4></div></div></div><p>The configuration file, pointed to by $gtmcrypt_config, is divided into two sections: Database encryption section and the TLS section. </p><pre class="programlisting">
/* Database encryption section */
 
database: {
      keys: (
            {
                  dat: "/tmp/mumps.dat";  /* Encrypted database file. */
                  key: "/tmp/mumps.key";  /* Encrypted symmetric key. */
            },
            {
                  dat: "/tmp/a.dat";
                  key: "/tmp/a.key";
            },
            ...
      );
}
 
/* TLS section */
 
tls: {
      /* Certificate Authority (CA) verify depth provides an upper limit on the number of CAs to look up for verifying a given
       * certificate. The depth count is described as ''level 0:peer certificate'', ''level 1: CA certificate'',
       * ''level 2: higher level CA certificate'', and so on. The default verification depth is 9.
       */
      verify-depth: 7;
 
      /* CAfile: points to a file, in PEM format, describing the trusted CAs. The file can contain several CA certificates identified by:
       * -----BEGIN CERTIFICATE-----
       * ... (CA certificate in base64 encoding) ...
       * -----END CERTIFICATE-----
       * sequences.
       */
      CAfile: "/gtc/staff/gtm_test/current/tls/certs/CA/gtmCA.crt";
 
      /* CApath: points to a directory containing CA certificates in PEM format. The files each contain one CA certificate. The files are
       * looked up by the CA subject name hash value, which must hence be available. If more than once certificate with the same
       * name hash value exists, the extension must be different (e.g. 9d66eef0.0, 9d66eef0.1 etc). The directory is typically
       * created by the OpenSSL tool 'c_rehash'.
       */
      CApath: "/gtc/staff/gtm_test/current/tls/certs/CA/";
      
      /* Diffie-Hellman parameters used for key-exchange. Either none or both have to be specified. If neither is specified, then
       * then the data is encrypted with the same keys that are used for authentication.
       */
      dh512: "/gtc/staff/gtm_test/current/tls/dh512.pem";
      dh1024: "/gtc/staff/gtm_test/current/tls/dh1024.pem";
 
      /* crl: points to a file containing list of revoked certificates. This file is created by the openssl utility. */
      crl: "/gtc/staff/gtm_test/current/tls/revocation.crl";
 
      /* Timeout (in seconds) for a given session. If a connection disconnects and resumes within this time interval, the session 
       * is reused to speed up the TLS handshake. A value of 0 forces sessions to not be reused. The default value is 1 hour.
       */
      session-timeout: 600;
 
      /* List of certificate/key pairs specified by identifiers. */
      PRODUCTION: {
            /* Format of the certificate and private key pair. Currently, the GT.M TLS plug-in only supports PEM format. */
            format: "PEM";
            /* Path to the certificate. */
            cert: "/gtc/staff/gtm_test/current/tls/certs/Malvern.crt";
            /* Path to the private key. If the private key is protected by a passphrase, an obfuscated version of the password
             * should be specified in the environment variable which takes the form gtmtls_passwd_&lt;identifier&gt;. For instance,
             * for the below key, the environment variable should be 'gtmtls_passwd_PRODUCTION'.
             * Currently, the GT.M TLS plug-in only supports RSA private keys.
             */
            key: "/gtc/staff/gtm_test/current/tls/certs/Malvern.key";
      };
 
      DEVELOPMENT: {
            format: "PEM";
            cert: "/gtc/staff/gtm_test/current/tls/certs/BrynMawr.crt";
            key: "/gtc/staff/gtm_test/current/tls/certs/BrynMawr.key";
      };
};</pre><p>On certain platforms, with an OpenSSL or Libgcrypt installation that provides a validated FIPS 140-2 implementation (see <a class="ulink" href="http://www.openssl.org/docs/fips/" target="_blank">http://www.openssl.org/docs/fips/</a>), with the environment variable $gtmcrypt_FIPS set to 1 (or other case-insensitive affirmative forms: "yes" or "true"), the reference implementation attempts to use OpenSSL or Libgcrypt to provide encryption that complies with FIPS 140-2. See the table below the list of platforms on which FIS has tested the reference implementation with FIPS 140-2 compliant libraries.</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>

<p>Platform</p>
</th><th>

<p>Libgcrypt</p>
</th><th>

<p>OpenSSL</p>
</th><th>

<p>OpenSSL FIPS</p>
</th></tr></thead><tbody><tr><td>

<p>Linux x86_64</p>
</td><td>

<p>1.4.5</p>
</td><td>

<p>1.0.0</p>
</td><td>

<p>1.0.1e</p>
</td></tr><tr><td>

<p>Linux x86</p>
</td><td>

<p>1.4.5</p>
</td><td>

<p>1.0.0</p>
</td><td>

<p>1.0.1e</p>
</td></tr><tr><td>

<p>AIX RS600</p>
</td><td>

<p>1.5.1</p>
</td><td>

<p>1.0.0e</p>
</td><td>

<p>1.0.1e</p>
</td></tr><tr><td>

<p>SunOS SPARC</p>
</td><td>

<p>1.5.1</p>
</td><td>

<p>1.0.0j</p>
</td><td>

<p>1.0.1e</p>
</td></tr><tr><td>

<p>HP-UX IA64</p>
</td><td>

<p>1.4.1</p>
</td><td>

<p>1.0.1e</p>
</td><td>

<p>1.0.1e</p>
</td></tr></tbody></table></div><p>On establishing a TLS connection, the Source and Receiver servers record pertinent information (the protocol, encryption algorithm, remote certificate details, etc.) in their log files. Below is an example of how this information might look:</p><pre class="programlisting">SSL/TLS Session:
  Protocol Version: TLSv1
  Session Algorithm: DHE-RSA-AES256-SHA
  Compression: NONE
  Session Reused: NO
  Session-ID: 53326BB9724A08C3884409A9B8415A6FBFBDDFEB3F572344B732941E698E106F
  Session Expiry: Mon Dec 16 09:39:45 2013
  Secure Renegotiation IS supported
Peer Certificate Information:
  Asymmetric Algorithm: rsaEncryption (4096 bit)
  Subject: /C=US/ST=PA/O=GT.M, Inc./L=Malvern/CN=instance2.gtm.com/OU=GT.M Test System Instance2/emailAddress=instance2@gtm.com
  Issuer: /C=US/ST=PA/O=GT.M, Inc./L=Malvern/CN=www.gtm.com/OU=GT.M Certificate Authority/emailAddress=gtmca@gtm.com
  Validity:      
    Not Before: Oct  4 04:09:20 2013 GMT
    Not After: Oct  2 04:09:20 2023 GMT</pre></div><div class="sect3" title="TLS authentication"><div class="titlepage"><div><div><h4 class="title"><a name="idp145790320"></a>TLS authentication</h4></div></div></div><p>To use TLS, the communicating parties need to authenticate each other. If the authentication succeeds, the parties encrypt the subsequent communication. TLS authentication uses certificates signed by Certificate Authorities (CAs). Certificate Authorities' certificates themselves are signed (and trusted) by other CAs eventually leading to a Root CA, which self-signs. its own certificate Although the topic of certificates, and the use of software such as OpenSSL is well beyond the scope of GT.M documentation, the steps below illustrate the quick-start creation of a test environment using Source and Receiver certifications with a self-signed Root CA certificate.</p></div><div class="sect3" title="Generating a self-signed root certificate authority"><div class="titlepage"><div><div><h4 class="title"><a name="idp145863120"></a>Generating a self-signed root certificate authority</h4></div></div></div><p>Creating a root certificate authority involves three steps.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Generate a private key with the OpenSSL command: <code class="code">openssl genrsa -des3 -out ca.key 4096</code>. The command prompts for a password with which to protect the private key.</p></li><li class="listitem"><p>Generate a self-signed certificate with the OpenSSL command: <code class="code">openssl req -new -x509 -days 365 -key ca.key -out ca.crt</code>. The command first prompts for the password of the private key followed by a series of interactive queries regarding the attributes of the certificate. Below is sample output:</p><pre class="programlisting">
Enter pass phrase for ca.key:
You are about to be asked to enter information that will be incorporated into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
</pre><p><code class="code">-----</code></p><pre class="programlisting">
Country Name (2 letter code) [AU]:<span class="bold"><strong>US</strong></span>
State or Province Name (full name) [Some-State]:<span class="bold"><strong>PA</strong></span>
Locality Name (eg, city) []:<span class="bold"><strong>Malvern</strong></span>
Organization Name (eg, company) [Internet Widgits Pty Ltd]:<span class="bold"><strong>Example Pvt. Ltd</strong></span>
Organizational Unit Name (eg, section) []:<span class="bold"><strong>Certificate Authority</strong></span>
Common Name (e.g. server FQDN or YOUR name) []:<span class="bold"><strong>www.example.com</strong></span>
Email Address []:<span class="bold"><strong>example@example.com</strong></span>
</pre></li></ol></div><p>At this point, ca.crt is a root certificate that can be used to sign other certificates (including intermediate certificate authorities). The private key of the root certificate must be protected from unauthorized access. </p></div><div class="sect3" title="Generating leaf-level certificates"><div class="titlepage"><div><div><h4 class="title"><a name="idp145882528"></a>Generating leaf-level certificates</h4></div></div></div><p>The root certificate is used to sign regular, leaf-level certificates. Below are steps showing the creation of a certificate to be used to authenticate a GT.M Source Server with a GT.M Receiver Server (and vice-versa).</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Generate a private key. This is identical to step (a) of root certificate generation.</p></li><li class="listitem"><p>Generate a certificate sign request with the OpenSSL command <code class="code">openssl req -new -key client.key -out client.csr</code>. The command first prompts for the password of the private key followed by a series of interactive queries regarding the attributes of the certificate. Below is sample output:</p><pre class="programlisting">Enter pass phrase for client.key:
You are about to be asked to enter information that will be incorporated into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.</pre><p><code class="code">-----</code></p><pre class="programlisting">Country Name (2 letter code) [AU]:<span class="bold"><strong>US</strong></span>
State or Province Name (full name) [Some-State]:<span class="bold"><strong>PA</strong></span>
Locality Name (eg, city) []:<span class="bold"><strong>Malvern</strong></span>
Organization Name (eg, company) [Internet Widgits Pty Ltd]:<span class="bold"><strong>XYZQ International</strong></span>
Organizational Unit Name (eg, section) []: <span class="bold"><strong>OurSourceServer</strong></span>
Common Name (e.g. server FQDN or YOUR name) []:<span class="bold"><strong>www.xyzq.com</strong></span>
Email Address []:<span class="bold"><strong>xyzq@xyzq.com</strong></span>
Please enter the following 'extra' attributes to be sent with your certificate request
A challenge password []:<span class="bold"><strong>challenge</strong></span>
An optional company name []:<span class="bold"><strong>XYZQ Pvt. Ltd</strong></span>
</pre><p>Typically, organization that generates the certificate sign then sends it to a certificate authority (or a root certificate authority), which audits the request and signs the certificate with its private key, thereby establishing that the certificate authority trusts the company/organization that generated the certificate and requested its signing. In this example, we sign the certificate sign request with the root certificate generated above.</p></li><li class="listitem"><p>Sign the certificate sign request with the OpenSSL command: <code class="code">openssl x509 -req -days 365 -in client.csr -CA ca.crt -CAkey ca.key -set_serial 01 -out client.crt</code>.  The command also specifies the number of days that the certificates is valid (unless revoked earlier). Below is sample output:</p><pre class="programlisting">
Signature ok
subject=/C=US/ST=PA/L=Malvern/O=XYZQ International/OU=OurSourceServer/CN=www.xyzq.com/emailAddress=xyzq@xyzq.com
Getting CA Private Key
Enter pass phrase for ca.key:
</pre></li></ol></div><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="images/important.jpg"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>Keep the self-signed root certificate authority and leaf-level certificates in a secure location. Protect their directories with 0500 permissions and the individual files with 0400 permissions so that unauthorized users cannot access them. </p></td></tr></table></div></div><div class="sect3" title="Generating a configuration file"><div class="titlepage"><div><div><h4 class="title"><a name="idp145838752"></a>Generating a configuration file </h4></div></div></div><p>At this point, we have created a leaf-level certificate that is signed by a self-signed root certificate for the GT.M Source instance. After creating and signing a similar leaf-level certificate for the GT.M Receiver Server, we can create a minimal configuration file that can use TLS communication.</p><pre class="programlisting">tls: {
     verify-depth: 7;
     CAfile: "/path/to/ca.crt";
     OurSourceServer: {
           format: "PEM";
           cert: "/path/to/client.crt";
           key: "/path/to/client.key";
     };
};</pre><p>The environment variable $gtmcrypt_config  must specify the path to the above configuration file. The environment variable gtmtls_passwd_ OurSourceServer must specify an obfuscated version of the password for the client's private key. Use the maskpass utility provided with your GT.M distribution to create an obfuscated password.</p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Important"><tr><td rowspan="2" align="center" valign="top" width="12pt"><img alt="[Important]" src="images/important.jpg"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>Effective V6.1-000, the gtm_dbkeys environment variable and the master key file it points to are deprecated in favor of the libconfig format encryption configuration file pointed to by the gtmcrypt_config environment variable. Although V6.1-000 supports the use of $gtm_dbkeys for database encryption, FIS plans to discontinue support for it in the very near future. To convert master key files to libconfig format configuration files, please click on <a class="ulink" href="downloadables/CONVDBKEYS.html" target="_blank"><span class="inlinemediaobject"><img src="images/download.png" alt="Download CONVDBKEYS.m"></span>
</a> to download the CONVDBKEYS.m program and follow instructions in the comments near the top of the program file. You can also download CONVDBKEYS.m from http://tinco.pair.com/bhaskar/gtm/doc/articles/downloadables/CONVDBKEYS.m. Please convert master key files to libconfig format at your earliest convenience. </p></td></tr></table></div></div><div class="sect3" title="Known Issues/Limitations"><div class="titlepage"><div><div><h4 class="title"><a name="idp145871632"></a>Known Issues/Limitations</h4></div></div></div><p>During internal testing, the GT.M group identified that, in rare cases, the Source and Receiver Server failed to successfully establish SSL/TLS handshake (typically after a restart) and exited with the following error:</p><pre class="programlisting">Source:
%GTM-E-TLSHANDSHAKE, Connection to remote side using SSL/TLS protocol failed
%GTM-I-TEXT, error:1408C095:SSL routines:SSL3_GET_FINISHED:digest check failed

Receiver:
%GTM-E-TLSIOERROR, Error during SSL/TLS recv operation
%GTM-I-TEXT, error:1409441B:SSL routines:SSL3_READ_BYTES:tlsv1 alert decrypt error</pre><p>If this happens frequently, consider disabling session reuse by setting "session-timeout" configuration parameter to 0.</p></div><div class="sect3" title="Next Steps"><div class="titlepage"><div><div><h4 class="title"><a name="idp145893104"></a>Next Steps</h4></div></div></div><p>Please refer to OpenSSL documentation <a class="ulink" href="http://www.openssl.org/docs/" target="_blank">http://www.openssl.org/docs/</a> for information on how to create intermediate CAs, Diffie-Hellman parameters, Certificate Revocation Lists, and so on.</p></div></div></div><div class="sect1" title="Error and Other Messages"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp145814960"></a>Error and Other Messages</h2></div></div></div><div class="sect2" title="ACTCOLLMISMTCH"><div class="titlepage"><div><div><h3 class="title"><a name="GTMACTCOLLMISMTCH"></a>ACTCOLLMISMTCH <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>Global ^gggg inherits alternative collation sequence #nnnn from global directory but database file dddd contains different collation sequence #mmmm for this global</em></span></p><p>Run Time Error: This indicates that the global gggg inherits collation nnnn from the global directory (globals that span multiple regions inherit collation 0 by default) but the directory tree in database file dddd contains a different collation sequence mmmm for this global.</p><p>Action: If nnnn is the right collation sequence to use, fix the database file dddd by using a temporary global directory that maps all names to dddd, extract the global, KILL it, use $$set^%GBLDEF to fix the alternative collation for gggg from mmmm to nnnn, reload the global from the extract, switch back to the regular global directory. If mmmm is the right collation sequence to use, recreate the global directory and define GBLNAME gggg to have that collation instead.</p></div><div class="sect2" title="DEVPARMTOOSMALL"><div class="titlepage"><div><div><h3 class="title"><a name="GTMDEVPARMTOOSMALL"></a>DEVPARMTOOSMALL <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>DEVPARMTOOSMALL, Deviceparameter must be greater than zero (0)</em></span></p><p>Run/Compile Time Error: This error occurs when the TIMEOUT=&lt;seconds&gt; deviceparameter of a CLOSE command specifies a value less than one second. For PIPE devices that are not OPEN'd with the INDEPENDENT deviceparameter, the CLOSE command waits for a maximum of TIMEOUT=&lt;seconds&gt; before checking the termination status of the PIPE co-process.</p><p>Action: Specify an integer value greater than 0 as the TIMEOUT. </p></div><div class="sect2" title="FILEOPENFAIL"><div class="titlepage"><div><div><h3 class="title"><a name="GTMFILEOPENFAIL"></a>FILEOPENFAIL <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>FILEOPENFAIL, Failed to open file ffff.</em></span></p><p>MUPIP error: This message indicates that the MUPIP LOAD failed to open input file ffff.</p><p>Action: Please verify path and permission of input file ffff.</p></div><div class="sect2" title="FILTERTIMEDOUT"><div class="titlepage"><div><div><h3 class="title"><a name="GTMFILTERTIMEDOUT"></a>FILTERTIMEDOUT <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>FILTERTIMEDOUT, Replication server timed out attempting to read seqno ssss from external filter</em></span></p><p>MUPIP Error: This indicates that either a Source or Receiver Replication Server using an external filter took more than 30 sec to read a transaction with journal sequence number ssss from the user supplied external filter's output. The replication server reports this error in its log, stops the filter and terminates.</p><p>Action: Determine the cause for the filter's write delay. Fix the filter and restart the replication server with the fixed filter. If you cannot determine reason for delay, report the entire incident context to your GT.M support channel.</p></div><div class="sect2" title="GBLNAMCOLLRANGE"><div class="titlepage"><div><div><h3 class="title"><a name="GTMGBLNAMCOLLRANGE"></a>GBLNAMCOLLRANGE <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>GBLNAMCOLLRANGE, Collation sequence #nnnn is out of range (0 thru 255)</em></span></p><p>GDE Error: This indicates that the collation sequence nnnn is out of the supported range of 0 thru 255.</p><p>Action: Specify a collation sequence number inside the supported range.</p></div><div class="sect2" title="GBLNAMCOLLUNDEF"><div class="titlepage"><div><div><h3 class="title"><a name="GTMGBLNAMCOLLUNDEF"></a>GBLNAMCOLLUNDEF <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>GBLNAMCOLLUNDEF, Error opening shared library of collation sequence #nnnn for GBLNAME gggg</em></span></p><p>GDE Error: This indicates that there was an error opening the shared library for collation sequence nnnn.</p><p>Action: Define the environment variable gtm_collate_&lt;nnnn&gt; to point to the shared library for collation sequence nnnn. Also ensure the path to the library is readable and the library is usable on that platform.</p></div><div class="sect2" title="GBLNAMCOLLVER"><div class="titlepage"><div><div><h3 class="title"><a name="GTMGBLNAMCOLLVER"></a>GBLNAMCOLLVER </h3></div></div></div><p><span class="emphasis"><em>GBLNAMCOLLVER, Global directory indicates GBLNAME gggg has collation sequence #nnnn with a version #vvvv but shared library reports different version #llll</em></span></p><p>GDE Error: This indicates that the shared library for collation sequence nnnn reported the version as vvvv when collation properties for global name gggg were first added by GDE into the global directory and that this invocation of GDE noticed the shared library reporting an incompatible version llll.</p><p>Action: See Action section for COLLTYPVERSION error in the GT.M Message and Recovery Procedures Manual.</p></div><div class="sect2" title="GBLNAMEIS"><div class="titlepage"><div><div><h3 class="title"><a name="GTMGBLNAMEIS"></a>GBLNAMEIS <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>GBLNAMEIS, in gblname gggg</em></span></p><p>GDE Information: This indicates the gblname where an out-of-range value was specified. This is usually a secondary message and is preceded by a VALTOOSMALL or VALTOOBIG error.</p><p>Action: Fixing the preceding error would automatically address this accompanying informational message.</p></div><div class="sect2" title="GBLNOMAPTOREG"><div class="titlepage"><div><div><h3 class="title"><a name="GTMGBLNOMAPTOREG"></a>GBLNOMAPTOREG <span class="inlinemediaobject"><img src="images/deprecated.png" alt="Deprecated"></span></h3></div></div></div><p><span class="emphasis"><em>GBLNOMAPTOREG, Global gggg does not map to region rrrr in current global directory</em></span></p><p>Run Time Error: This indicates that a VIEW "YDIRTREE" or $VIEW("YDIRTREE") was done with global gggg and region rrrr as parameters but the global does not map to that region in the current global directory.</p><p>Action: VIEW "YDIRTREE" or $VIEW("YDIRTREE") is an undocumented feature and so should NOT be used directly. $$get^%GBLDEF is the only tool that uses this but internally catches the GBLNOMAPTOREG error. This means the GBLNOMAPTOREG error message will never be visible to the end-user.</p></div><div class="sect2" title="GVSUBSERR"><div class="titlepage"><div><div><h3 class="title"><a name="GTMGVSUBSERR"></a>GVSUBSERR <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><div class="sect2" title="GVSUBSERR"><div class="titlepage"><div><div><h3 class="title"><a name="GVSUBSERR"></a>GVSUBSERR</h3></div></div></div><p><span class="emphasis"><em>GVSUBSERR, Invalid subscripted global name specification in $VIEW() function</em></span></p><p>Run Time Error: This indicates that an invalid subscripted global name was specified as the second parameter in a $VIEW("REGION",namevalue) function call.</p><p>Action: Fix the syntax error in the subscripted global name. The subscripted global variable name must be in the form returned by $NAME(). For example, use $VIEW("REGION","^abcd(1,20000)") instead of $VIEW("REGION","^abcd(1,2E4)") </p></div></div><div class="sect2" title="INSTFRZDEFER"><div class="titlepage"><div><div><h3 class="title"><a name="GTMINSTFRZDEFER"></a>INSTFRZDEFER <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong> INSTFRZDEFER, </strong></span>Instance Freeze initiated by eeee error on region rrrrr deferred due to critical resource conflict.</p><p>Run Time informational message: eeee error encountered on region rrrrr triggered the Instance Freeze mechanism in an attempt to set the freeze, but couldn't do complete the freeze due to a critical resource conflict. Any process subsequently attempting an update will reattempt the freeze later until one succeeds or the error subsides.</p><p>Action: None necessary.</p></div><div class="sect2" title="INVCTLMNE"><div class="titlepage"><div><div><h3 class="title"><a name="GTMINVCTLMNE"></a>INVCTLMNE <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em> INVCTLMNE, Invalid control mnemonics</em></span></p><p>Run Time Error: The current device does not support the specified controlmnemonic.</p><p>Action: Check the spelling of the controlmnemonic, and be sure the mnemonicspace (if any) for the current device supports the requested usage of the controlmnemonic.</p></div><div class="sect2" title="INVMNEMCSPC"><div class="titlepage"><div><div><h3 class="title"><a name="GTMINVMNEMCSPC"></a>INVMNEMCSPC <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="bold"><strong>INVMNEMCSPC,</strong></span> Unsupported mnemonicspace xxxx</p><p>Run Time Error: The mnemonicspace xxxx specified in an OPEN command is not supported by GT.M.</p><p>Action: Replace the mnemonicspace with a supported one.</p></div><div class="sect2" title="IPADDRREQ"><div class="titlepage"><div><div><h3 class="title"><a name="GTMIPADDRREQ"></a>IPADDRREQ <span class="inlinemediaobject"><img src="images/deprecated.png" alt="Deprecated"></span></h3></div></div></div><p><span class="emphasis"><em>IPADDRREQ, Active connection requires IP address</em></span></p><p>Run Time Error: This indicates that an OPEN command specified a TCP mnemonicspace; however, it did not have a socket for an active connection or a LISTEN deviceparameter to designate a passive connection. </p><p>Action: Determine the type of connection desired and add a SOCKET=socket-id and/or a LISTEN deviceparameter.</p></div><div class="sect2" title="ISSPANGBL"><div class="titlepage"><div><div><h3 class="title"><a name="GTMISSPANGBL"></a>ISSPANGBL <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>ISSPANGBL, Operation cannot be performed on global ^gggg as it spans multiple regions in current global directory</em></span></p><p>Run Time Error: This indicates that a $$set^%GBLDEF or $$kill^%GBLDEF was attempted on a global that spans multiple regions.</p><p>Action: Only $$get^%GBLDEF is supported for spanning globals. Specify a non-spanning global or change the set/kill to a get. For spanning globals, use the GDE ADD -GBLNAME command to set collation characteristics.</p></div><div class="sect2" title="JOBSETUP"><div class="titlepage"><div><div><h3 class="title"><a name="GTMJOBSETUP"></a>JOBSETUP <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>JOBSETUP, Error receiving aaaa from parent process</em></span></p><p>Run Time Error: This message indicates that a process created by the JOB command was unable to receive setup information aaaa from the process which issued the JOB command.</p><p>Action: Report this and the associated SYSTEM-E-ENO## message to your GT.M support channel.</p></div><div class="sect2" title="JOBSTARTCMDFAIL"><div class="titlepage"><div><div><h3 class="title"><a name="GTMJOBSTARTCMDFAIL"></a>JOBSTARTCMDFAIL <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>JOBSTARTCMDFAIL, JOB command STARTUP script invocation failed.</em></span></p><p>Runtime error: This message indicates STARTUP script specified as JOB command process parameter failed.</p><p>Action: Verify the STARTUP script is present, and check it has appropriate permissions to execute.</p></div><div class="sect2" title="KEYFORBLK"><div class="titlepage"><div><div><h3 class="title"><a name="GTMKEYFORBLK"></a>KEYFORBLK <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="emphasis"><em>KEYFORBLK, But block size bbbb and reserved bytes rrrr limit key size to kkkk.</em></span></p><p>GDE Error: The maximum key for a region must fit in the block size less record overhead and any reserved bytes for that region; kkkk is the maximum key size for block size bbbb.</p><p>Action: Reduce the key size or reserved bytes or increase the block size.</p></div><div class="sect2" title="KEYWRDBAD"><div class="titlepage"><div><div><h3 class="title"><a name="GTMKEYWRDBAD"></a>KEYWRDBAD <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="emphasis"><em>KEYWRDBAD, xxxx is not a valid yyyy in this context</em></span></p><p>GDE Error: This indicates that GDE did not encounter a valid syntax element. xxxx is the invalid element. yyyy designates whether the element in context is a verb (command), object, or qualifier.</p><p>Action: Look for and correct typographical errors.</p></div><div class="sect2" title="LITNONGRAPH"><div class="titlepage"><div><div><h3 class="title"><a name="GTMLITNONGRAPH"></a>LITNONGRAPH <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong> LITNONGRAPH, </strong></span>  standard requires graphics in string literals; found non-printable: $ZCHAR(cccc) </p><p> Compile-time warning: flags a standard violation. The generated code will accept the string, even though it contains cccc, which is not a visible character.</p><p>Action: Consider revising the literal to use $[Z]CHAR() and possibly concatenation to make the code more maintainable.</p></div><div class="sect2" title="MERGEDESC"><div class="titlepage"><div><div><h3 class="title"><a name="GTMMERGEDESC"></a>MERGEDESC <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong>MERGEDESC</strong></span>, Merge operation not possible. xxxx is descendent of yyyy. </p><p>Run Time Error: This indicates that GT.M was not able to MERGE xxxx into yyyy or vice versa, because xxxx is a descendent of yyyy. When merging global variables specifications included extended references, the MERGE command issues a MERGDESC error if any part of the source or target tree, as mapped, is a descendant of the other. In MERGE <code class="code">^|"x.gld"|a(1)=^|"mumps.gld"|^a</code> there is no error if mumps.gld maps ^a to different database files than those to which x.gld maps ^a(1). A MERGDESC error occurs if any part of ^a as mapped by mumps.gld overlaps any part of ^a(1) as mapped by x.gld.</p><p>Action: Modify the routine to avoid MERGE operation between two variables where one is the descendant of the other. </p></div><div class="sect2" title="MISSINGDELIM"><div class="titlepage"><div><div><h3 class="title"><a name="GTMMISSINGDELIM"></a>MISSINGDELIM <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>MISSINGDELIM, Delimiter dddd expected before qqqq vvvv</em></span></p><p>GDE Error: This indicates that the delimiter dddd (usually dash character in Unix, slash character in VMS) is expected just before vvvv is specified. vvvv is a GDE object or qualifier indicated by qqqq.</p><p>Action: Specify the delimiter as indicated.</p></div><div class="sect2" title="MURNDWNOVRD"><div class="titlepage"><div><div><h3 class="title"><a name="GTMMURNDWNOVRD"></a>MURNDWNOVRD <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="emphasis"><em>MURNDWNOVRD, OVERRIDE qualifier used with MUPIP RUNDOWN on database file dddd</em></span></p><p>MUPIP informational message: This message records use of the OVERRIDE qualifier with a MUPIP RUNDOWN command to bypass an an error, which would normally suggest a more appropriate action.</p><p>Action: No action required. This message serves primarily to facilitate analysis of database crashes and recovery procedures.</p></div><div class="sect2" title="NAMENDBAD"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMENDBAD"></a>NAMENDBAD <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMENDBAD, Subscripted name ssss must end with right parenthesis</em></span></p><p>GDE Error: This indicates that a subscripted name ssss (global name immediately followed by a left parenthesis) was specified without a balancing right parenthesis at the end of the subscripts.</p><p>Action: Specify the subscripted name with the appropriate right parenthesis.</p></div><div class="sect2" title="NAMGVSUBOFLOW"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMGVSUBOFLOW"></a>NAMGVSUBOFLOW <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMGVSUBOFLOW, Subscripted name hhhh...tttt is too long to be represented in the database using collation value #nnnn</em></span></p><p>GDE Error: This indicates that the subscripted name is too big to be represented in the database (exceeds the maximum limits of GT.M for the key size). The message also reports the alternative collation nnnn which was used to arrive at the subscript/key representation inside the database. The head (hhhh) and tail (tttt) of the long subscript is displayed with a ... in the middle.</p><p>Action: Specify a shorter subscripted name.</p></div><div class="sect2" title="NAMGVSUBSMAX"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMGVSUBSMAX"></a>NAMGVSUBSMAX <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMGVSUBSMAX, Subscripted Name specification nnnn has more than the maximum # of subscripts (mmmm)</em></span></p><p>GDE Error: This indicates that a name nnnn was specified with more than the maximum allowed number mmmm.</p><p>Action: Specify a name within the maximum allowed number of subscripts.</p></div><div class="sect2" title="NAMLPARENNOTBEG"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMLPARENNOTBEG"></a>NAMLPARENNOTBEG <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMLPARENNOTBEG, Subscripted Name specification nnnn needs to have a left parenthesis at the beginning of subscripts</em></span></p><p>GDE Error: This indicates that a name was specified using : or , or ), which indicates a subscripted name, but the left parenthesis was missing.</p><p>Action: Specify a name with the appropriate left parenthesis.</p></div><div class="sect2" title="NAMNOTSTRSUBS"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMNOTSTRSUBS"></a>NAMNOTSTRSUBS <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMNOTSTRSUBS, Subscript #nnnn with value vvvv in name specification is not a properly formatted string subscript</em></span></p><p>GDE Error: This indicates that the nnnn'th subscript in a name did not have a valid string subscript. For example usages like GBL("AB"_) where the _ syntax is used to do concatenation of string subscripts but the right side of the _ operator is missing the string specification.</p><p>Action: Specify the name with a properly formatted string subscript.</p></div><div class="sect2" title="NAMNUMSUBSOFLOW"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMNUMSUBSOFLOW"></a>NAMNUMSUBSOFLOW <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMNUMSUBSOFLOW, Subscript #nnnn with value vvvv in name specification has a numeric overflow</em></span></p><p>GDE Error: This indicates that the nnnn'th subscript in a name specification includes a number that is too big to be represented in GT.M.</p><p>Action: Specify a subscript with a number that is inside the numeric range supported by GT.M.</p></div><div class="sect2" title="NAMONECOLON"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMONECOLON"></a>NAMONECOLON <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMONECOLON, Subscripted Name specification nnnn must have at most one colon (range) specification</em></span></p><p>GDE Error: This indicates that a subscripted name was specified with a range specification using : in the last subscript but more than one colon character was used.</p><p>Action: Specify a range with only one colon.</p></div><div class="sect2" title="NAMRANGELASTSUB"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMRANGELASTSUB"></a>NAMRANGELASTSUB <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMRANGELASTSUB, Ranges in name specification nnnn are allowed only in the last subscript</em></span></p><p>GDE Error: This indicates that one or more ranges (using : syntax) were specified in a name somewhere other than the last subscript.</p><p>Action: Specify any ranges only in the last subscript of a name.</p></div><div class="sect2" title="NAMRANGEORDER"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMRANGEORDER"></a>NAMRANGEORDER <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMRANGEORDER, Range in name specification nnnn specifies out-of-order subscripts using collation sequence #cccc</em></span></p><p>GDE Error: This indicates that the range in the name specification is out-of-order. For example yy(10:1) specifies numeric subscripts that are not in order (10 is greater than 1 and so it should have been 1:10 instead). In case of string subscripts, the collation sequence cccc is used to arrive at the subscript representation in the database and this is what gets compared for the left and right ends of the range to determine if they are in order or not. For example yy("a":"g") is in order in case of collation sequence 0 (ascii ordering) but might not be in order if the name yy has a non-zero collation defined and that collation sorts strings in reverse ascii order.</p><p>Action: Specify ranges in order i.e. lower end of the range on the left hand side and the higher end of the range on the right hand side.</p></div><div class="sect2" title="NAMRANGEOVERLAP"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMRANGEOVERLAP"></a>NAMRANGEOVERLAP <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMRANGEOVERLAP, Range in name specifications mmmm and nnnn overlap using collation sequence #cccc</em></span></p><p>GDE Error: This indicates that the subscripted name specifications mmmm and nnnn belong to the same unsubscripted global name and map to different regions but define ranges that overlap.</p><p>Action: Ranges that overlap cannot map to different regions. The only exception is sub-ranges where one range lies completely inside of another. Fix the range specifications to either map to the same region or split the ranges further to avoid overlap.</p></div><div class="sect2" title="NAMRPARENNOTEND"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMRPARENNOTEND"></a>NAMRPARENNOTEND <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMRPARENNOTEND, Subscripted Name specification nnnn cannot have anything following the right parenthesis at the end of subscripts</em></span></p><p>GDE Error: This indicates that a subscripted name was specified where the right parenthesis denoting the end of the subscripts was followed by more characters.</p><p>Action: Specify all subscripts of a name inside the left and right parenthesis that immediately follow the unsubscripted name.</p></div><div class="sect2" title="NAMSTARSUBSMIX"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMSTARSUBSMIX"></a>NAMSTARSUBSMIX <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMSTARSUBSMIX, Name specification nnnn cannot contain * and subscripts at the same time</em></span></p><p>GDE Error: This indicates that the name nnnn contains both * and subscripts which is not allowed.</p><p>Action: Specify a wildcard (*) or subscripts, but not both.</p></div><div class="sect2" title="NAMSTRSUBSCHARG"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMSTRSUBSCHARG"></a>NAMSTRSUBSCHARG <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMSTRSUBSCHARG, Subscript #nnnn with value vvvv in name specification specifies a $C/$ZCH with number cccc that is invalid in the current $zchset</em></span></p><p>GDE Error: This indicates that the nnnn'th subscript in a name specifies a string subscript using $CHAR/$ZCHAR but one of the arguments to this function (potentially in a comma-separated list) is invalid.</p><p>Action: An invalid integer argument is one which returns a null string when passed to $CHAR/$ZCHAR with the current $zchset setting. Specify the string subscript with a valid argument to $CHAR/$ZCHAR.</p></div><div class="sect2" title="NAMSTRSUBSCHINT"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMSTRSUBSCHINT"></a>NAMSTRSUBSCHINT <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMSTRSUBSCHINT, Subscript #nnnn with value vvvv in name specification does not have a positive integer inside $C/$CHAR/$ZCH/$ZCHAR</em></span></p><p>GDE Error: This indicates that the nnnn'th subscript in a name specifies a string subscript using $CHAR/$ZCHAR but one of the arguments to this function (potentially in a comma-separated list) is not a positive integer.</p><p>Action: Specify the string subscript with a positive integer argument to $CHAR/$ZCHAR.</p></div><div class="sect2" title="NAMSTRSUBSFUN"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMSTRSUBSFUN"></a>NAMSTRSUBSFUN <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMSTRSUBSFUN, Subscript #nnnn with value vvvv in name specification uses function other than $C/$CHAR/$ZCH/$ZCHAR</em></span></p><p>GDE Error: This indicates that the nnnn'th subscript in a name specifies a string subscript using an unsupported function. The only two supported functions are $CHAR or $ZCHAR (long form and short forms).</p><p>Action: Specify the string subscript using only the supported functions.</p></div><div class="sect2" title="NAMSUBSBAD"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMSUBSBAD"></a>NAMSUBSBAD <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMSUBSBAD, Subscript #nnnn with value vvvv in name specification is an invalid number or string</em></span></p><p>GDE Error: This indicates that the nnnn'th subscript in a name specification is neither a valid number or a string.</p><p>Action: Specify a valid subscript.</p></div><div class="sect2" title="NAMSUBSEMPTY"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNAMSUBSEMPTY"></a>NAMSUBSEMPTY <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NAMSUBSEMPTY, Subscript #nnnn is empty in name specification</em></span></p><p>GDE Error: This indicates that the nnnn'th subscript in a name specification is empty. For example the 2nd subscript in a(1,,3) is empty.</p><p>Action: Specify the subscripted name with a non-empty subscript.</p></div><div class="sect2" title="NCTCOLLSPGBL"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNCTCOLLSPGBL"></a>NCTCOLLSPGBL <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>NCTCOLLSPGBL, Database region rrrr contains portion of spanning global ^gggg and so cannot support non-zero numeric collation type</em></span></p><p>Run Time Error: This indicates that region rrrr contains parts of a global gggg that spans multiple regions according to the current global directory but the directory tree in rrrr indicates gggg has a non-zero numeric collation type.</p><p>Action: Spanning globals only support a value of zero for numeric collation (i.e. numbers collate as numbers, not as strings). Access region rrrr using a temporary global directory that maps all names (including gggg) to rrrr, extract the gggg global, KILL it, use $$set^%^GBLDEF to fix the numeric collation to 0, reload the global from the extract, switch back to the regular global directory. An alternative recovery action that does not require extract/load is to change the global directory so gggg is no longer a spanning global or has no mappings into any region that collates numbers using their string value.</p></div><div class="sect2" title="NOENDIANCVT"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNOENDIANCVT"></a>NOENDIANCVT <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong>NOENDIANCVT, </strong></span>Unable to convert the endian format of file dddd due to eeee</p><p>MUPIP error: One of the requirements for the MUPIP ENDIANCVT command was not met. The problems include: "database format is not the current version", "minor database format is not the current version", "some blocks are not upgraded to the current version", "kills in progress", "the database is frozen", "a GT.CM server accessing the database", "recovery was interrupted", "database creation in progress", "wc_blocked is set- rundown needed", "the database is corrupted".</p><p>Action: Resolve the reported conditions and repeat the command or use the -OVERRIDE qualifier if it is appropriate to bypass the error condition.</p><a class="indexterm" name="idp145831984"></a><a class="indexterm" name="idp146049216"></a></div><div class="sect2" title="NOSOCKETINDEV"><div class="titlepage"><div><div><h3 class="title"><a name="GTMNOSOCKETINDEV"></a>NOSOCKETINDEV <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong> NOSOCKETINDEV, </strong></span>  There is no socket in the current socket device </p><p> Run Time Error: This indicates that either no sockets have been established for the device or that all the sockets attached to the device have been closed prior to the current command. </p><p> Action: Review the logic managing the sockets and correct it. </p></div><div class="sect2" title="OPENCONN"><div class="titlepage"><div><div><h3 class="title"><a name="GTMOPENCONN"></a>OPENCONN <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong>OPENCONN,</strong></span> Error opening socket connection</p><p>Run Time Error: This indicates that the process of opening a socket resulted in a device error. </p><p>Action: Review the accompanying message(s) for additional information.</p></div><div class="sect2" title="PARFILSPC"><div class="titlepage"><div><div><h3 class="title"><a name="GTMPARFILSPC"></a>PARFILSPC <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="emphasis"><em>PARFILSPC, Parameter: xxxx file specification: yyyy</em></span></p><p>Run Time Error: This indicates that a JOB command jobparameter xxxx specified an invalid file-specification yyyy. For file specifications of the form "SOCKET:&lt;handle&gt;", this message indicates that "&lt;handle&gt;" is not a valid socket handle in the socket pool.</p><p>Action: Review the file-specification for valid syntax based on the operating system. For sockets, verify that the socket handle is in the socket pool.</p></div><div class="sect2" title="PROTNOTSUP"><div class="titlepage"><div><div><h3 class="title"><a name="GTMPROTNOTSUP"></a>PROTNOTSUP <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="emphasis"><em>PROTNOTSUP, Protocol xxxx not supported</em></span></p><p>Run Time Error: This indicates that the protocol specified on the CONNECT or LISTEN deviceparameters is not currently supported. </p><p> Action: Use TCP/IP domain sockets by specifying TCP for the protocol string or LOCAL (aka UNIX) domain sockets by specifying LOCAL.</p></div><div class="sect2" title="RECORDSTAT"><div class="titlepage"><div><div><h3 class="title"><a name="GTMRECORDSTAT"></a>RECORDSTAT <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="emphasis"><em>RECORDSTAT, gggg: Key cnt: kkkk max subsc len: ssss max rec len: dddd max node len: rrrr</em></span></p><p>MUPIP information: LOAD and EXTRACT use this to report on some characteristics of the global variables they processed, where gggg is an unsubscripted global name (region name appears in parentheses if gggg spans multiple regions), kkkk is the number of unique data cells in the array, ssss is the maximum subscripted key length, dddd is the maximum data length and rrrr is the maximum combined length of keys and subscripts.</p><p>Actions: Use the information as appropriate.</p></div><div class="sect2" title="REMOTEDBNOSPGBL"><div class="titlepage"><div><div><h3 class="title"><a name="GTMREMOTEDBNOSPGBL"></a>REMOTEDBNOSPGBL <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>REMOTEDBNOSPGBL, Database region rrrr contains portion of a spanning global and so cannot point to a remote file</em></span></p><p>Run Time Error: This indicates that region rrrr of the current global directory contains parts of a spanning global and therefore cannot point to a remote database file.</p><p>Action: Fix the global directory file so region rrrr points to a local file or remove the global nodes that span into this region.</p></div><div class="sect2" title="REPLINSTMISMTCH"><div class="titlepage"><div><div><h3 class="title"><a name="GTMREPLINSTMISMTCH"></a>REPLINSTMISMTCH <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>REPLINSTMISMTCH, Process has replication instance file ffff (jnlpool shmid = ssss) open but database dddd is bound to instance file gggg (jnlpool shmid =tttt)</em></span></p><p>Run Time Error: The process attempted an update on the replicated database dddd associated with the replication instance file ffff and journal pool shared memory id ssss; however, the process has a different replication instance file gggg or journal pool shmid tttt open (On OpenVMS, replication instance file corresponds to active global directory).</p><p>Action: A replicated database can only accept updated by processes that have the same replication instance file (defined by the environment variable gtm_repl_instance) open. Ensure the environment variable gtm_repl_instance is defined to be the same for all processes that update the same replicated database file. This error can also occur if the replication instance file was recreated (while processes were still accessing the replication instance). In this case, the name ffff and gggg would be the same but the corresponding journal pool shared memory ids would be different. To recover from this situation, shut down all processes accessing the instance from before and after the instance file recreate. Run an argumentless MUPIP RUNDOWN to clean up the older journal pool tttt and restart the instance. The following applies to OpenVMS only: Verify this database file is in the global directory used by the Source Server and restart the instance. The Source Server (which is the first process to start on a replicated instance) only binds replicated databases from its global directory to the journal pool that it creates. No other replicated database file can be bound with this journal pool.</p></div><div class="sect2" title="REPLINSTNOSHM"><div class="titlepage"><div><div><h3 class="title"><a name="GTMREPLINSTNOSHM"></a>REPLINSTNOSHM <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>REPLINSTNOSHM, Database dddd has no active connection to a replication journal pool; please verify that the database is listed in your instance file</em></span></p><p>Run Time Error: The Source server was started with a repication instance that had this database file listed but later the source server and this particular database file was shut down while other database files in this instance file were still active.</p><p>Action: To recover from this, restart the source server.</p></div><div class="sect2" title="REPLNOTLS"><div class="titlepage"><div><div><h3 class="title"><a name="GTMREPLNOTLS"></a>REPLNOTLS <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="bold"><strong>REPLNOTLS</strong></span>, xxxx requested TLS/SSL communication but the yyyy was either not started with TLSID qualifier or does not support TLS/SSL protocol</p><p>MUPIP Error: This indicates that xxxx (Source Side or Receiver Side) requested TLS/SSL communication but the other side was not started with a TLSID qualifier or was pre-V6.1-000 version that does not support TLS/SSL protocol.</p><p>Action: If both sides are running with GT.M version &gt;= V6.1-000, then make sure the TLSID qualifier is specified for both the Source and Receiver Server startup commands. If one of the instances involved in the replication is a pre V6.1-000 GT.M version, upgrade it to V6.1-000 to support TLS.</p></div><div class="sect2" title="SETITIMERFAILED"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSETITIMERFAILED"></a>SETITIMERFAILED <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>SETITIMERFAILED, A setitimer() call returned an error status of ssss</em></span></p><p>Runtime warning or fatal error: The above error is issued when GT.M fails to schedule or stop a system timer using the setitimer() system call.</p><p>Action: Verify the normal state of the OS kernel. Report the entire incident context to your GT.M support channel along with any GT.M operator log messages within the same time frame.</p></div><div class="sect2" title="SOCKBIND"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSOCKBIND"></a>SOCKBIND <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="emphasis"><em>SOCKBIND, Error in binding socket</em></span></p><p>Runtime error: This message indicates a problem binding a socket to a port or file.</p><p>Action: Check the associated ENO message for more details. </p></div><div class="sect2" title="SOCKETEXIST"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSOCKETEXIST"></a>SOCKETEXIST <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong> SOCKETEXIST, </strong></span> Socket xxxx already exists </p><p> Run Time Error: This error is issued:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>On OPEN: ATTACH=xxxx is used to name a newly created socket but the name already exists in the current Socket device's collection.</p></li><li class="listitem"><p>On USE: DETACH=xxxx is used to move a socket to the socketpool but the socketpool already has a socket with the specified name. ATTACH=xxxx is used to move a socket from the socketpool but the current Socket device already has a socket with the specified name.</p></li></ul></div><p> Action: Review the names of the sockets already present on that device and specify a unique name. </p></div><div class="sect2" title="SOCKINIT"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSOCKINIT"></a>SOCKINIT <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong>SOCKINIT,</strong></span> Error initializing socket: (errno == aaaa) xxxx</p><p>Run Time Error: This indicates that the process of opening a socket resulted in a device error. xxxx is the text description of the failure for the OS service. </p><p>Action: Review the accompanying message(s) for additional information.</p></div><div class="sect2" title="SOCKNOTFND"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSOCKNOTFND"></a>SOCKNOTFND <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong> SOCKNOTFND, </strong></span> Socket xxxx not found </p><p>Run Time Error: This error is issued:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>On CLOSE when SOCKET=xxxx is used to specify which socket to close.</p></li><li class="listitem"><p>On USE:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>DETACH=xxxx when the specified socket in not in the current Socket device. </p></li><li class="listitem"><p>ATTACH=xxxx when the specified socket is not in the socketpool. </p></li><li class="listitem"><p>SOCKET=xxxx when the specified socket is not in the current Socket device.</p></li></ul></div></li></ul></div><p> Action: Make sure the socket is created before an I/O operation attempts using it. </p></div><div class="sect2" title="SOCKPARMREQ"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSOCKPARMREQ"></a>SOCKPARMREQ <span class="inlinemediaobject"><img src="images/deprecated.png" alt="Deprecated"></span></h3></div></div></div><p><span class="emphasis"><em>SOCKPARMREQ, Socket device parameter is required for TCP open</em></span></p><p>Run Time Error: This indicates that a socket deviceparameter was not defined to OPEN a TCP connection. </p><p>Action: Establish a TCP connection by specifying the SOCKET deviceparameter for the OPEN command. For a more complete description of this deviceparameter refer to the Input/Output Processing chapter of the Programmer's Guide.</p></div><div class="sect2" title="SOCKWAIT"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSOCKWAIT"></a>SOCKWAIT <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong>SOCKWAIT,</strong></span> Error waiting for socket connection</p><p>Run Time Error: This indicates that the process of waiting for an event on a socket resulted in a device error. </p><p>Action: Review the accompanying message(s) for additional information.</p></div><div class="sect2" title="SOCKWRITE"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSOCKWRITE"></a>SOCKWRITE <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong>SOCKWRITE,</strong></span> Write to a socket failed</p><p>Run Time Error: This indicates that GT.M was unable to write to a socket.</p><p>Action: Review the accompanying messages for more information on the cause of the failure.</p></div><div class="sect2" title="STDNULLCOLLREQ"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSTDNULLCOLLREQ"></a>STDNULLCOLLREQ <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>STDNULLCOLLREQ, Region rrrr needs Standard Null Collation enabled because global gggg spans through it</em></span></p><p>GDE Information: This indicates that the global gggg spans through region rrrr but the region has GT.M Null collation enabled.</p><p>Action: All regions containing parts of spanning globals need to have Standard Null Collation enabled. Fix region rrrr to have Standard Null Collation enabled.</p></div><div class="sect2" title="STRMISSQUOTE"><div class="titlepage"><div><div><h3 class="title"><a name="GTMSTRMISSQUOTE"></a>STRMISSQUOTE <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>STRMISSQUOTE, Missing double-quote at end of string specification ssss</em></span></p><p>GDE Error: This indicates that a subscripted name was specified with string subscripts parts of which were enclosed inside double-quotes but the closing double-quote is missing.</p><p>Action: Specify the subscripted name with the appropriate double quote(s).</p></div><div class="sect2" title="TLSCONNINFO"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTLSCONNINFO"></a>TLSCONNINFO <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="bold"><strong>TLSCONNINFO</strong></span>, Failed to obtain information on the TLS/SSL connection</p><p>Run Time Warning: This indicates that an attempt to establish TLS/SSL connection failed.</p><p>Action: Review the following TEXT message from the plug-in for additional diagnostic information and adjust the environment accordingly.</p></div><div class="sect2" title="TLSCONVSOCK"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTLSCONVSOCK"></a>TLSCONVSOCK <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="bold"><strong>TLSCONVSOCK</strong></span>, Failed to convert UNIX TCP/IP socket to TLS/SSL aware socket&gt;/error</p><p>MUPIP Error: This indicates that an attempt to establish TLS/SSL connection failed.</p><p>Action: Review the following TEXT message from the plug-in for additional diagnostic information, review your keys and related certificates, and adjust the environment accordingly.</p></div><div class="sect2" title="TLSDLLNOOPEN"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTLSDLLNOOPEN"></a>TLSDLLNOOPEN <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="bold"><strong>TLSDLLNOOPEN</strong></span>, Failed to load GT.M TLS/SSL library for secure communication</p><p>MUPIP Error: This indicates that the attempt to load the GT.M dynamically linked library for TLS/SSL operation failed.</p><p>Action: Review the following TEXT message from the plug-in for additional diagnostic information, check the path and authorizations for the library, and adjust the environment accordingly.</p></div><div class="sect2" title="TLSHANDSHAKE"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTLSHANDSHAKE"></a>TLSHANDSHAKE <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="bold"><strong>TLSHANDSHAKE</strong></span>, Connection to remote side using TLS/SSL protocol failed</p><p>MUPIP Error: This indicates that an attempt to establish SSL/TLS connection failed.</p><p>Action: Review the following TEXT message from the plug-in for additional diagnostic information, and adjust the environment accordingly.</p></div><div class="sect2" title="TLSINIT"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTLSINIT"></a>TLSINIT <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="bold"><strong>TLSINIT</strong></span>, Failed to initialize GT.M TLS/SSL library for secure communication</p><p>MUPIP Error: This indicates that the attempt to initialize a secure context for TLS/SSL operation failed.</p><p>Action: Review the following TEXT message from the plug-in for additional diagnostic information, check your certificates, and adjust the environment accordingly.</p></div><div class="sect2" title="TLSIOERROR"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTLSIOERROR"></a>TLSIOERROR <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="bold"><strong>TLSIOERROR</strong></span>, Error during TLS/SSL oooo operation</p><p>MUPIP Error: This indicates that while attempting oooo operation (receive or send), the TLS/SSL library encountered an error.</p><p>Action: Review the following TEXT message from the plug-in for additional diagnostic information, and adjust the environment accordingly.</p></div><div class="sect2" title="TLSRENEGOTIATE"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTLSRENEGOTIATE"></a>TLSRENEGOTIATE <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="bold"><strong>TLSRENEGOTIATE</strong></span>, Failed to renegotiate TLS/SSL connection</p><p>MUPIP Error: This indicates that an attempt to renegotiate the SSL/TLS connection failed.</p><p>Action: Review the following TEXT message from the plug-in for additional diagnostic information, and adjust the environment accordingly.</p></div><div class="sect2" title="TMPSTOREMAX"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTMPSTOREMAX"></a>TMPSTOREMAX <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="bold"><strong> TMPSTOREMAX, </strong></span> Maximum space for temporary values exceeded </p><p>Compile Time Error: GT.M uses 1024 temporary registers to hold intermediate results of expression evaluation. Because of the line-oriented nature of the M language, these temporary registers get reused for each line. This error indicates that there is a single calculation on a line that requires more than 1024 temporary registers. </p><p>Action: Look for excessive function nesting on a very long line of code. Reduce the amount of nesting by assigning intermediate results to a variable. Alternatively, if compiling the routine with the -DYNAMIC_LITERALS qualifier, try compiling with -NODYNAMIC_LITERALS.</p></div><div class="sect2" title="TPNOSUPPORT"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTPNOSUPPORT"></a>TPNOSUPPORT <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>TPNOSUPPORT, Operation cannot be performed while inside of a TP transaction</em></span></p><p>Run Time Error: This indicates that a $$set^%GBLDEF or $$kill^%GBLDEF was attempted while inside of a TP transaction (TSTART/TCOMMIT fence).</p><p>Action: ^%GBLDEF only supports TP from the $$get entry point; it does not support inclusion of $$set or $$kill entry points within a TP transaction.</p></div><div class="sect2" title="TRIGNOSPANGBL"><div class="titlepage"><div><div><h3 class="title"><a name="GTMTRIGNOSPANGBL"></a>TRIGNOSPANGBL <span class="inlinemediaobject"><img src="images/new.png" alt="New"></span></h3></div></div></div><p><span class="emphasis"><em>TRIGNOSPANGBL, Triggers cannot be installed/deleted for global name gggg as it spans multiple regions in current global directory</em></span></p><p>Run Time Error: This indicates that the global gggg spans multiple regions and therefore cannot have triggers installed or deleted in its name.</p><p>Action: Triggers are not currently supported for globals that span multiple regions.</p></div><div class="sect2" title="VALUEBAD"><div class="titlepage"><div><div><h3 class="title"><a name="GTMVALUEBAD"></a>VALUEBAD <span class="inlinemediaobject"><img src="images/revised.png" alt="Revised"></span></h3></div></div></div><p><span class="emphasis"><em>VALUEBAD, xxxx is not a valid yyyy</em></span></p><p>GDE Error: This indicates that GDE encountered something other than the valid syntax element it was expecting. xxxx is the invalid element. yyyy is the valid element type.</p><p>Action: Specify a valid element. This error occurs if GDE is expecting an element (such as a file-specification, qualifier, or number) but receives a value that does not evaluate to the expected element type.</p></div></div></div></body>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/articles/GTM_V6.1-000_Release_Notes.html]] -->
</html>
