<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/articles/GTM_M_Read_Editing_for_Unix.html]] -->
<head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>GT.M - M Read Editing for Unix</title><link rel="stylesheet" href="e-novative_article.html" type="text/css"></link><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"></meta><meta name="description" content="
                    `
                    
                    
                    
                        
                        GT.M Group
                        Fidelity National Information Services, Inc.
                        2 West Liberty Boulevard, Suite 300
                        Malvern, PA  19355, 
                        United States of America
                     
                        
                        
                        
                     
                        
                        GT.M Support: +1 (610) 578-4226 
                        Switchboard: +1 (610) 296-8877 
                        Fax: +1 (484) 595-5101
                        http://www.sanchez-gtm.com
                        gtmsupport@fnf.com
                    
                    
                    
                    "></meta></head><body><div class="article" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="id4219460"></a><a id="return_to_top"></a>GT.M - M Read Editing for Unix</h1></div><div><h3 class="subtitle"><i>Technical Bulletin: GT.M - M Read Editing for Unix</i></h3></div><div><p class="copyright">Copyright (C) 2006 Fidelity National Information Services, Inc.</p></div><div><div xmlns="" align="center"><a href="legalnotice.html" target="_blank">Legal Notice</a></div></div><div><p class="pubdate">May 03, 2006</p></div><div><div xmlns="" class="revhistory"><table border="1" align="center" width="70%" summary="Revision history"><tr><th align="left" valign="top" colspan="2"><b>Revision History</b></th></tr><tr><td align="left">Revision 1.1</td><td align="left">03 May 2006</td></tr><tr><td align="left">Revision 1.0</td><td align="left">07 October 2005</td></tr></table></div></div><div><div class="abstract"><p class="title"><b></b></p><p>
                    <div class="informaltable"><table border="0" width="100%"><colgroup><col></col><col></col></colgroup><tbody><tr><td align="left" valign="top">
                    <p>
                    <div class="address"><p><br></br>
                        <p></p><br></br>
                        GT.M Group<br></br>
                        Fidelity National Information Services, Inc.<br></br>
                        <span class="street">2 West Liberty Boulevard, Suite 300</span><br></br>
                        <span class="city">Malvern, </span><span class="state">PA </span><span class="postcode"> 19355, </span><br></br>
                        <span class="country">United States of America</span><br></br>
                     </p></div>
                        </p>
                        </td><td align="left" valign="top">
                        <p>
                     <div class="address"><p><br></br>
                        <p></p><br></br>
                        <span class="phone">GT.M Support: +1 (610) 578-4226</span> <br></br>
                        <span class="phone">Switchboard: +1 (610) 296-8877 </span><br></br>
                        <span class="fax">Fax: +1 (484) 595-5101</span><br></br>
                        <a href="http://www.sanchez-gtm.com/" target="_top">http://www.sanchez-gtm.com</a><br></br>
                        <a href="mailto:gtmsupport@fnf.com" target="_top">gtmsupport@fnf.com</a><br></br>
                    </p></div>
                    </p>
                    </td></tr></tbody></table></div>
                    </p></div></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#id4219624">Overview</a></span></dt><dt><span class="sect1"><a href="#id4218420">User Interface</a></span></dt><dd><dl><dt><span class="sect2"><a href="#id4216713">Editing Functions</a></span></dt><dt><span class="sect2"><a href="#id4219859">New USE Device Parameters</a></span></dt><dt><span class="sect2"><a href="#id4216698">Modified USE Device Parameters</a></span></dt><dt><span class="sect2"><a href="#id4219441">Environment Variable</a></span></dt><dt><span class="sect2"><a href="#id4216928">Direct Mode Editing</a></span></dt><dt><span class="sect2"><a href="#id4218890">ZSHOW &#8220;D&#8221;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#id4216780">Typographical Conventions</a></span></dt></dl></div><div class="sect1" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id4219460">Return to top</a></p><div><h2 class="title"><a id="id4219624"></a>Overview</h2></div></div></div><p>An editing capability similar to that available at the direct mode prompt has been added to the READ statement when reading from the $PRINCIPAL device if that device is a terminal. In addition to the functions currently available in direct mode, it is possible to select whether characters typed other than at the end of the current input will overwrite existing characters (overwrite mode) or be inserted at the cursor as is the case currently (insert mode.) Only the previous input may be recalled during a READ unlike the multiple lines available during direct mode.</p><p>The default EDITING and INSERT modes can be specified with an environment variable.  Unless these features are enabled, the current functionality, which provides no line editing during M READ and insert mode during direct mode, will be retained.</p><p>Like the direct mode line editing functions, the proper functioning of editing for READ depends on setting the TERM environment variable to select a terminfo entry which matches the terminal (or terminal emulator) settings. There are some terminfo entries that may seem to work but which will fail to properly recognize function key sequences or fail to properly position the cursor in response to escape sequences from GT.M.  GT.M itself does not have any knowledge of specific terminal functions. In some cases, new terminfo entries may need to be added. The terminfo man pages for the specific platform should be consulted for the details if this is needed. The terminal (emulator) manufacturer may be able to help.</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id4219460">Return to top</a></p><div><h2 class="title"><a id="id4218420"></a>User Interface</h2></div></div></div><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id4219460">Return to top</a></p><div><h3 class="title"><a id="id4216713"></a>Editing Functions</h3></div></div></div><div class="informaltable"><table border="1" width="75%"><colgroup><col align="left"></col><col align="left"></col><col align="left"></col></colgroup><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>Editing Function</em></span></p></td><td align="left" valign="top"><p><span class="emphasis"><em>Key/Character</em></span></p></td><td align="left" valign="top"><p><span class="emphasis"><em>Direct Mode Difference</em></span></p></td></tr><tr><td align="left" valign="top"><p>Delete character to left of cursor</p></td><td align="left" valign="top"><p>Delete character<sup>[<a id="id4216630" href="#ftn.id4216630">a</a>]</sup><sup>[<a id="id4216727" href="#ftn.id4216727">b</a>]</sup> (ASCII 127) </p></td><td align="left" valign="top"><p>Backspace character (ASCII 8)is also recognized.</p></td></tr><tr><td align="left" valign="top"><p>Move left one character</p></td><td align="left" valign="top"><p>Left arrow key or &lt;ctrl&gt; B character</p></td><td align="left" valign="top"><p>-</p></td></tr><tr><td align="left" valign="top"><p>Move right one character</p></td><td align="left" valign="top"><p>Right arrow key or &lt;ctrl&gt; F character</p></td><td align="left" valign="top"><p>-</p></td></tr><tr><td align="left" valign="top"><p>Insert/overstrike toggle within a direct mode line or READ argument</p></td><td align="left" valign="top"><p>Insert key</p></td><td align="left" valign="top"><p>Not previously available in direct mode</p></td></tr><tr><td align="left" valign="top"><p>Recall previous input string</p></td><td align="left" valign="top"><p>Up arrow key</p></td><td align="left" valign="top"><p>Multiple lines can be scrolled through using both up and down arrow keys.</p></td></tr><tr><td align="left" valign="top"><p>Erase entire text to left of cursor</p></td><td align="left" valign="top"><p>&lt;ctrl&gt;-U character (erases entire line)</p></td><td align="left" valign="top"><p>-</p></td></tr><tr><td align="left" valign="top"><p>Position cursor at start of line</p></td><td align="left" valign="top"><p>&lt;ctrl&gt;-A character</p></td><td align="left" valign="top"><p>-</p></td></tr><tr><td align="left" valign="top"><p>Position cursor at end of line</p></td><td align="left" valign="top"><p>&lt;ctrl&gt;-E character</p></td><td align="left" valign="top"><p>-</p></td></tr><tr><td align="left" valign="top"><p>Deletes all characters from the cursor to the end of the line</p></td><td align="left" valign="top"><p>&lt;ctrl&gt;-K character</p></td><td align="left" valign="top"><p>-</p></td></tr><tr><td align="left" valign="top"><p>Delete character at the cursor position</p></td><td align="left" valign="top"><p>&lt;ctrl&gt;-D character</p></td><td align="left" valign="top"><p>-</p></td></tr></tbody><tbody class="footnotes"><tr><td colspan="3"><div class="footnote"><p><sup>[<a id="ftn.id4216630" href="#id4216630">a</a>] </sup>The terminal or terminal emulator may remap the backspace key to send the delete character.</p></div><div class="footnote"><p><sup>[<a id="ftn.id4216727" href="#id4216727">b</a>] </sup>The actual character recognized for this function depends on the setting of the erase character as shown by "stty -a" which is usually the delete character</p></div></td></tr></tbody></table></div></div><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id4219460">Return to top</a></p><div><h3 class="title"><a id="id4219859"></a>New USE Device Parameters</h3></div></div></div><div class="literallayout"><p><br></br>
    <em class="wordasword">[NO]EDITING                                 Applies to: TRM</em><br></br>
    </p></div><p>When EDITING mode is enabled for the $PRINCIPAL device, the use of the left and right cursor movement keys and certain &lt;CTRL&gt; characters are allowed within the current input line. The last input can be recalled using the up or down arrow key. The editing functions are the same as during direct mode command input as described in the "Line Editing" section of the "Operating &amp; Debugging in Direct Mode" chapter of the GT.M Programmer's Guide except backspace is not treated the same as the erase character from termcap which is usually delete (ASCII 127).</p><p>When EDITING mode is enabled, escape sequences do not terminate READs.</p><p>Enabling PASTHRU mode supersedes EDITING mode.</p><p>NOECHO disables EDITING mode.</p><p>If any of the EDITING &lt;CTRL&gt; characters are in the CTRAP list, their editing functions will not be available since CTRAP takes precedence. However the EDITING &lt;CTRL&gt; characters will take precedence over the TERMINATOR list.</p><p>By default, EDITING mode is disabled.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></img></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>M READ EDITING depends on the values of $X and $Y being correct. If the application sends its own escape sequences or control characters, which  change the cursor position, it must properly update $X and $Y before doing a M READ with EDITING enabled to ensure correct formatting during input.</p></td></tr></table></div><div class="literallayout"><p><br></br>
    <em class="wordasword">[NO]INSERT                                 Applies to: TRM</em><br></br>
    </p></div><p>Enables or disables insert mode for the $PRINCIPAL device. When a terminal has INSERT mode enabled, input characters are inserted at the logical position in the input stream designated by the cursor, for example in the middle of the line/record. When a terminal has INSERT mode disabled, input characters overwrite existing characters in the input stream at the logical position designated by the cursor. The insert mode can be toggled within a direct mode line or if EDITING is enabled a single READ argument&#8217;s input using the terminal&#8217;s INSERT key. The INSERT mode is reset to the default or what was last specified with USE at the beginning of each direct mode line or READ argument.</p><p>By default, INSERT mode is enabled.</p><div class="literallayout"><p><br></br>
    <em class="wordasword">OVERSTRIKE                                 Applies to: TRM</em><br></br>
    </p></div><p>Disables INSERT mode for a terminal. OVERSTRIKE is a synonym for NOINSERT.</p><p>By default, INSERT mode is enabled.</p></div><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id4219460">Return to top</a></p><div><h3 class="title"><a id="id4216698"></a>Modified USE Device Parameters</h3></div></div></div><div class="literallayout"><p><br></br>
    <em class="wordasword">[NO]ECHO                               Applies to: TRM</em><br></br>
    </p></div><p>Disabling ECHO disables the EDITING functions and any input is not available for later recall.</p><div class="literallayout"><p><br></br>
    <em class="wordasword">[NO]PASTHRU                            Applies to: TRM</em><br></br>
    </p></div><p>PASTHRU supersedes line editing.</p></div><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id4219460">Return to top</a></p><div><h3 class="title"><a id="id4219441"></a>Environment Variable</h3></div></div></div><p>By defining the environment variable "gtm_principal_editing", the defaults for EDITING and INSERT modes can be changed for the $PRINCIPAL device when it is a terminal. The value of the variable can be [NO]EDITING and/or [NO]INSERT. If both modes are specified they should be separated by a colon (i.e. &#8220;:&#8221;) and can be in any order.</p><p>Examples:</p><pre class="programlisting">
gtm_principal_editing=&#8221;NOINSERT:EDITING&#8221;
export gtm_principal_editing

gtm_principal_editing=&#8221;EDITING&#8221;
export gtm_principal_editing
    </pre></div><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id4219460">Return to top</a></p><div><h3 class="title"><a id="id4216928"></a>Direct Mode Editing</h3></div></div></div><p>When entering commands at the direct mode prompt, the insert mode can be toggled for that line by using the insert key. When GT.M starts, insert mode is enabled unless the value of the gtm_principal_editing environment variable includes the string NOINSERT. If insert mode is disabled or enabled for the $PRINCIPAL device by an USE statement before returning to direct mode, it will remain disabled or enabled at direct mode. The insert mode can be toggled within a direct mode line using the terminal&#8217;s INSERT key.</p></div><div class="sect2" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id4219460">Return to top</a></p><div><h3 class="title"><a id="id4218890"></a>ZSHOW &#8220;D&#8221;</h3></div></div></div><p> When EDITING mode is enabled or INSERT mode is disabled, the ZSHOW &#8220;D&#8221; output for the $PRINCIPAL device will include this information.</p><p>Example:</p><pre class="programlisting">
GTM&gt;zshow &#8220;D&#8221;
/dev/pts/4 OPEN TERMINAL NOPAST NOESCA NOREADS TYPE WIDTH=80 LENG=24 EDIT NOINSE
    </pre></div></div><div class="sect1" lang="en-US"><div class="titlepage"><div><p xmlns="" class="returntotop"><a href="#id4219460">Return to top</a></p><div><h2 class="title"><a id="id4216780"></a>Typographical Conventions</h2></div></div></div><p></p><p><span class="italic">Command Syntax: </span> UNIX syntax (i.e., lowercase text and "-" for flags/qualifiers) is used throughout this document. OpenVMS accepts both lowercase and uppercase text; flags/qualifiers on OpenVMS should be preceded with "/".</p><p><span class="italic">Reference Number:</span> The reference numbers used to track software enhancements and customer support requests appear in parentheses ( ).</p><p><span class="italic">Platform Identifier:</span> If a new feature or software enhancement does not apply to all platforms, the relevant platform or platforms appear in brackets [ ].</p><p></p><p>
                  <a href="#">Return to top</a>
              </p></div></div><div xmlns="" id="customfooter" align="center">
For more information, see the <a href="http://www.sanchez-gtm.com/" target="_blank" style="color: #000; font-weight: bold;">GT.M</a> web site. 
</div></body>
<!-- Mirrored [from host tinco.pair.com [file /bhaskar/gtm/doc/articles/GTM_M_Read_Editing_for_Unix.html]] -->
</html>
